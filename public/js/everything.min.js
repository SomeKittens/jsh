function mod(e,t){return(e%t+t)%t}function sanitizeHref(e){return e&&e.trim().toLowerCase().startsWith("javascript:")?null:e}function insertionIndexForObjectInListSortedByFunction(e,t,n,i){return i?t.upperBound(e,n):t.lowerBound(e,n)}function createSearchRegex(e,t,n){var i,s=t?"g":"gi";if(n)try{i=new RegExp(e,s)}catch(o){}return i||(i=createPlainTextSearchRegex(e,s)),i}function createPlainTextSearchRegex(e,t){for(var n=String.regexSpecialCharacters(),i="",s=0;s<e.length;++s){var o=e.charAt(s);-1!=n.indexOf(o)&&(i+="\\"),i+=o}return new RegExp(i,t||"")}function countRegexMatches(e,t){for(var n,i=t,s=0;i&&(n=e.exec(i));)n[0].length>0&&++s,i=i.substring(n.index+1);return s}function numberToStringWithSpacesPadding(e,t){var n=e.toString(),i=Math.max(0,t-n.length),s=Array(i+1).join(" ");return s+n}function loadXHR(e,t,n){function i(){return s.readyState===XMLHttpRequest.DONE?200===s.status?void n(s.responseText):void n(null):void 0}var s=new XMLHttpRequest;return s.open("GET",e,t),t&&(s.onreadystatechange=i),s.send(null),t?null:200===s.status?s.responseText:null}function loadResource(e){var t=new XMLHttpRequest;t.open("GET",e,!1);try{t.send(null)}catch(n){throw console.error(e+" -> "+(new Error).stack),n}return t.responseText}function importScript(e){var t=self._importScriptPathPrefix+e;if(!_importedScripts[t]){_importedScripts[t]=!0;var n=loadResource(t);if(!n)throw"empty response arrived for script '"+t+"'";var i=self._importScriptPathPrefix;self._importScriptPathPrefix+=e.substring(0,e.lastIndexOf("/")+1);try{self.eval(n+"\n//# sourceURL="+t)}finally{self._importScriptPathPrefix=i}}}function CallbackBarrier(){this._pendingIncomingCallbacksCount=0}function suppressUnused(){}function WeakReference(e){this._targetObject=e}function Size(e,t){this.width=e,this.height=t}function removeSubsequentNodes(e,t){for(var n=e;n&&n!==t;){var i=n;n=n.nextSibling,i.remove()}}function Constraints(e,t){if(this.minimum=e,this.preferred=t||e,this.minimum.width>this.preferred.width||this.minimum.height>this.preferred.height)throw new Error("Minimum size is greater than preferred.")}function AnchorBox(e,t,n,i){this.x=e||0,this.y=t||0,this.width=n||0,this.height=i||0}function isEnterKey(e){return 13===e.keyCode}function consumeEvent(e){e.consume()}function TreeOutline(e,t){this.children=[],this.selectedTreeElement=null,this._childrenListNode=e,this.childrenListElement=this._childrenListNode,this._childrenListNode.removeChildren(),this.expandTreeElementsWhenArrowing=!1,this.root=!0,this.hasChildren=!1,this.expanded=!0,this.selected=!1,this.treeOutline=this,this.comparator=null,this.setFocusable(!t),this._childrenListNode.addEventListener("keydown",this._treeKeyDown.bind(this),!0),this._treeElementsMap=new Map,this._expandedStateMap=new Map,this.element=e}function TreeElement(e,t,n){this._title=e,this.representedObject=t||{},this.root=!1,this._hidden=!1,this._selectable=!0,this.expanded=!1,this.selected=!1,this.hasChildren=n,this.children=[],this.treeOutline=null,this.parent=null,this.previousSibling=null,this.nextSibling=null,this._listItemNode=null}function InspectorBackendClass(){this._connection=null,this._agentPrototypes={},this._dispatcherPrototypes={},this._initialized=!1,this._enums={},this._initProtocolAgentsConstructor()}function InspectorFrontendHostAPI(){}function InspectorFrontendAPIImpl(){this._isLoaded=!1,this._pendingCommands=[];for(var e=InspectorFrontendHostAPI.EventDescriptors,t=0;t<e.length;++t)this[e[t][0]]=this._dispatch.bind(this,e[t][0],e[t][1],e[t][2])}Object.isEmpty=function(e){for(var t in e)return!1;return!0},Object.values=function(e){for(var t=Object.keys(e),n=t.length,i=0;n>i;++i)t[i]=e[t[i]];return t},String.prototype.findAll=function(e){for(var t=[],n=this.indexOf(e);-1!==n;)t.push(n),n=this.indexOf(e,n+e.length);return t},String.prototype.lineEndings=function(){return this._lineEndings||(this._lineEndings=this.findAll("\n"),this._lineEndings.push(this.length)),this._lineEndings},String.prototype.lineCount=function(){var e=this.lineEndings();return e.length},String.prototype.lineAt=function(e){var t=this.lineEndings(),n=e>0?t[e-1]+1:0,i=t[e],s=this.substring(n,i);return s.length>0&&"\r"===s.charAt(s.length-1)&&(s=s.substring(0,s.length-1)),s},String.prototype.escapeCharacters=function(e){var t,n=!1;for(t=0;t<e.length;++t)if(-1!==this.indexOf(e.charAt(t))){n=!0;break}if(!n)return String(this);var i="";for(t=0;t<this.length;++t)-1!==e.indexOf(this.charAt(t))&&(i+="\\"),i+=this.charAt(t);return i},String.regexSpecialCharacters=function(){return"^[]{}()\\.^$*+?|-,"},String.prototype.escapeForRegExp=function(){return this.escapeCharacters(String.regexSpecialCharacters())},String.prototype.escapeHTML=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},String.prototype.collapseWhitespace=function(){return this.replace(/[\s\xA0]+/g," ")},String.prototype.trimMiddle=function(e){if(this.length<=e)return String(this);var t=e>>1,n=e-t-1;return this.substr(0,t)+"…"+this.substr(this.length-n,n)},String.prototype.trimEnd=function(e){return this.length<=e?String(this):this.substr(0,e-1)+"…"},String.prototype.trimURL=function(e){var t=this.replace(/^(https|http|file):\/\//i,"");return e&&(t=t.replace(new RegExp("^"+e.escapeForRegExp(),"i"),"")),t},String.prototype.toTitleCase=function(){return this.substring(0,1).toUpperCase()+this.substring(1)},String.prototype.compareTo=function(e){return this>e?1:e>this?-1:0},String.prototype.removeURLFragment=function(){var e=this.indexOf("#");return-1==e&&(e=this.length),this.substring(0,e)},String.prototype.startsWith=function(e){return!this.lastIndexOf(e,0)},String.prototype.endsWith=function(e){return-1!==this.indexOf(e,this.length-e.length)},String.prototype.hashCode=function(){for(var e=0,t=0;t<this.length;++t)e=3*e+this.charCodeAt(t)|0;return e},String.prototype.isDigitAt=function(e){var t=this.charCodeAt(e);return t>=48&&57>=t},String.naturalOrderComparator=function(e,t){for(var n,i,s,o,r=/^\d+|^\D+/;;){if(!e)return t?-1:0;if(!t)return 1;if(n=e.match(r)[0],i=t.match(r)[0],s=!isNaN(n),o=!isNaN(i),s&&!o)return-1;if(o&&!s)return 1;if(s&&o){var a=n-i;if(a)return a;if(n.length!==i.length)return Number(n)||Number(i)?i.length-n.length:n.length-i.length}else if(n!==i)return i>n?-1:1;e=e.substring(n.length),t=t.substring(i.length)}},Number.constrain=function(e,t,n){return t>e?e=t:e>n&&(e=n),e},Number.gcd=function(e,t){return 0===t?e:Number.gcd(t,e%t)},Number.toFixedIfFloating=function(e){if(!e||isNaN(e))return e;var t=Number(e);return t%1?t.toFixed(3):String(t)},Date.prototype.toISO8601Compact=function(){function e(e){return(e>9?"":"0")+e}return this.getFullYear()+e(this.getMonth()+1)+e(this.getDate())+"T"+e(this.getHours())+e(this.getMinutes())+e(this.getSeconds())},Date.prototype.toConsoleTime=function(){function e(e){return(e>9?"":"0")+e}function t(e){return Array(4-e.toString().length).join("0")+e}return this.getFullYear()+"-"+e(this.getMonth()+1)+"-"+e(this.getDate())+" "+e(this.getHours())+":"+e(this.getMinutes())+":"+e(this.getSeconds())+"."+t(this.getMilliseconds())},Object.defineProperty(Array.prototype,"remove",{value:function(e,t){var n=this.indexOf(e);if(-1!==n){if(t)return void this.splice(n,1);for(var i=n+1,s=this.length;s>i;++i)this[i]!==e&&(this[n++]=this[i]);this.length=n}}}),Object.defineProperty(Array.prototype,"keySet",{value:function(){for(var e={},t=0;t<this.length;++t)e[this[t]]=!0;return e}}),Object.defineProperty(Array.prototype,"pushAll",{value:function(e){Array.prototype.push.apply(this,e)}}),Object.defineProperty(Array.prototype,"rotate",{value:function(e){for(var t=[],n=e;n<e+this.length;++n)t.push(this[n%this.length]);return t}}),Object.defineProperty(Array.prototype,"sortNumbers",{value:function(){function e(e,t){return e-t}this.sort(e)}}),Object.defineProperty(Uint32Array.prototype,"sort",{value:Array.prototype.sort}),function(){var e={value:function(e,t,n,i){function s(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}var o=this[i];s(this,n,i);for(var r=t,a=t;n>a;++a)e(this[a],o)<0&&(s(this,r,a),++r);return s(this,n,r),r}};Object.defineProperty(Array.prototype,"partition",e),Object.defineProperty(Uint32Array.prototype,"partition",e);var t={value:function(e,t,n,i,s){function o(e,t,n,i,s,r){if(!(n>=i)){var a=Math.floor(Math.random()*(i-n))+n,l=e.partition(t,n,i,a);l>s&&o(e,t,n,l-1,s,r),r>l&&o(e,t,l+1,i,s,r)}}return 0===t&&n===this.length-1&&0===i&&s>=n?this.sort(e):o(this,e,t,n,i,s),this}};Object.defineProperty(Array.prototype,"sortRange",t),Object.defineProperty(Uint32Array.prototype,"sortRange",t)}(),Object.defineProperty(Array.prototype,"stableSort",{value:function(e){function t(e,t){return t>e?-1:e>t?1:0}function n(t,n){var i=e(o[t],o[n]);return i?i:t-n}e=e||t;var i,s=new Array(this.length);for(i=0;i<this.length;++i)s[i]=i;var o=this;for(s.sort(n),i=0;i<this.length;++i)if(!(s[i]<0||i===s[i]))for(var r=i,a=this[i];;){var l=s[r];if(s[r]=-1,l===i){this[r]=a;break}this[r]=this[l],r=l}return this}}),Object.defineProperty(Array.prototype,"qselect",{value:function(e,t){if(!(0>e||e>=this.length)){t||(t=function(e,t){return e-t});for(var n=0,i=this.length-1;;){var s=this.partition(t,n,i,Math.floor((i+n)/2));if(s===e)return this[e];s>e?i=s-1:n=s+1}}}}),Object.defineProperty(Array.prototype,"lowerBound",{value:function(e,t,n,i){function s(e,t){return t>e?-1:e>t?1:0}t=t||s;for(var o=n||0,r=void 0!==i?i:this.length;r>o;){var a=o+r>>1;t(e,this[a])>0?o=a+1:r=a}return r}}),Object.defineProperty(Array.prototype,"upperBound",{value:function(e,t,n,i){function s(e,t){return t>e?-1:e>t?1:0}t=t||s;for(var o=n||0,r=void 0!==i?i:this.length;r>o;){var a=o+r>>1;t(e,this[a])>=0?o=a+1:r=a}return r}}),Object.defineProperty(Uint32Array.prototype,"lowerBound",{value:Array.prototype.lowerBound}),Object.defineProperty(Uint32Array.prototype,"upperBound",{value:Array.prototype.upperBound}),Object.defineProperty(Float64Array.prototype,"lowerBound",{value:Array.prototype.lowerBound}),Object.defineProperty(Array.prototype,"binaryIndexOf",{value:function(e,t){var n=this.lowerBound(e,t);return n<this.length&&0===t(e,this[n])?n:-1}}),Object.defineProperty(Array.prototype,"select",{value:function(e){for(var t=new Array(this.length),n=0;n<this.length;++n)t[n]=this[n][e];return t}}),Object.defineProperty(Array.prototype,"peekLast",{value:function(){return this[this.length-1]}}),function(){function e(e,t,n,i){for(var s=[],o=0,r=0;o<e.length&&r<t.length;){var a=n(e[o],t[r]);(i||!a)&&s.push(0>=a?e[o]:t[r]),0>=a&&o++,a>=0&&r++}if(i){for(;o<e.length;)s.push(e[o++]);for(;r<t.length;)s.push(t[r++])}return s}Object.defineProperty(Array.prototype,"intersectOrdered",{value:function(t,n){return e(this,t,n,!1)}}),Object.defineProperty(Array.prototype,"mergeOrdered",{value:function(t,n){return e(this,t,n,!0)}})}(),String.sprintf=function(e){return String.vsprintf(e,Array.prototype.slice.call(arguments,1))},String.tokenizeFormatString=function(e,t){function n(e){s.push({type:"string",value:e})}function i(e,t,n){s.push({type:"specifier",specifier:e,precision:t,substitutionIndex:n})}for(var s=[],o=0,r=0,a=e.indexOf("%",r);-1!==a;a=e.indexOf("%",r))if(n(e.substring(r,a)),r=a+1,"%"!==e[r]){if(e.isDigitAt(r)){for(var l=parseInt(e.substring(r),10);e.isDigitAt(r);)++r;l>0&&"$"===e[r]&&(o=l-1,++r)}var c=-1;if("."===e[r])for(++r,c=parseInt(e.substring(r),10),isNaN(c)&&(c=0);e.isDigitAt(r);)++r;e[r]in t?(i(e[r],c,o),++o,++r):(n(e.substring(a,r+1)),++r)}else n("%"),++r;return n(e.substring(r)),s},String.standardFormatters={d:function(e){return isNaN(e)?0:e},f:function(e,t){return e&&t.precision>-1&&(e=e.toFixed(t.precision)),isNaN(e)?t.precision>-1?Number(0).toFixed(t.precision):0:e},s:function(e){return e}},String.vsprintf=function(e,t){return String.format(e,t,String.standardFormatters,"",function(e,t){return e+t}).formattedResult},String.format=function(e,t,n,i,s){function o(){return'String.format("'+e+'", "'+t.join('", "')+'")'}function r(e){console.warn(o()+": "+e)}function a(e){console.error(o()+": "+e)}if(!e||!t||!t.length)return{formattedResult:s(i,e),unusedSubstitutions:t};var l,c=i,h=String.tokenizeFormatString(e,n),d={};for(l=0;l<h.length;++l){var p=h[l];"string"!==p.type?"specifier"===p.type?p.substitutionIndex>=t.length?(a("not enough substitution arguments. Had "+t.length+" but needed "+(p.substitutionIndex+1)+", so substitution was skipped."),c=s(c,"%"+(p.precision>-1?p.precision:"")+p.specifier)):(d[p.substitutionIndex]=!0,p.specifier in n?c=s(c,n[p.specifier](t[p.substitutionIndex],p)):(r("unsupported format character “"+p.specifier+"”. Treating as a string."),c=s(c,t[p.substitutionIndex]))):a('Unknown token type "'+p.type+'" found.'):c=s(c,p.value)}var u=[];for(l=0;l<t.length;++l)l in d||u.push(t[l]);return{formattedResult:c,unusedSubstitutions:u}};var createObjectIdentifier=function(){return"_"+ ++createObjectIdentifier._last};createObjectIdentifier._last=0;var Set=function(){this._set={},this._size=0};Set.fromArray=function(e){var t=new Set;return e.forEach(function(e){t.add(e)}),t},Set.prototype={add:function(e){var t=e.__identifier;t||(t=createObjectIdentifier(),e.__identifier=t),this._set[t]||++this._size,this._set[t]=e},remove:function(e){return this._set[e.__identifier]?(--this._size,delete this._set[e.__identifier],!0):!1},values:function(){var e=new Array(this._size),t=0;for(var n in this._set)e[t++]=this._set[n];return e},contains:function(e){return!!this._set[e.__identifier]},size:function(){return this._size},clear:function(){this._set={},this._size=0}};var Map=function(){this._map={},this._size=0};Map.prototype={put:function(e,t){var n=e.__identifier;n||(n=createObjectIdentifier(),e.__identifier=n),this._map[n]||++this._size,this._map[n]=[e,t]},remove:function(e){var t=this._map[e.__identifier];return t?(--this._size,delete this._map[e.__identifier],t[1]):void 0},keys:function(){return this._list(0)},values:function(){return this._list(1)},_list:function(e){var t=new Array(this._size),n=0;for(var i in this._map)t[n++]=this._map[i][e];return t},get:function(e){var t=this._map[e.__identifier];return t?t[1]:void 0},contains:function(e){var t=this._map[e.__identifier];return!!t},size:function(){return this._size},clear:function(){this._map={},this._size=0}};var StringMap=function(){this._map={},this._size=0};StringMap.prototype={put:function(e,t){return"__proto__"===e?(this._hasProtoKey||(++this._size,this._hasProtoKey=!0),void(this._protoValue=t)):(Object.prototype.hasOwnProperty.call(this._map,e)||++this._size,void(this._map[e]=t))},remove:function(e){var t;return"__proto__"===e?this._hasProtoKey?(--this._size,delete this._hasProtoKey,t=this._protoValue,delete this._protoValue,t):void 0:Object.prototype.hasOwnProperty.call(this._map,e)?(--this._size,t=this._map[e],delete this._map[e],t):void 0},keys:function(){var e=Object.keys(this._map)||[];return this._hasProtoKey&&e.push("__proto__"),e},values:function(){var e=Object.values(this._map);return this._hasProtoKey&&e.push(this._protoValue),e},get:function(e){return"__proto__"===e?this._protoValue:Object.prototype.hasOwnProperty.call(this._map,e)?this._map[e]:void 0},contains:function(e){return"__proto__"===e?this._hasProtoKey:Object.prototype.hasOwnProperty.call(this._map,e)},size:function(){return this._size},clear:function(){this._map={},this._size=0,delete this._hasProtoKey,delete this._protoValue}};var StringMultimap=function(){StringMap.call(this)};StringMultimap.prototype={put:function(e,t){return"__proto__"===e?(this._hasProtoKey||(++this._size,this._hasProtoKey=!0,this._protoValue=new Set),void this._protoValue.add(t)):(Object.prototype.hasOwnProperty.call(this._map,e)||(++this._size,this._map[e]=new Set),void this._map[e].add(t))},get:function(e){var t=StringMap.prototype.get.call(this,e);return t||(t=new Set),t},remove:function(e,t){var n=this.get(e);n.remove(t),n.size()||StringMap.prototype.remove.call(this,e)},removeAll:function(e){StringMap.prototype.remove.call(this,e)},values:function(){for(var e=[],t=this.keys(),n=0;n<t.length;++n)e.pushAll(this.get(t[n]).values());return e},__proto__:StringMap.prototype};var StringSet=function(){this._map=new StringMap};StringSet.fromArray=function(e){var t=new StringSet;return e.forEach(function(e){t.add(e)}),t},StringSet.prototype={add:function(e){this._map.put(e,!0)},remove:function(e){return!!this._map.remove(e)},values:function(){return this._map.keys()},contains:function(e){return this._map.contains(e)},size:function(){return this._map.size()},clear:function(){this._map.clear()}};var _importedScripts={};!function(){var e=location.origin+location.pathname;self._importScriptPathPrefix=e.substring(0,e.lastIndexOf("/")+1)+"public/js/"}();var loadScript=importScript;CallbackBarrier.prototype={createCallback:function(e){return console.assert(!this._outgoingCallback,"CallbackBarrier.createCallback() is called after CallbackBarrier.callWhenDone()"),++this._pendingIncomingCallbacksCount,this._incomingCallback.bind(this,e)},callWhenDone:function(e){console.assert(!this._outgoingCallback,"CallbackBarrier.callWhenDone() is called multiple times"),this._outgoingCallback=e,this._pendingIncomingCallbacksCount||this._outgoingCallback()},_incomingCallback:function(e){if(console.assert(this._pendingIncomingCallbacksCount>0),e){var t=Array.prototype.slice.call(arguments,1);e.apply(null,t)}!--this._pendingIncomingCallbacksCount&&this._outgoingCallback&&this._outgoingCallback()}},WeakReference.prototype={get:function(){return this._targetObject},clear:function(){this._targetObject=null}};var allDescriptors=[{name:"main",extensions:[{type:"@WebInspector.ContextMenu.Provider",contextTypes:["WebInspector.UISourceCode","WebInspector.Resource","WebInspector.NetworkRequest","Node"],className:"WebInspector.HandlerRegistry.ContextMenuProvider"},{type:"@WebInspector.ActionDelegate",actionId:"main.reload",className:"WebInspector.Main.ReloadActionDelegate",bindings:[{platform:"windows,linux",shortcut:"F5 Ctrl+R"},{platform:"mac",shortcut:"Meta+R"}]},{type:"@WebInspector.ActionDelegate",actionId:"main.hard-reload",className:"WebInspector.Main.HardReloadActionDelegate",bindings:[{platform:"windows,linux",shortcut:"Shift+F5 Ctrl+F5 Ctrl+Shift+F5 Shift+Ctrl+R"},{platform:"mac",shortcut:"Shift+Meta+R"}]},{type:"@WebInspector.ActionDelegate",actionId:"main.toggle-drawer",className:"WebInspector.InspectorView.DrawerToggleActionDelegate",bindings:[{shortcut:"Esc"}]},{type:"@WebInspector.ActionDelegate",actionId:"main.debug-reload",className:"WebInspector.Main.DebugReloadActionDelegate",bindings:[{shortcut:"Alt+R"}]},{type:"@WebInspector.ActionDelegate",actionId:"main.zoom-in",className:"WebInspector.Main.ZoomInActionDelegate",bindings:[{platform:"windows,linux",shortcut:"Ctrl+Plus Ctrl+Shift+Plus Ctrl+NumpadPlus Ctrl+Shift+NumpadPlus"},{platform:"mac",shortcut:"Meta+Plus Meta+Shift+Plus Meta+NumpadPlus Meta+Shift+NumpadPlus"}]},{type:"@WebInspector.ActionDelegate",actionId:"main.zoom-out",className:"WebInspector.Main.ZoomOutActionDelegate",bindings:[{platform:"windows,linux",shortcut:"Ctrl+Minus Ctrl+Shift+Minus Ctrl+NumpadMinus Ctrl+Shift+NumpadMinus"},{platform:"mac",shortcut:"Meta+Minus Meta+Shift+Minus Meta+NumpadMinus Meta+Shift+NumpadMinus"}]},{type:"@WebInspector.ActionDelegate",actionId:"main.zoom-reset",className:"WebInspector.Main.ZoomResetActionDelegate",bindings:[{platform:"windows,linux",shortcut:"Ctrl+0 Ctrl+Numpad0"},{platform:"mac",shortcut:"Meta+0 Meta+Numpad0"}]},{type:"@WebInspector.Revealer",contextTypes:["WebInspector.OverridesSupport"],className:"WebInspector.OverridesView.Revealer"}]},{name:"console",extensions:[{type:"@WebInspector.Panel",name:"console",title:"Console",order:20,className:"WebInspector.ConsolePanel"},{type:"drawer-view",name:"console",title:"Console",order:"0",className:"WebInspector.ConsolePanel.WrapperView"},{type:"@WebInspector.Revealer",contextTypes:["WebInspector.Console"],className:"WebInspector.ConsolePanel.ConsoleRevealer"},{type:"@WebInspector.ActionDelegate",actionId:"console.show",className:"WebInspector.ConsoleView.ShowConsoleActionDelegate",bindings:[{shortcut:"Ctrl+`"}]},{type:"ui-setting",section:"Console",title:"Log XMLHttpRequests",settingName:"monitoringXHREnabled",settingType:"checkbox"},{type:"ui-setting",section:"Console",title:"Preserve log upon navigation",settingName:"preserveConsoleLog",settingType:"checkbox"},{type:"ui-setting",section:"Console",title:"Show timestamps",settingName:"consoleTimestampsEnabled",settingType:"checkbox"}]}];self.WebInspector={_queryParamsObject:{}},WebInspector.Events={InspectorLoaded:"InspectorLoaded"},WebInspector.queryParam=function(e){return WebInspector._queryParamsObject.hasOwnProperty(e)?WebInspector._queryParamsObject[e]:null},!function(){var e=location.search;if(e){for(var t=e.substring(1).split("&"),n=0;n<t.length;++n){var i=t[n].split("=");WebInspector._queryParamsObject[i[0]]=i[1]}var s=WebInspector.queryParam("settings");if(s)try{var o=JSON.parse(window.decodeURI(s));for(var r in o)window.localStorage[r]=o[r]}catch(a){}}}(),WebInspector.isWorkerFrontend=function(){return!1},WebInspector.Object=function(){},WebInspector.Object.prototype={addEventListener:function(e,t,n){t||console.assert(!1),this._listeners||(this._listeners={}),this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push({thisObject:n,listener:t})},removeEventListener:function(e,t,n){if(console.assert(t),this._listeners&&this._listeners[e]){for(var i=this._listeners[e],s=0;s<i.length;++s)i[s].listener===t&&i[s].thisObject===n&&i.splice(s--,1);i.length||delete this._listeners[e]}},removeAllListeners:function(){delete this._listeners},hasEventListeners:function(e){return this._listeners&&this._listeners[e]?!0:!1},dispatchEventToListeners:function(e,t){if(!this._listeners||!this._listeners[e])return!1;for(var n=new WebInspector.Event(this,e,t),i=this._listeners[e].slice(0),s=0;s<i.length&&(i[s].listener.call(i[s].thisObject,n),!n._stoppedPropagation);++s);return n.defaultPrevented}},WebInspector.Event=function(e,t,n){this.target=e,this.type=t,this.data=n,this.defaultPrevented=!1,this._stoppedPropagation=!1},WebInspector.Event.prototype={stopPropagation:function(){this._stoppedPropagation=!0},preventDefault:function(){this.defaultPrevented=!0},consume:function(e){this.stopPropagation(),e&&this.preventDefault()}},WebInspector.Lock=function(){this._count=0},WebInspector.Lock.Events={StateChanged:"StateChanged"},WebInspector.Lock.prototype={isAcquired:function(){return!!this._count},acquire:function(){1===++this._count&&this.dispatchEventToListeners(WebInspector.Lock.Events.StateChanged)},release:function(){return--this._count,this._count<0?void console.error("WebInspector.Lock acquire/release calls are unbalanced "+(new Error).stack):void(this._count||this.dispatchEventToListeners(WebInspector.Lock.Events.StateChanged))},__proto__:WebInspector.Object.prototype},WebInspector.EventTarget=function(){},WebInspector.EventTarget.prototype={addEventListener:function(){},removeEventListener:function(){},removeAllListeners:function(){},hasEventListeners:function(){},dispatchEventToListeners:function(){}},WebInspector.ModuleManager=function(e){this._modules=[],this._modulesMap={},this._extensions=[],this._cachedTypeClasses={},this._descriptorsMap={};for(var t=0;t<e.length;++t)this._descriptorsMap[e[t].name]=e[t]},WebInspector.ModuleManager.prototype={registerModules:function(e){for(var t=0;t<e.length;++t)this.registerModule(e[t])},registerModule:function(e){console.log(e,this._descriptorsMap[e]);var t;if(!this._descriptorsMap[e]){var n=loadResource(e+"/module.json");if(!n)throw new Error("Module is not defined: "+e+" "+(new Error).stack);t=self.eval("("+n+")"),t.name=e,this._descriptorsMap[e]=t}t=new WebInspector.ModuleManager.Module(this,this._descriptorsMap[e]),this._modules.push(t),this._modulesMap[e]=t},loadModule:function(e){this._modulesMap[e]._load()},_checkExtensionApplicability:function(e,t){if(!t)return!1;var n=e.descriptor().contextTypes;if(!n)return!0;for(var i=0;i<n.length;++i){var s=this._resolve(n[i]),o=!!s&&t(s);if(o)return!0}return!1},isExtensionApplicableToContext:function(e,t){function n(e){return t instanceof e}return t?this._checkExtensionApplicability(e,n):!0},isExtensionApplicableToContextTypes:function(e,t){function n(e){return t.contains(e)}return e.descriptor().contextTypes?this._checkExtensionApplicability(e,t?n:null):!0},extensions:function(e,t){function n(n){return n._type!==e&&n._typeClass()!==e?!1:!t||n.isApplicable(t)}return this._extensions.filter(n)},extension:function(e,t){return this.extensions(e,t)[0]||null},instances:function(e,t){function n(e){return e.instance()}return this.extensions(e,t).filter(n).map(n)},instance:function(e,t){var n=this.extension(e,t);return n?n.instance():null},orderComparator:function(e,t,n){function i(e,t){return e in o&&t in o?o[e]-o[t]:e in o?-1:t in o?1:e.compareTo(t)}for(var s=this.extensions(e),o={},r=0;r<s.length;++r){var a=s[r].descriptor();o[a[t]]=a[n]}return i},_resolve:function(e){if(!this._cachedTypeClasses[e]){for(var t=e.split("."),n=window,i=0;n&&i<t.length;++i)n=n[t[i]];n&&(this._cachedTypeClasses[e]=n)}return this._cachedTypeClasses[e]}},WebInspector.ModuleManager.ModuleDescriptor=function(){this.name,this.extensions,this.dependencies,this.scripts},WebInspector.ModuleManager.ExtensionDescriptor=function(){this.type,this.className,this.contextTypes},WebInspector.ModuleManager.Module=function(e,t){this._manager=e,this._descriptor=t,this._name=t.name;for(var n=t.extensions,i=0;n&&i<n.length;++i)this._manager._extensions.push(new WebInspector.ModuleManager.Extension(this,n[i]));this._loaded=!1},WebInspector.ModuleManager.Module.prototype={name:function(){return this._name},_load:function(){if(!this._loaded){if(this._isLoading){var e=Error.stackTraceLimit;return Error.stackTraceLimit=50,console.assert(!1,"Module "+this._name+" is loaded from itself: "+(new Error).stack),void(Error.stackTraceLimit=e)}this._isLoading=!0;for(var t=this._descriptor.dependencies,n=0;t&&n<t.length;++n)this._manager.loadModule(t[n]);for(var i=this._descriptor.scripts,s=0;i&&s<i.length;++n)loadScript(this._name+"/"+i[s]);this._isLoading=!1,this._loaded=!0}}},WebInspector.ModuleManager.Extension=function(e,t){this._module=e,this._descriptor=t,this._type=t.type,this._hasTypeClass=!!this._type.startsWith("@"),this._className=t.className||null},WebInspector.ModuleManager.Extension.prototype={descriptor:function(){return this._descriptor},module:function(){return this._module},_typeClass:function(){return this._hasTypeClass?this._module._manager._resolve(this._type.substring(1)):null},isApplicable:function(e){return this._module._manager.isExtensionApplicableToContext(this,e)},instance:function(){if(!this._className)return null;if(!this._instance){this._module._load();var e=window.eval(this._className);if(!(e instanceof Function))return null;this._instance=new e}return this._instance}},WebInspector.Renderer=function(){},WebInspector.Renderer.prototype={render:function(){}},WebInspector.Revealer=function(){},WebInspector.Revealer.reveal=function(e,t){if(e){var n=WebInspector.moduleManager.instance(WebInspector.Revealer,e);n&&n.reveal(e,t)}},WebInspector.Revealer.prototype={reveal:function(){}},WebInspector.moduleManager=WebInspector.moduleManager,WebInspector.UIString=function(e){return String.vsprintf(e,Array.prototype.slice.call(arguments,1))},WebInspector.Console=function(){this._messages=[]},WebInspector.Console.Events={MessageAdded:"messageAdded"},WebInspector.Console.MessageLevel={Log:"log",Warning:"warning",Error:"error"},WebInspector.Console.Message=function(e,t,n,i){this.text=e,this.level=t,this.timestamp="number"==typeof n?n:Date.now(),this.show=i},WebInspector.Console.UIDelegate=function(){},WebInspector.Console.UIDelegate.prototype={showConsole:function(){}},WebInspector.Console.prototype={setUIDelegate:function(e){this._uiDelegate=e},addMessage:function(e,t,n){var i=new WebInspector.Console.Message(e,t||WebInspector.Console.MessageLevel.Log,Date.now(),n||!1);this._messages.push(i),this.dispatchEventToListeners(WebInspector.Console.Events.MessageAdded,i)},log:function(e){this.addMessage(e,WebInspector.Console.MessageLevel.Log)},warn:function(e){this.addMessage(e,WebInspector.Console.MessageLevel.Warning)},error:function(e){this.addMessage(e,WebInspector.Console.MessageLevel.Error,!0)},messages:function(){return this._messages},show:function(){this._uiDelegate&&this._uiDelegate.showConsole()},__proto__:WebInspector.Object.prototype},WebInspector.console=new WebInspector.Console,WebInspector.ParsedURL=function(e){this.isValid=!1,this.url=e,this.scheme="",this.host="",this.port="",this.path="",this.queryParams="",this.fragment="",this.folderPathComponents="",this.lastPathComponent="";var t=e.match(/^([A-Za-z][A-Za-z0-9+.-]*):\/\/([^\/:]*)(?::([\d]+))?(?:(\/[^#]*)(?:#(.*))?)?$/i);if(t)this.isValid=!0,this.scheme=t[1].toLowerCase(),this.host=t[2],this.port=t[3],this.path=t[4]||"/",this.fragment=t[5];else{if(this.url.startsWith("data:"))return void(this.scheme="data");if("about:blank"===this.url)return void(this.scheme="about");this.path=this.url}var n=this.path,i=n.indexOf("?");-1!==i&&(this.queryParams=n.substring(i+1),n=n.substring(0,i));var s=n.lastIndexOf("/");-1!==s?(this.folderPathComponents=n.substring(0,s),this.lastPathComponent=n.substring(s+1)):this.lastPathComponent=n},WebInspector.ParsedURL.splitURL=function(e){var t,n,i,s=new WebInspector.ParsedURL(e);s.isValid?(t=s.scheme+"://"+s.host,s.port&&(t+=":"+s.port),n=s.folderPathComponents,i=s.lastPathComponent,s.queryParams&&(i+="?"+s.queryParams)):(t="",n="",i=e);for(var o=[t],r=n.split("/"),a=1;a<r.length;++a)r[a]&&o.push(r[a]);return o.push(i),o},WebInspector.ParsedURL.normalizePath=function(e){if(-1===e.indexOf("..")&&-1===e.indexOf("."))return e;for(var t=[],n=e.split("/"),i=0;i<n.length;i++){var s=n[i];"."!==s&&(".."===s?t.pop():s&&t.push(s))}var o=t.join("/");return"/"===o[o.length-1]?o:("/"===e[0]&&o&&(o="/"+o),("/"===e[e.length-1]||"."===n[n.length-1]||".."===n[n.length-1])&&(o+="/"),o)},WebInspector.ParsedURL.completeURL=function(e,t){if(!t)return e;var n=t.trim();if(n.startsWith("data:")||n.startsWith("blob:")||n.startsWith("javascript:"))return t;var i=n.asParsedURL();if(i&&i.scheme)return n;var s=e.asParsedURL();if(s){if(s.isDataURL())return t;var o=t,r=o.indexOf("?"),a="";if(-1!==r)a=o.substring(r),o=o.substring(0,r);else{var l=o.indexOf("#");-1!==l&&(a=o.substring(l),o=o.substring(0,l))}if(!o){var c=s.path;if("?"===a.charAt(0)){var h=s.path.indexOf("?");-1!==h&&(c=c.substring(0,h))}return s.scheme+"://"+s.host+(s.port?":"+s.port:"")+c+a}if("/"!==o.charAt(0)){var d=s.path,p=d.indexOf("?");-1!==p&&(d=d.substring(0,p)),d=d.substring(0,d.lastIndexOf("/"))+"/",o=d+o}else if(o.length>1&&"/"===o.charAt(1))return s.scheme+":"+o+a;return s.scheme+"://"+s.host+(s.port?":"+s.port:"")+WebInspector.ParsedURL.normalizePath(o)+a}return null},WebInspector.ParsedURL.prototype={get displayName(){return this._displayName?this._displayName:this.isDataURL()?this.dataURLDisplayName():this.isAboutBlank()?this.url:(this._displayName=this.lastPathComponent,this._displayName||(this._displayName=(this.host||"")+"/"),"/"===this._displayName&&(this._displayName=this.url),this._displayName)},dataURLDisplayName:function(){return this._dataURLDisplayName?this._dataURLDisplayName:this.isDataURL()?(this._dataURLDisplayName=this.url.trimEnd(20),this._dataURLDisplayName):""},isAboutBlank:function(){return"about:blank"===this.url},isDataURL:function(){return"data"===this.scheme}},String.prototype.asParsedURL=function(){var e=new WebInspector.ParsedURL(this.toString());return e.isValid?e:null},WebInspector.Throttler=function(e){this._timeout=e,this._isRunningProcess=!1,this._asSoonAsPossible=!1,this._process=null},WebInspector.Throttler.prototype={_processCompleted:function(){this._isRunningProcess=!1,this._process&&this._innerSchedule(!1)},_onTimeout:function(){delete this._processTimeout,this._asSoonAsPossible=!1,this._isRunningProcess=!0;var e=this._process;this._process=null,e(this._processCompleted.bind(this))
},schedule:function(e,t){this._process=e;var n=!!t&&!this._asSoonAsPossible;this._asSoonAsPossible=this._asSoonAsPossible||!!t,this._innerSchedule(n)},_innerSchedule:function(e){if(!this._isRunningProcess&&(!this._processTimeout||e)){this._processTimeout&&this._clearTimeout(this._processTimeout);var t=this._asSoonAsPossible?0:this._timeout;this._processTimeout=this._setTimeout(this._onTimeout.bind(this),t)}},_clearTimeout:function(e){clearTimeout(e)},_setTimeout:function(e,t){return setTimeout(e,t)}},WebInspector.Throttler.FinishCallback=WebInspector.Throttler.FinishCallback,WebInspector.TextRange=function(e,t,n,i){this.startLine=e,this.startColumn=t,this.endLine=n,this.endColumn=i},WebInspector.TextRange.createFromLocation=function(e,t){return new WebInspector.TextRange(e,t,e,t)},WebInspector.TextRange.fromObject=function(e){return new WebInspector.TextRange(e.startLine,e.startColumn,e.endLine,e.endColumn)},WebInspector.TextRange.comparator=function(e,t){return e.compareTo(t)},WebInspector.TextRange.prototype={isEmpty:function(){return this.startLine===this.endLine&&this.startColumn===this.endColumn},immediatelyPrecedes:function(e){return e?this.endLine===e.startLine&&this.endColumn===e.startColumn:!1},immediatelyFollows:function(e){return e?e.immediatelyPrecedes(this):!1},follows:function(e){return e.endLine===this.startLine&&e.endColumn<=this.startColumn||e.endLine<this.startLine},get linesCount(){return this.endLine-this.startLine},collapseToEnd:function(){return new WebInspector.TextRange(this.endLine,this.endColumn,this.endLine,this.endColumn)},collapseToStart:function(){return new WebInspector.TextRange(this.startLine,this.startColumn,this.startLine,this.startColumn)},normalize:function(){return this.startLine>this.endLine||this.startLine===this.endLine&&this.startColumn>this.endColumn?new WebInspector.TextRange(this.endLine,this.endColumn,this.startLine,this.startColumn):this.clone()},clone:function(){return new WebInspector.TextRange(this.startLine,this.startColumn,this.endLine,this.endColumn)},serializeToObject:function(){var e={};return e.startLine=this.startLine,e.startColumn=this.startColumn,e.endLine=this.endLine,e.endColumn=this.endColumn,e},compareTo:function(e){return this.startLine>e.startLine?1:this.startLine<e.startLine?-1:this.startColumn>e.startColumn?1:this.startColumn<e.startColumn?-1:0},equal:function(e){return this.startLine===e.startLine&&this.endLine===e.endLine&&this.startColumn===e.startColumn&&this.endColumn===e.endColumn},shift:function(e){return new WebInspector.TextRange(this.startLine+e,this.startColumn,this.endLine+e,this.endColumn)},rebaseAfterTextEdit:function(e,t){console.assert(e.startLine===t.startLine),console.assert(e.startColumn===t.startColumn);var n=this.clone();if(!this.follows(e))return n;var i=t.endLine-e.endLine,s=t.endColumn-e.endColumn;return n.startLine+=i,n.endLine+=i,n.startLine===t.endLine&&(n.startColumn+=s),n.endLine===t.endLine&&(n.endColumn+=s),n},toString:function(){return JSON.stringify(this)}},WebInspector.SourceRange=function(e,t){this.offset=e,this.length=t},WebInspector.Geometry={},WebInspector.Geometry._Eps=1e-5,WebInspector.Geometry.Vector=function(e,t,n){this.x=e,this.y=t,this.z=n},WebInspector.Geometry.Vector.prototype={length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var e=this.length();e<=WebInspector.Geometry._Eps||(this.x/=e,this.y/=e,this.z/=e)}},WebInspector.Geometry.EulerAngles=function(e,t,n){this.alpha=e,this.beta=t,this.gamma=n},WebInspector.Geometry.EulerAngles.fromRotationMatrix=function(e){var t=Math.atan2(e.m23,e.m33),n=Math.atan2(-e.m13,Math.sqrt(e.m11*e.m11+e.m12*e.m12)),i=Math.atan2(e.m12,e.m11);return new WebInspector.Geometry.EulerAngles(WebInspector.Geometry.radToDeg(i),WebInspector.Geometry.radToDeg(t),WebInspector.Geometry.radToDeg(n))},WebInspector.Geometry.scalarProduct=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z},WebInspector.Geometry.crossProduct=function(e,t){var n=e.y*t.z-e.z*t.y,i=e.z*t.x-e.x*t.z,s=e.x*t.y-e.y*t.x;return new WebInspector.Geometry.Vector(n,i,s)},WebInspector.Geometry.subtract=function(e,t){var n=e.x-t.x,i=e.y-t.y,s=e.z-t.z;return new WebInspector.Geometry.Vector(n,i,s)},WebInspector.Geometry.multiplyVectorByMatrixAndNormalize=function(e,t){var n=e.x*t.m14+e.y*t.m24+e.z*t.m34+t.m44,i=(e.x*t.m11+e.y*t.m21+e.z*t.m31+t.m41)/n,s=(e.x*t.m12+e.y*t.m22+e.z*t.m32+t.m42)/n,o=(e.x*t.m13+e.y*t.m23+e.z*t.m33+t.m43)/n;return new WebInspector.Geometry.Vector(i,s,o)},WebInspector.Geometry.calculateAngle=function(e,t){var n=e.length(),i=t.length();if(n<=WebInspector.Geometry._Eps||i<=WebInspector.Geometry._Eps)return 0;var s=WebInspector.Geometry.scalarProduct(e,t)/n/i;return Math.abs(s)>1?0:WebInspector.Geometry.radToDeg(Math.acos(s))},WebInspector.Geometry.radToDeg=function(e){return 180*e/Math.PI},Size.prototype.isEqual=function(e){return!!e&&this.width===e.width&&this.height===e.height},Size.prototype.widthToMax=function(e){return new Size(Math.max(this.width,"number"==typeof e?e:e.width),this.height)},Size.prototype.addWidth=function(e){return new Size(this.width+("number"==typeof e?e:e.width),this.height)},Size.prototype.heightToMax=function(e){return new Size(this.width,Math.max(this.height,"number"==typeof e?e:e.height))},Size.prototype.addHeight=function(e){return new Size(this.width,this.height+("number"==typeof e?e:e.height))},WebInspector.Settings=function(){this._eventSupport=new WebInspector.Object,this._registry={},this.colorFormat=this.createSetting("colorFormat","original"),this.consoleHistory=this.createSetting("consoleHistory",[]),this.domWordWrap=this.createSetting("domWordWrap",!0),this.eventListenersFilter=this.createSetting("eventListenersFilter","all"),this.lastViewedScriptFile=this.createSetting("lastViewedScriptFile","application"),this.monitoringXHREnabled=this.createSetting("monitoringXHREnabled",!1),this.preserveConsoleLog=this.createSetting("preserveConsoleLog",!1),this.consoleTimestampsEnabled=this.createSetting("consoleTimestampsEnabled",!1),this.resourcesLargeRows=this.createSetting("resourcesLargeRows",!0),this.resourcesSortOptions=this.createSetting("resourcesSortOptions",{timeOption:"responseTime",sizeOption:"transferSize"}),this.resourceViewTab=this.createSetting("resourceViewTab","preview"),this.showInheritedComputedStyleProperties=this.createSetting("showInheritedComputedStyleProperties",!1),this.showUserAgentStyles=this.createSetting("showUserAgentStyles",!0),this.watchExpressions=this.createSetting("watchExpressions",[]),this.breakpoints=this.createSetting("breakpoints",[]),this.eventListenerBreakpoints=this.createSetting("eventListenerBreakpoints",[]),this.domBreakpoints=this.createSetting("domBreakpoints",[]),this.xhrBreakpoints=this.createSetting("xhrBreakpoints",[]),this.jsSourceMapsEnabled=this.createSetting("sourceMapsEnabled",!0),this.cssSourceMapsEnabled=this.createSetting("cssSourceMapsEnabled",!0),this.cacheDisabled=this.createSetting("cacheDisabled",!1),this.showUAShadowDOM=this.createSetting("showUAShadowDOM",!1),this.savedURLs=this.createSetting("savedURLs",{}),this.javaScriptDisabled=this.createSetting("javaScriptDisabled",!1),this.showAdvancedHeapSnapshotProperties=this.createSetting("showAdvancedHeapSnapshotProperties",!1),this.recordAllocationStacks=this.createSetting("recordAllocationStacks",!1),this.highResolutionCpuProfiling=this.createSetting("highResolutionCpuProfiling",!1),this.searchInContentScripts=this.createSetting("searchInContentScripts",!1),this.textEditorIndent=this.createSetting("textEditorIndent","    "),this.textEditorAutoDetectIndent=this.createSetting("textEditorAutoIndentIndent",!0),this.textEditorAutocompletion=this.createSetting("textEditorAutocompletion",!0),this.textEditorBracketMatching=this.createSetting("textEditorBracketMatching",!0),this.cssReloadEnabled=this.createSetting("cssReloadEnabled",!1),this.timelineLiveUpdate=this.createSetting("timelineLiveUpdate",!0),this.showMetricsRulers=this.createSetting("showMetricsRulers",!1),this.workerInspectorWidth=this.createSetting("workerInspectorWidth",600),this.workerInspectorHeight=this.createSetting("workerInspectorHeight",600),this.messageURLFilters=this.createSetting("messageURLFilters",{}),this.networkHideDataURL=this.createSetting("networkHideDataURL",!1),this.networkResourceTypeFilters=this.createSetting("networkResourceTypeFilters",{}),this.messageLevelFilters=this.createSetting("messageLevelFilters",{}),this.splitVerticallyWhenDockedToRight=this.createSetting("splitVerticallyWhenDockedToRight",!0),this.visiblePanels=this.createSetting("visiblePanels",{}),this.shortcutPanelSwitch=this.createSetting("shortcutPanelSwitch",!1),this.showWhitespacesInEditor=this.createSetting("showWhitespacesInEditor",!1),this.skipStackFramesPattern=this.createRegExpSetting("skipStackFramesPattern",""),this.pauseOnExceptionEnabled=this.createSetting("pauseOnExceptionEnabled",!1),this.pauseOnCaughtException=this.createSetting("pauseOnCaughtException",!1),this.enableAsyncStackTraces=this.createSetting("enableAsyncStackTraces",!1),this.showMediaQueryInspector=this.createSetting("showMediaQueryInspector",!1),this.disableOverridesWarning=this.createSetting("disableOverridesWarning",!1),this.showPaintRects=this.createSetting("showPaintRects",!1),this.showDebugBorders=this.createSetting("showDebugBorders",!1),this.showFPSCounter=this.createSetting("showFPSCounter",!1),this.continuousPainting=this.createSetting("continuousPainting",!1),this.showScrollBottleneckRects=this.createSetting("showScrollBottleneckRects",!1),this.useDarkTheme=this.createSetting("useDarkTheme",!1)},WebInspector.Settings.prototype={createSetting:function(e,t){return this._registry[e]||(this._registry[e]=new WebInspector.Setting(e,t,this._eventSupport,window.localStorage)),this._registry[e]},createRegExpSetting:function(e,t,n){return this._registry[e]||(this._registry[e]=new WebInspector.RegExpSetting(e,t,this._eventSupport,window.localStorage,n)),this._registry[e]}},WebInspector.Setting=function(e,t,n,i){this._name=e,this._defaultValue=t,this._eventSupport=n,this._storage=i},WebInspector.Setting.prototype={addChangeListener:function(e,t){this._eventSupport.addEventListener(this._name,e,t)},removeChangeListener:function(e,t){this._eventSupport.removeEventListener(this._name,e,t)},get name(){return this._name},get:function(){if("undefined"!=typeof this._value)return this._value;if(this._value=this._defaultValue,this._storage&&this._name in this._storage)try{this._value=JSON.parse(this._storage[this._name])}catch(e){delete this._storage[this._name]}return this._value},set:function(e){if(this._value=e,this._storage)try{this._storage[this._name]=JSON.stringify(e)}catch(t){console.error("Error saving setting with name:"+this._name)}this._eventSupport.dispatchEventToListeners(this._name,e)}},WebInspector.RegExpSetting=function(e,t,n,i,s){WebInspector.Setting.call(this,e,[t],n,i),this._regexFlags=s},WebInspector.RegExpSetting.prototype={get:function(){return this.getAsArray().join("|")},getAsArray:function(){var e=WebInspector.Setting.prototype.get.call(this);return"string"==typeof e&&(e=[e]),e.remove(""),e},set:function(e){this.setAsArray([e])},setAsArray:function(e){delete this._regex,e.remove(""),WebInspector.Setting.prototype.set.call(this,e)},asRegExp:function(){if("undefined"!=typeof this._regex)return this._regex;this._regex=null;try{var e=this.get();e&&(this._regex=new RegExp(e,this._regexFlags||""))}catch(t){}return this._regex},__proto__:WebInspector.Setting.prototype},WebInspector.ExperimentsSettings=function(e){this._experimentsEnabled=e,this._setting=WebInspector.settings.createSetting("experiments",{}),this._experiments=[],this._enabledForTest={},this.applyCustomStylesheet=this._createExperiment("applyCustomStylesheet","Allow custom UI themes"),this.canvasInspection=this._createExperiment("canvasInspection ","Canvas inspection"),this.devicesPanel=this._createExperiment("devicesPanel","Devices panel"),this.disableAgentsWhenProfile=this._createExperiment("disableAgentsWhenProfile","Disable other agents and UI when profiler is active",!0),this.dockToLeft=this._createExperiment("dockToLeft","Dock to left",!0),this.editorInDrawer=this._createExperiment("showEditorInDrawer","Editor in drawer",!0),this.fileSystemInspection=this._createExperiment("fileSystemInspection","FileSystem inspection"),this.frameworksDebuggingSupport=this._createExperiment("frameworksDebuggingSupport","JavaScript frameworks debugging"),this.gpuTimeline=this._createExperiment("gpuTimeline","GPU data on timeline",!0),this.heapSnapshotStatistics=this._createExperiment("heapSnapshotStatistics","Heap snapshot statistics",!0),this.layersPanel=this._createExperiment("layersPanel","Layers panel",!0),this.timelineOnTraceEvents=this._createExperiment("timelineOnTraceEvents","Timeline on trace events",!0),this.timelinePowerProfiler=this._createExperiment("timelinePowerProfiler","Timeline power profiler"),this.timelineJSCPUProfile=this._createExperiment("timelineJSCPUProfile","Timeline with JS sampling"),this.timelineNoLiveUpdate=this._createExperiment("timelineNoLiveUpdate","Timeline w/o live update",!0),this.workersInMainWindow=this._createExperiment("workersInMainWindow","Workers in main window",!0),this._cleanUpSetting()},WebInspector.ExperimentsSettings.prototype={get experiments(){return this._experiments.slice()},get experimentsEnabled(){return this._experimentsEnabled},_createExperiment:function(e,t,n){var i=new WebInspector.Experiment(this,e,t,!!n);return this._experiments.push(i),i},isEnabled:function(e){if(this._enabledForTest[e])return!0;if(!this.experimentsEnabled)return!1;var t=this._setting.get();return t[e]},setEnabled:function(e,t){var n=this._setting.get();n[e]=t,this._setting.set(n)},_enableForTest:function(e){this._enabledForTest[e]=!0},_cleanUpSetting:function(){for(var e=this._setting.get(),t={},n=0;n<this._experiments.length;++n){var i=this._experiments[n].name;e[i]&&(t[i]=!0)}this._setting.set(t)}},WebInspector.Experiment=function(e,t,n,i){this._name=t,this._title=n,this._hidden=i,this._experimentsSettings=e},WebInspector.Experiment.prototype={get name(){return this._name},get title(){return this._title},get hidden(){return this._hidden},isEnabled:function(){return this._experimentsSettings.isEnabled(this._name)},setEnabled:function(e){this._experimentsSettings.setEnabled(this._name,e)},enableForTest:function(){this._experimentsSettings._enableForTest(this._name)}},WebInspector.VersionController=function(){},WebInspector.VersionController.currentVersion=8,WebInspector.VersionController.prototype={updateVersion:function(){for(var e=WebInspector.settings.createSetting("inspectorVersion",0),t=WebInspector.VersionController.currentVersion,n=e.get(),i=this._methodsToRunToUpdateVersion(n,t),s=0;s<i.length;++s)this[i[s]].call(this);e.set(t)},_methodsToRunToUpdateVersion:function(e,t){for(var n=[],i=e;t>i;++i)n.push("_updateVersionFrom"+i+"To"+(i+1));return n},_updateVersionFrom0To1:function(){this._clearBreakpointsWhenTooMany(WebInspector.settings.breakpoints,5e5)},_updateVersionFrom1To2:function(){var e=WebInspector.settings.createSetting("previouslyViewedFiles",[]);e.set([])},_updateVersionFrom2To3:function(){var e=WebInspector.settings.createSetting("fileSystemMapping",{});e.set({}),window.localStorage&&delete window.localStorage.fileMappingEntries},_updateVersionFrom3To4:function(){var e=WebInspector.settings.createSetting("showHeaSnapshotObjectsHiddenProperties",!1).get();WebInspector.settings.showAdvancedHeapSnapshotProperties.set(e)},_updateVersionFrom4To5:function(){if(window.localStorage){var e={FileSystemViewSidebarWidth:"fileSystemViewSplitViewState",canvasProfileViewReplaySplitLocation:"canvasProfileViewReplaySplitViewState",canvasProfileViewSplitLocation:"canvasProfileViewSplitViewState",elementsSidebarWidth:"elementsPanelSplitViewState",StylesPaneSplitRatio:"stylesPaneSplitViewState",heapSnapshotRetainersViewSize:"heapSnapshotSplitViewState","InspectorView.splitView":"InspectorView.splitViewState","InspectorView.screencastSplitView":"InspectorView.screencastSplitViewState","Inspector.drawerSplitView":"Inspector.drawerSplitViewState",layerDetailsSplitView:"layerDetailsSplitViewState",networkSidebarWidth:"networkPanelSplitViewState",sourcesSidebarWidth:"sourcesPanelSplitViewState",scriptsPanelNavigatorSidebarWidth:"sourcesPanelNavigatorSplitViewState",sourcesPanelSplitSidebarRatio:"sourcesPanelDebuggerSidebarSplitViewState","timeline-details":"timelinePanelDetailsSplitViewState","timeline-split":"timelinePanelRecorsSplitViewState","timeline-view":"timelinePanelTimelineStackSplitViewState",auditsSidebarWidth:"auditsPanelSplitViewState",layersSidebarWidth:"layersPanelSplitViewState",profilesSidebarWidth:"profilesPanelSplitViewState",resourcesSidebarWidth:"resourcesPanelSplitViewState"};for(var t in e){var n=e[t],i=t+"H",s=null,o=WebInspector.settings.createSetting(t,void 0).get();o&&(s=s||{},s.vertical={},s.vertical.size=o,delete window.localStorage[t]);var r=WebInspector.settings.createSetting(i,void 0).get();r&&(s=s||{},s.horizontal={},s.horizontal.size=r,delete window.localStorage[i]);var a=WebInspector.settings.createSetting(n,{});s&&a.set(s)}}},_updateVersionFrom5To6:function(){if(window.localStorage){var e={debuggerSidebarHidden:"sourcesPanelSplitViewState",navigatorHidden:"sourcesPanelNavigatorSplitViewState","WebInspector.Drawer.showOnLoad":"Inspector.drawerSplitViewState"};for(var t in e){var n=e[t],i=WebInspector.settings.createSetting(t,void 0).get(),s="WebInspector.Drawer.showOnLoad"===t,o=Boolean(i)!==s;delete window.localStorage[t];var r=o?"OnlyMain":"Both",a=WebInspector.settings.createSetting(n,null),l=a.get()||{};l.vertical=l.vertical||{},l.vertical.showMode=r,l.horizontal=l.horizontal||{},l.horizontal.showMode=r,a.set(l)}}},_updateVersionFrom6To7:function(){if(window.localStorage){var e={sourcesPanelNavigatorSplitViewState:"sourcesPanelNavigatorSplitViewState",elementsPanelSplitViewState:"elementsPanelSplitViewState",canvasProfileViewReplaySplitViewState:"canvasProfileViewReplaySplitViewState",editorInDrawerSplitViewState:"editorInDrawerSplitViewState",stylesPaneSplitViewState:"stylesPaneSplitViewState",sourcesPanelDebuggerSidebarSplitViewState:"sourcesPanelDebuggerSidebarSplitViewState"};for(var t in e)if(t in window.localStorage){var n=WebInspector.settings.createSetting(t,void 0),i=n.get();i&&(i.vertical&&i.vertical.size&&i.vertical.size<1&&(i.vertical.size=0),i.horizontal&&i.horizontal.size&&i.horizontal.size<1&&(i.horizontal.size=0),n.set(i))}}},_updateVersionFrom7To8:function(){var e="deviceMetrics";if(window.localStorage&&e in window.localStorage){var t=WebInspector.settings.createSetting(e,void 0),n=t.get();if(n){var i=n.split("x");if(i.length>=3){var s=parseInt(i[0],10),o=parseInt(i[1],10),r=parseFloat(i[2]);r&&(i[0]=""+Math.round(s/r),i[1]=""+Math.round(o/r))}n=i.join("x"),t.set(n)}}},_clearBreakpointsWhenTooMany:function(e,t){e.get().length>t&&e.set([])}},WebInspector.settings=WebInspector.settings,WebInspector.experimentsSettings=WebInspector.experimentsSettings,WebInspector.PauseOnExceptionStateSetting=function(){WebInspector.settings.pauseOnExceptionEnabled.addChangeListener(this._enabledChanged,this),WebInspector.settings.pauseOnCaughtException.addChangeListener(this._pauseOnCaughtChanged,this),this._name="pauseOnExceptionStateString",this._eventSupport=new WebInspector.Object,this._value=this._calculateValue()},WebInspector.PauseOnExceptionStateSetting.prototype={addChangeListener:function(e,t){this._eventSupport.addEventListener(this._name,e,t)},removeChangeListener:function(e,t){this._eventSupport.removeEventListener(this._name,e,t)},get:function(){return this._value},_calculateValue:function(){return WebInspector.settings.pauseOnExceptionEnabled.get()?"all":"none"},_enabledChanged:function(){this._fireChangedIfNeeded()},_pauseOnCaughtChanged:function(){this._fireChangedIfNeeded()},_fireChangedIfNeeded:function(){var e=this._calculateValue();e!==this._value&&(this._value=e,this._eventSupport.dispatchEventToListeners(this._name,this._value))}},Node.prototype.rangeOfWord=function(e,t,n,i){var s,o,r,a,l,c=0,h=0;if(n||(n=this),i&&"backward"!==i&&"both"!==i)s=this,c=e;else{for(r=this;r;){if(r===n){s||(s=n);break}if(r.nodeType===Node.TEXT_NODE)for(a=r===this?e-1:r.nodeValue.length-1,l=a;l>=0;--l)if(-1!==t.indexOf(r.nodeValue[l])){s=r,c=l+1;break}if(s)break;r=r.traversePreviousNode(n)}s||(s=n,c=0)}if(i&&"forward"!==i&&"both"!==i)o=this,h=e;else{for(r=this;r;){if(r===n){o||(o=n);break}if(r.nodeType===Node.TEXT_NODE)for(a=r===this?e:0,l=a;l<r.nodeValue.length;++l)if(-1!==t.indexOf(r.nodeValue[l])){o=r,h=l;break}if(o)break;r=r.traverseNextNode(n)}o||(o=n,h=n.nodeType===Node.TEXT_NODE?n.nodeValue.length:n.childNodes.length)}var d=this.ownerDocument.createRange();return d.setStart(s,c),d.setEnd(o,h),d},Node.prototype.traverseNextTextNode=function(e){var t=this.traverseNextNode(e);if(!t)return null;for(;t&&t.nodeType!==Node.TEXT_NODE;)t=t.traverseNextNode(e);return t},Node.prototype.rangeBoundaryForOffset=function(e){for(var t=this.traverseNextTextNode(this);t&&e>t.nodeValue.length;)e-=t.nodeValue.length,t=t.traverseNextTextNode(this);return t?{container:t,offset:e}:{container:this,offset:0}},Element.prototype.removeMatchingStyleClasses=function(e){var t=new RegExp("(^|\\s+)"+e+"($|\\s+)");t.test(this.className)&&(this.className=this.className.replace(t," "))},Element.prototype.positionAt=function(e,t,n){var i={x:0,y:0};n&&(i=n.boxInWindow(this.ownerDocument.defaultView)),"number"==typeof e?this.style.setProperty("left",i.x+e+"px"):this.style.removeProperty("left"),"number"==typeof t?this.style.setProperty("top",i.y+t+"px"):this.style.removeProperty("top")},Element.prototype.isScrolledToBottom=function(){return Math.abs(this.scrollTop+this.clientHeight-this.scrollHeight)<=1},Constraints.prototype.isEqual=function(e){return!!e&&this.minimum.isEqual(e.minimum)&&this.preferred.isEqual(e.preferred)},Constraints.prototype.widthToMax=function(e){return"number"==typeof e?new Constraints(this.minimum.widthToMax(e),this.preferred.widthToMax(e)):new Constraints(this.minimum.widthToMax(e.minimum),this.preferred.widthToMax(e.preferred))},Constraints.prototype.addWidth=function(e){return"number"==typeof e?new Constraints(this.minimum.addWidth(e),this.preferred.addWidth(e)):new Constraints(this.minimum.addWidth(e.minimum),this.preferred.addWidth(e.preferred))},Constraints.prototype.heightToMax=function(e){return"number"==typeof e?new Constraints(this.minimum.heightToMax(e),this.preferred.heightToMax(e)):new Constraints(this.minimum.heightToMax(e.minimum),this.preferred.heightToMax(e.preferred))},Constraints.prototype.addHeight=function(e){return"number"==typeof e?new Constraints(this.minimum.addHeight(e),this.preferred.addHeight(e)):new Constraints(this.minimum.addHeight(e.minimum),this.preferred.addHeight(e.preferred))},Element.prototype.measurePreferredSize=function(e){e=e||document.body,e.appendChild(this),this.positionAt(0,0);var t=new Size(this.offsetWidth,this.offsetHeight);return this.positionAt(void 0,void 0),this.remove(),t},Element.prototype.containsEventPoint=function(e){var t=this.getBoundingClientRect();return t.left<e.x&&e.x<t.right&&t.top<e.y&&e.y<t.bottom},Node.prototype.enclosingNodeOrSelfWithNodeNameInArray=function(e){for(var t=this;t&&t!==this.ownerDocument;t=t.parentNode)for(var n=0;n<e.length;++n)if(t.nodeName.toLowerCase()===e[n].toLowerCase())return t;return null},Node.prototype.enclosingNodeOrSelfWithNodeName=function(e){return this.enclosingNodeOrSelfWithNodeNameInArray([e])},Node.prototype.enclosingNodeOrSelfWithClass=function(e,t){for(var n=this;n&&n!==t&&n!==this.ownerDocument;n=n.parentNode)if(n.nodeType===Node.ELEMENT_NODE&&n.classList.contains(e))return n;return null},Element.prototype.query=function(e){return this.ownerDocument.evaluate(e,this,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue},Element.prototype.removeChildren=function(){this.firstChild&&(this.textContent="")},Element.prototype.isInsertionCaretInside=function(){var e=window.getSelection();if(!e.rangeCount||!e.isCollapsed)return!1;var t=e.getRangeAt(0);return t.startContainer.isSelfOrDescendant(this)},Document.prototype.createElementWithClass=function(e,t){var n=this.createElement(e);return t&&(n.className=t),n},Element.prototype.createChild=function(e,t){var n=this.ownerDocument.createElementWithClass(e,t);return this.appendChild(n),n},DocumentFragment.prototype.createChild=Element.prototype.createChild,Element.prototype.createTextChild=function(e){var t=this.ownerDocument.createTextNode(e);return this.appendChild(t),t},DocumentFragment.prototype.createTextChild=Element.prototype.createTextChild,Element.prototype.createTextChildren=function(){for(var e=0,t=arguments.length;t>e;++e)this.createTextChild(arguments[e])},DocumentFragment.prototype.createTextChildren=Element.prototype.createTextChildren,Element.prototype.appendChildren=function(){for(var e=0,t=arguments.length;t>e;++e)this.appendChild(arguments[e])},Element.prototype.totalOffsetLeft=function(){return this.totalOffset().left},Element.prototype.totalOffsetTop=function(){return this.totalOffset().top},Element.prototype.totalOffset=function(){var e=this.getBoundingClientRect();return{left:e.left,top:e.top}},Element.prototype.scrollOffset=function(){for(var e=0,t=0,n=this;n;n=n.scrollParent)e+=n.scrollLeft,t+=n.scrollTop;return{left:e,top:t}},AnchorBox.prototype.relativeTo=function(e){return new AnchorBox(this.x-e.x,this.y-e.y,this.width,this.height)},AnchorBox.prototype.relativeToElement=function(e){return this.relativeTo(e.boxInWindow(e.ownerDocument.defaultView))},AnchorBox.prototype.equals=function(e){return!!e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height},Element.prototype.offsetRelativeToWindow=function(e){for(var t=new AnchorBox,n=this,i=this.ownerDocument.defaultView;i&&n&&(t.x+=n.totalOffsetLeft(),t.y+=n.totalOffsetTop(),i!==e);)n=i.frameElement,i=i.parent;return t},Element.prototype.boxInWindow=function(e){e=e||this.ownerDocument.defaultView;var t=this.offsetRelativeToWindow(window);return t.width=Math.min(this.offsetWidth,window.innerWidth-t.x),t.height=Math.min(this.offsetHeight,window.innerHeight-t.y),t},Element.prototype.setTextAndTitle=function(e){this.textContent=e,this.title=e},KeyboardEvent.prototype.__defineGetter__("data",function(){switch(this.type){case"keypress":return this.ctrlKey||this.metaKey?"":String.fromCharCode(this.charCode);case"keydown":case"keyup":return this.ctrlKey||this.metaKey||this.altKey?"":String.fromCharCode(this.which)}}),Event.prototype.consume=function(e){this.stopImmediatePropagation(),e&&this.preventDefault(),this.handled=!0},Text.prototype.select=function(e,t){e=e||0,t=t||this.textContent.length,0>e&&(e=t+e);var n=this.ownerDocument.defaultView.getSelection();n.removeAllRanges();var i=this.ownerDocument.createRange();return i.setStart(this,e),i.setEnd(this,t),n.addRange(i),this},Element.prototype.selectionLeftOffset=function(){var e=window.getSelection();if(!e.containsNode(this,!0))return null;for(var t=e.anchorOffset,n=e.anchorNode;n!==this;){for(;n.previousSibling;)n=n.previousSibling,t+=n.textContent.length;n=n.parentNode}return t},Node.prototype.isAncestor=function(e){if(!e)return!1;for(var t=e.parentNode;t;){if(this===t)return!0;t=t.parentNode}return!1},Node.prototype.isDescendant=function(e){return!!e&&e.isAncestor(this)},Node.prototype.isSelfOrAncestor=function(e){return!!e&&(e===this||this.isAncestor(e))},Node.prototype.isSelfOrDescendant=function(e){return!!e&&(e===this||this.isDescendant(e))},Node.prototype.traverseNextNode=function(e){var t=this.firstChild;if(t)return t;if(e&&this===e)return null;if(t=this.nextSibling)return t;for(t=this;!(!t||t.nextSibling||e&&t.parentNode&&t.parentNode===e);)t=t.parentNode;return t?t.nextSibling:null},Node.prototype.traversePreviousNode=function(e){if(e&&this===e)return null;for(var t=this.previousSibling;t&&t.lastChild;)t=t.lastChild;return t?t:this.parentNode},Node.prototype.setTextContentTruncatedIfNeeded=function(e,t){var n=65535;return"string"==typeof e&&e.length>n?(this.textContent="string"==typeof t?t:e.trimEnd(n),!0):(this.textContent=e,!1)},Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(){var e=this.getBoundingClientRect(),t=this.parentNode.getBoundingClientRect(),n=e.top<t.top,i=e.bottom>t.bottom,s=e.right>t.right,o=e.left<t.left;return n||i||s||o?this.scrollIntoView(!i):void 0}),Element.prototype.remove||(Element.prototype.remove=function(){return this.parentNode.removeChild(this)}),function(){if(!("keyIdentifier"in document.createEvent("KeyboardEvent"))){console.log("shimming keyIdentifier");var e,t={9:"U+0009",12:"Clear",13:"Enter",16:"U+00A0",17:"U+00A2",18:"U+00A4",19:"Pause",20:"CapsLock",27:"U+001B",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",42:"U+002A",45:"Insert",46:"U+007F",91:"Win",96:"U+0060",144:"U+0090",186:"U+00BA",187:"U+00BB",188:"U+00BC",189:"U+00BD",190:"U+00BE",191:"U+00BF",192:"U+00C0",219:"U+00DB",220:"U+00DC",221:"U+00DD",222:"U+00DE"};for(e=48;57>=e;e+=1)t[e]="U+00"+e.toString(16).toUpperCase();for(e=65;90>=e;e+=1)t[e]="U+00"+e.toString(16).toUpperCase();for(var n=1,i=111;12>=n;n+=1)t[n+i]="F"+n;KeyboardEvent.keyMap=t,Object.defineProperty(KeyboardEvent.prototype,"keyIdentifier",{get:function(){return this.which in KeyboardEvent.keyMap?KeyboardEvent.keyMap[this.which]:"Unknown"},enumerable:!0})}}(),TreeOutline.prototype.setFocusable=function(e){e?this._childrenListNode.setAttribute("tabIndex",0):this._childrenListNode.removeAttribute("tabIndex")},TreeOutline.prototype.appendChild=function(e){var t;t=this.treeOutline.comparator?insertionIndexForObjectInListSortedByFunction(e,this.children,this.treeOutline.comparator):this.children.length,this.insertChild(e,t)},TreeOutline.prototype.insertBeforeChild=function(e,t){if(!e)throw"child can't be undefined or null";if(!t)throw"beforeChild can't be undefined or null";var n=this.children.indexOf(t);if(-1===n)throw"beforeChild not found in this node's children";this.insertChild(e,n)},TreeOutline.prototype.insertChild=function(e,t){if(!e)throw"child can't be undefined or null";var n=t>0?this.children[t-1]:null;n?(n.nextSibling=e,e.previousSibling=n):e.previousSibling=null;var i=this.children[t];i?(i.previousSibling=e,e.nextSibling=i):e.nextSibling=null,this.children.splice(t,0,e),this.hasChildren=!0,e.parent=this,e.treeOutline=this.treeOutline,e.treeOutline._rememberTreeElement(e);for(var s=e.children[0];s;)s.treeOutline=this.treeOutline,s.treeOutline._rememberTreeElement(s),s=s.traverseNextTreeElement(!1,e,!0);e.hasChildren&&"undefined"!=typeof e.treeOutline._expandedStateMap.get(e.representedObject)&&(e.expanded=e.treeOutline._expandedStateMap.get(e.representedObject)),this._childrenListNode||(this._childrenListNode=this.treeOutline._childrenListNode.ownerDocument.createElement("ol"),this._childrenListNode.parentTreeElement=this,this._childrenListNode.classList.add("children"),this.hidden&&this._childrenListNode.classList.add("hidden")),e._attach()},TreeOutline.prototype.removeChildAtIndex=function(e){if(0>e||e>=this.children.length)throw"childIndex out of range";var t=this.children[e];this.children.splice(e,1);var n=t.parent;t.deselect()&&(t.previousSibling?t.previousSibling.select():t.nextSibling?t.nextSibling.select():n.select()),t.previousSibling&&(t.previousSibling.nextSibling=t.nextSibling),t.nextSibling&&(t.nextSibling.previousSibling=t.previousSibling),t.treeOutline&&(t.treeOutline._forgetTreeElement(t),t.treeOutline._forgetChildrenRecursive(t)),t._detach(),t.treeOutline=null,t.parent=null,t.nextSibling=null,t.previousSibling=null},TreeOutline.prototype.removeChild=function(e){if(!e)throw"child can't be undefined or null";var t=this.children.indexOf(e);if(-1===t)throw"child not found in this node's children";this.removeChildAtIndex.call(this,t)},TreeOutline.prototype.removeChildren=function(){for(var e=0;e<this.children.length;++e){var t=this.children[e];
t.deselect(),t.treeOutline&&(t.treeOutline._forgetTreeElement(t),t.treeOutline._forgetChildrenRecursive(t)),t._detach(),t.treeOutline=null,t.parent=null,t.nextSibling=null,t.previousSibling=null}this.children=[]},TreeOutline.prototype._rememberTreeElement=function(e){this._treeElementsMap.get(e.representedObject)||this._treeElementsMap.put(e.representedObject,[]);var t=this._treeElementsMap.get(e.representedObject);-1===t.indexOf(e)&&t.push(e)},TreeOutline.prototype._forgetTreeElement=function(e){if(this._treeElementsMap.get(e.representedObject)){var t=this._treeElementsMap.get(e.representedObject);t.remove(e,!0),t.length||this._treeElementsMap.remove(e.representedObject)}},TreeOutline.prototype._forgetChildrenRecursive=function(e){for(var t=e.children[0];t;)this._forgetTreeElement(t),t=t.traverseNextTreeElement(!1,e,!0)},TreeOutline.prototype.getCachedTreeElement=function(e){if(!e)return null;var t=this._treeElementsMap.get(e);return t&&t.length?t[0]:null},TreeOutline.prototype.findTreeElement=function(e,t){if(!e)return null;var n=this.getCachedTreeElement(e);if(n)return n;for(var i=[],s=t(e);s&&(i.push(s),!this.getCachedTreeElement(s));s=t(s));if(!s)return null;for(var o=i.length-1;o>=0;--o){var r=this.getCachedTreeElement(i[o]);r&&r.onpopulate()}return this.getCachedTreeElement(e)},TreeOutline.prototype.treeElementFromPoint=function(e,t){var n=this._childrenListNode.ownerDocument.elementFromPoint(e,t);if(!n)return null;var i=n.enclosingNodeOrSelfWithNodeNameInArray(["ol","li"]);return i?i.parentTreeElement||i.treeElement:null},TreeOutline.prototype._treeKeyDown=function(e){if(e.target===this._childrenListNode&&this.selectedTreeElement&&!e.shiftKey&&!e.metaKey&&!e.ctrlKey){var t,n=!1;if("Up"!==e.keyIdentifier||e.altKey)if("Down"!==e.keyIdentifier||e.altKey)if("Left"===e.keyIdentifier){if(this.selectedTreeElement.expanded)e.altKey?this.selectedTreeElement.collapseRecursively():this.selectedTreeElement.collapse(),n=!0;else if(this.selectedTreeElement.parent&&!this.selectedTreeElement.parent.root)if(n=!0,this.selectedTreeElement.parent.selectable){for(t=this.selectedTreeElement.parent;t&&!t.selectable;)t=t.parent;n=t?!0:!1}else this.selectedTreeElement.parent&&this.selectedTreeElement.parent.collapse()}else if("Right"===e.keyIdentifier)if(this.selectedTreeElement.revealed()){if(this.selectedTreeElement.hasChildren)if(n=!0,this.selectedTreeElement.expanded){for(t=this.selectedTreeElement.children[0];t&&!t.selectable;)t=t.nextSibling;n=t?!0:!1}else e.altKey?this.selectedTreeElement.expandRecursively():this.selectedTreeElement.expand()}else this.selectedTreeElement.reveal(),n=!0;else 8===e.keyCode||46===e.keyCode?n=this.selectedTreeElement.ondelete():isEnterKey(e)?n=this.selectedTreeElement.onenter():e.keyCode===WebInspector.KeyboardShortcut.Keys.Space.code&&(n=this.selectedTreeElement.onspace());else{for(t=this.selectedTreeElement.traverseNextTreeElement(!0);t&&!t.selectable;)t=t.traverseNextTreeElement(!this.expandTreeElementsWhenArrowing);n=t?!0:!1}else{for(t=this.selectedTreeElement.traversePreviousTreeElement(!0);t&&!t.selectable;)t=t.traversePreviousTreeElement(!this.expandTreeElementsWhenArrowing);n=t?!0:!1}t&&(t.reveal(),t.select(!1,!0)),n&&e.consume(!0)}},TreeOutline.prototype.expand=function(){},TreeOutline.prototype.collapse=function(){},TreeOutline.prototype.revealed=function(){return!0},TreeOutline.prototype.reveal=function(){},TreeOutline.prototype.select=function(){},TreeOutline.prototype.revealAndSelect=function(){},TreeElement.prototype={arrowToggleWidth:10,get selectable(){return this._hidden?!1:this._selectable},set selectable(e){this._selectable=e},get listItemElement(){return this._listItemNode},get childrenListElement(){return this._childrenListNode},get title(){return this._title},set title(e){this._title=e,this._setListItemNodeContent()},get tooltip(){return this._tooltip},set tooltip(e){this._tooltip=e,this._listItemNode&&(this._listItemNode.title=e?e:"")},get hasChildren(){return this._hasChildren},set hasChildren(e){this._hasChildren!==e&&(this._hasChildren=e,this._listItemNode&&(e?this._listItemNode.classList.add("parent"):(this._listItemNode.classList.remove("parent"),this.collapse())))},get hidden(){return this._hidden},set hidden(e){this._hidden!==e&&(this._hidden=e,e?(this._listItemNode&&this._listItemNode.classList.add("hidden"),this._childrenListNode&&this._childrenListNode.classList.add("hidden")):(this._listItemNode&&this._listItemNode.classList.remove("hidden"),this._childrenListNode&&this._childrenListNode.classList.remove("hidden")))},get shouldRefreshChildren(){return this._shouldRefreshChildren},set shouldRefreshChildren(e){this._shouldRefreshChildren=e,e&&this.expanded&&this.expand()},_setListItemNodeContent:function(){this._listItemNode&&("string"==typeof this._title?this._listItemNode.textContent=this._title:(this._listItemNode.removeChildren(),this._title&&this._listItemNode.appendChild(this._title)))}},TreeElement.prototype.appendChild=TreeOutline.prototype.appendChild,TreeElement.prototype.insertChild=TreeOutline.prototype.insertChild,TreeElement.prototype.insertBeforeChild=TreeOutline.prototype.insertBeforeChild,TreeElement.prototype.removeChild=TreeOutline.prototype.removeChild,TreeElement.prototype.removeChildAtIndex=TreeOutline.prototype.removeChildAtIndex,TreeElement.prototype.removeChildren=TreeOutline.prototype.removeChildren,TreeElement.prototype._attach=function(){(!this._listItemNode||this.parent._shouldRefreshChildren)&&(this._listItemNode&&this._listItemNode.parentNode&&this._listItemNode.parentNode.removeChild(this._listItemNode),this._listItemNode=this.treeOutline._childrenListNode.ownerDocument.createElement("li"),this._listItemNode.treeElement=this,this._setListItemNodeContent(),this._listItemNode.title=this._tooltip?this._tooltip:"",this.hidden&&this._listItemNode.classList.add("hidden"),this.hasChildren&&this._listItemNode.classList.add("parent"),this.expanded&&this._listItemNode.classList.add("expanded"),this.selected&&this._listItemNode.classList.add("selected"),this._listItemNode.addEventListener("mousedown",TreeElement.treeElementMouseDown,!1),this._listItemNode.addEventListener("selectstart",TreeElement.treeElementSelectStart,!1),this._listItemNode.addEventListener("click",TreeElement.treeElementToggled,!1),this._listItemNode.addEventListener("dblclick",TreeElement.treeElementDoubleClicked,!1),this.onattach());var e=null;this.nextSibling&&this.nextSibling._listItemNode&&this.nextSibling._listItemNode.parentNode===this.parent._childrenListNode&&(e=this.nextSibling._listItemNode),this.parent._childrenListNode.insertBefore(this._listItemNode,e),this._childrenListNode&&this.parent._childrenListNode.insertBefore(this._childrenListNode,this._listItemNode.nextSibling),this.selected&&this.select(),this.expanded&&this.expand()},TreeElement.prototype._detach=function(){this._listItemNode&&this._listItemNode.parentNode&&this._listItemNode.parentNode.removeChild(this._listItemNode),this._childrenListNode&&this._childrenListNode.parentNode&&this._childrenListNode.parentNode.removeChild(this._childrenListNode)},TreeElement.treeElementMouseDown=function(e){var t=e.currentTarget;t&&(delete t._selectionStarted,t.treeElement&&t.treeElement.selectable&&(t.treeElement.isEventWithinDisclosureTriangle(e)||t.treeElement.selectOnMouseDown(e)))},TreeElement.treeElementSelectStart=function(e){var t=e.currentTarget;t&&(t._selectionStarted=!0)},TreeElement.treeElementToggled=function(e){var t=e.currentTarget;if(t){if(t._selectionStarted){delete t._selectionStarted;var n=window.getSelection();if(n&&!n.isCollapsed&&t.isSelfOrAncestor(n.anchorNode)&&t.isSelfOrAncestor(n.focusNode))return}if(t.treeElement){var i=t.treeElement.toggleOnClick&&!t.treeElement.selectable,s=t.treeElement.isEventWithinDisclosureTriangle(e);(i||s)&&(e.target&&e.target.enclosingNodeOrSelfWithNodeName("a")||(t.treeElement.expanded?e.altKey?t.treeElement.collapseRecursively():t.treeElement.collapse():e.altKey?t.treeElement.expandRecursively():t.treeElement.expand(),e.consume()))}}},TreeElement.treeElementDoubleClicked=function(e){var t=e.currentTarget;if(t&&t.treeElement){var n=t.treeElement.ondblclick.call(t.treeElement,e);n||t.treeElement.hasChildren&&!t.treeElement.expanded&&t.treeElement.expand()}},TreeElement.prototype.collapse=function(){this._listItemNode&&this._listItemNode.classList.remove("expanded"),this._childrenListNode&&this._childrenListNode.classList.remove("expanded"),this.expanded=!1,this.treeOutline&&this.treeOutline._expandedStateMap.put(this.representedObject,!1),this.oncollapse()},TreeElement.prototype.collapseRecursively=function(){for(var e=this;e;)e.expanded&&e.collapse(),e=e.traverseNextTreeElement(!1,this,!0)},TreeElement.prototype.expand=function(){if(this.hasChildren&&(!this.expanded||this._shouldRefreshChildren||!this._childrenListNode)){if(this.expanded=!0,this.treeOutline&&this.treeOutline._expandedStateMap.put(this.representedObject,!0),this.treeOutline&&(!this._childrenListNode||this._shouldRefreshChildren)){this._childrenListNode&&this._childrenListNode.parentNode&&this._childrenListNode.parentNode.removeChild(this._childrenListNode),this._childrenListNode=this.treeOutline._childrenListNode.ownerDocument.createElement("ol"),this._childrenListNode.parentTreeElement=this,this._childrenListNode.classList.add("children"),this.hidden&&this._childrenListNode.classList.add("hidden"),this.onpopulate();for(var e=0;e<this.children.length;++e)this.children[e]._attach();delete this._shouldRefreshChildren}this._listItemNode&&(this._listItemNode.classList.add("expanded"),this._childrenListNode&&this._childrenListNode.parentNode!=this._listItemNode.parentNode&&this.parent._childrenListNode.insertBefore(this._childrenListNode,this._listItemNode.nextSibling)),this._childrenListNode&&this._childrenListNode.classList.add("expanded"),this.onexpand()}},TreeElement.prototype.expandRecursively=function(e){var t=this,n={},i=0;for(isNaN(e)&&(e=3);t;)e>i&&t.expand(),t=t.traverseNextTreeElement(!1,this,i>=e,n),i+=n.depthChange},TreeElement.prototype.hasAncestor=function(e){if(!e)return!1;for(var t=this.parent;t;){if(e===t)return!0;t=t.parent}return!1},TreeElement.prototype.reveal=function(){for(var e=this.parent;e&&!e.root;)e.expanded||e.expand(),e=e.parent;this.onreveal()},TreeElement.prototype.revealed=function(){for(var e=this.parent;e&&!e.root;){if(!e.expanded)return!1;e=e.parent}return!0},TreeElement.prototype.selectOnMouseDown=function(e){this.select(!1,!0)&&e.consume(!0)},TreeElement.prototype.select=function(e,t){return this.treeOutline&&this.selectable&&!this.selected?(this.treeOutline.selectedTreeElement&&this.treeOutline.selectedTreeElement.deselect(),this.selected=!0,e||this.treeOutline._childrenListNode.focus(),this.treeOutline?(this.treeOutline.selectedTreeElement=this,this._listItemNode&&this._listItemNode.classList.add("selected"),this.onselect(t)):!1):!1},TreeElement.prototype.revealAndSelect=function(e){this.reveal(),this.select(e)},TreeElement.prototype.deselect=function(){return this.treeOutline&&this.treeOutline.selectedTreeElement===this&&this.selected?(this.selected=!1,this.treeOutline.selectedTreeElement=null,this._listItemNode&&this._listItemNode.classList.remove("selected"),!0):!1},TreeElement.prototype.onpopulate=function(){},TreeElement.prototype.onenter=function(){return!1},TreeElement.prototype.ondelete=function(){return!1},TreeElement.prototype.onspace=function(){return!1},TreeElement.prototype.onattach=function(){},TreeElement.prototype.onexpand=function(){},TreeElement.prototype.oncollapse=function(){},TreeElement.prototype.ondblclick=function(){return!1},TreeElement.prototype.onreveal=function(){},TreeElement.prototype.onselect=function(){return!1},TreeElement.prototype.traverseNextTreeElement=function(e,t,n,i){!n&&this.hasChildren&&this.onpopulate(),i&&(i.depthChange=0);var s=e?this.revealed()?this.children[0]:null:this.children[0];if(s&&(!e||e&&this.expanded))return i&&(i.depthChange=1),s;if(this===t)return null;if(s=e?this.revealed()?this.nextSibling:null:this.nextSibling)return s;for(s=this;s&&!s.root&&!(e?s.revealed()?s.nextSibling:null:s.nextSibling)&&s.parent!==t;)i&&(i.depthChange-=1),s=s.parent;return s?e?s.revealed()?s.nextSibling:null:s.nextSibling:null},TreeElement.prototype.traversePreviousTreeElement=function(e,t){var n=e?this.revealed()?this.previousSibling:null:this.previousSibling;for(!t&&n&&n.hasChildren&&n.onpopulate();n&&(e?n.revealed()&&n.expanded?n.children[n.children.length-1]:null:n.children[n.children.length-1]);)!t&&n.hasChildren&&n.onpopulate(),n=e?n.revealed()&&n.expanded?n.children[n.children.length-1]:null:n.children[n.children.length-1];return n?n:!this.parent||this.parent.root?null:this.parent},TreeElement.prototype.isEventWithinDisclosureTriangle=function(e){var t=window.getComputedStyle(this._listItemNode).paddingLeft;console.assert(t.endsWith("px"));var n=parseFloat(t),i=this._listItemNode.totalOffsetLeft()+n;return e.pageX>=i&&e.pageX<=i+this.arrowToggleWidth&&this.hasChildren},WebInspector.Main=function(){function e(){console.log("windowLoaded"),this._loaded(),window.removeEventListener("DOMContentLoaded",t,!1)}console.log("main");var t=e.bind(this);window.addEventListener("DOMContentLoaded",t,!1)},WebInspector.Main.prototype={_createGlobalStatusBarItems:function(){function e(e,t){return e.descriptor().order-t.descriptor().order}function t(e){var t=e.descriptor();return t.className?e.instance().button():new WebInspector.StatusBarButton(WebInspector.UIString(t.title),t.elementClass)}var n=WebInspector.moduleManager.extensions(WebInspector.StatusBarButton.Provider);n.sort(e),n.forEach(function(e){var n;switch(e.descriptor().location){case"toolbar-left":n=t(e),n&&WebInspector.inspectorView.appendToLeftToolbar(n);break;case"toolbar-right":n=t(e),n&&WebInspector.inspectorView.appendToRightToolbar(n)}n&&e.descriptor().actionId&&n.addEventListener("click",function(){WebInspector.actionRegistry.execute(e.descriptor().actionId)})})},_calculateWorkerInspectorTitle:function(){function e(e,t,n){return e||n?void console.error(e):void InspectorFrontendHost.inspectedURLChanged(String(t.value))}var t="location.href";WebInspector.queryParam("isSharedWorker")&&(t+=" + (this.name ? ' (' + this.name + ')' : '')"),RuntimeAgent.invoke_evaluate({expression:t,doNotPauseOnExceptionsAndMuteConsole:!0,returnByValue:!0},e)},_loadCompletedForWorkers:function(){function e(e,i){i?t.call(this):WebInspector.isWorkerFrontend()&&n.call(this)}function t(){DebuggerAgent.pause(),RuntimeAgent.run(n.bind(this))}function n(){this._calculateWorkerInspectorTitle()}WebInspector.queryParam("workerPaused")?t.call(this):RuntimeAgent.isRunRequired(e.bind(this))},_loaded:function(){return console.timeStamp("Main._loaded"),WebInspector.queryParam("toolbox")?void new WebInspector.Toolbox:(this._createSettings(),this._createModuleManager(),void this._createAppUI())},_createSettings:function(){WebInspector.settings=new WebInspector.Settings,WebInspector.experimentsSettings=new WebInspector.ExperimentsSettings(null!==WebInspector.queryParam("experiments")),WebInspector.settings.pauseOnExceptionStateString=new WebInspector.PauseOnExceptionStateSetting,(new WebInspector.VersionController).updateVersion()},_createModuleManager:function(){console.timeStamp("Main._createModuleManager"),WebInspector.moduleManager=new WebInspector.ModuleManager(allDescriptors);var e=["main","console"];WebInspector.moduleManager.registerModules(e)},_createAppUI:function(){function e(e){WebInspector.setToolbarColors(e.data.backgroundColor,e.data.color)}console.log("createAppUI"),console.timeStamp("Main._createApp"),WebInspector.queryParam("toolbarColor")&&WebInspector.queryParam("textColor")&&WebInspector.setToolbarColors(WebInspector.queryParam("toolbarColor"),WebInspector.queryParam("textColor")),InspectorFrontendHost.events.addEventListener(InspectorFrontendHostAPI.Events.SetToolbarColors,e);var t=!!WebInspector.queryParam("can_dock");WebInspector.zoomManager=new WebInspector.ZoomManager,WebInspector.inspectorView=new WebInspector.InspectorView,WebInspector.dockController=new WebInspector.DockController(t),WebInspector.multitargetConsoleModel=new WebInspector.MultitargetConsoleModel,WebInspector.app=t?new WebInspector.AdvancedApp:WebInspector.queryParam("remoteFrontend")?new WebInspector.ScreencastApp:new WebInspector.SimpleApp,WebInspector.dockController.initialize(),WebInspector.app.createRootView(),setTimeout(this._createConnection.bind(this),0)},_createConnection:function(){console.timeStamp("Main._createConnection"),InspectorBackend.loadFromJSONIfNeeded(self._importScriptPathPrefix+"protocol.json");var e=WebInspector.queryParam("dedicatedWorkerId");if(e)return void this._connectionEstablished(new WebInspector.ExternalWorkerConnection(e));if(WebInspector.queryParam("ws")){var t="ws://"+WebInspector.queryParam("ws");return void InspectorBackendClass.WebSocketConnection.Create(t,this._connectionEstablished.bind(this))}return InspectorFrontendHost.isHostedMode()?void this._connectionEstablished(new InspectorBackendClass.StubConnection):void this._connectionEstablished(new InspectorBackendClass.MainConnection)},_connectionEstablished:function(e){function t(e){WebInspector._disconnectedScreenWithReasonWasShown||new WebInspector.RemoteDebuggingTerminatedScreen(e.data.reason).showModal()}function n(e){WebInspector.setToolbarColors(e.data.backgroundColor,e.data.color)}console.timeStamp("Main._connectionEstablished"),e.addEventListener(InspectorBackendClass.Connection.Events.Disconnected,t),InspectorBackend.setConnection(e),WebInspector.installPortStyles(),WebInspector.queryParam("toolbarColor")&&WebInspector.queryParam("textColor")&&WebInspector.setToolbarColors(WebInspector.queryParam("toolbarColor"),WebInspector.queryParam("textColor")),InspectorFrontendHost.events.addEventListener(InspectorFrontendHostAPI.Events.SetToolbarColors,n),WebInspector.targetManager.createTarget(WebInspector.UIString("Main"),e,this._mainTargetCreated.bind(this)),this._executionContextSelector=new WebInspector.ExecutionContextSelector,this._createGlobalStatusBarItems()},_mainTargetCreated:function(e){function t(){WebInspector.console.show()}function n(){console.timeStamp("Main.inspectorAgentEnableCallback"),WebInspector.app.presentUI(e),console.timeStamp("Main.inspectorAgentEnableCallbackPresentUI")}console.timeStamp("Main._mainTargetCreated"),console.log(e);var i=new WebInspector.ExecutionContext(e,0,null,!0,0);WebInspector.context.setFlavor(WebInspector.ExecutionContext,i),this._registerShortcuts();WebInspector.UIString("a panel chosen automatically");new WebInspector.Main.WarningErrorCounter,this._addMainEventListeners(document);var s=document.getElementById("error-warning-count");s.addEventListener("click",t,!1),n(),this._loadCompletedForWorkers(),InspectorFrontendAPI.loadCompleted()},_registerForwardedShortcuts:function(){var e=["main.reload","main.hard-reload"],t=WebInspector.shortcutRegistry.keysForActions(e).map(WebInspector.KeyboardShortcut.keyCodeAndModifiersFromKey);t.push({keyCode:WebInspector.KeyboardShortcut.Keys.F8.code}),InspectorFrontendHost.setWhitelistedShortcuts(JSON.stringify(t))},_registerMessageSinkListener:function(){function e(e){var t=e.data;t.show&&WebInspector.console.show()}WebInspector.console.addEventListener(WebInspector.Console.Events.MessageAdded,e)},_documentClick:function(e){function t(){InspectorFrontendHost.openInNewTab(n.href)}var n=e.target.enclosingNodeOrSelfWithNodeName("a");if(n&&n.href)return e.consume(!0),"_blank"===n.target?void InspectorFrontendHost.openInNewTab(n.href):(WebInspector.followLinkTimeout&&clearTimeout(WebInspector.followLinkTimeout),n.preventFollowOnDoubleClick?void(1===e.detail&&(WebInspector.followLinkTimeout=setTimeout(t,333))):void t())},_registerShortcuts:function(){return},_postDocumentKeyDown:function(e){return e.handled?void 0:!WebInspector.Dialog.currentInstance()&&WebInspector.inspectorView.currentPanel()&&(WebInspector.inspectorView.currentPanel().handleShortcut(e),e.handled)?void e.consume(!0):void 0},_documentCanCopy:function(e){WebInspector.inspectorView.currentPanel()&&WebInspector.inspectorView.currentPanel().handleCopyEvent&&e.preventDefault()},_documentCopy:function(e){WebInspector.inspectorView.currentPanel()&&WebInspector.inspectorView.currentPanel().handleCopyEvent&&WebInspector.inspectorView.currentPanel().handleCopyEvent(e)},_contextMenuEventFired:function(e){(e.handled||e.target.classList.contains("popup-glasspane"))&&e.preventDefault()},_addMainEventListeners:function(e){e.addEventListener("keydown",this._postDocumentKeyDown.bind(this),!1),e.addEventListener("beforecopy",this._documentCanCopy.bind(this),!0),e.addEventListener("copy",this._documentCopy.bind(this),!1),e.addEventListener("contextmenu",this._contextMenuEventFired.bind(this),!0),e.addEventListener("click",this._documentClick.bind(this),!1)},inspect:function(e,t){function n(e){o.stopOmittingDefaultSelection(),WebInspector.Revealer.reveal(e),WebInspector.inspectorView.drawerVisible()||WebInspector._notFirstInspectElement||InspectorFrontendHost.inspectElementCompleted(),WebInspector._notFirstInspectElement=!0,s.release()}function i(e){s.release(),e&&WebInspector.Revealer.reveal(WebInspector.DebuggerModel.Location.fromPayload(s.target(),e.location).toUILocation())}var s=WebInspector.runtimeModel.createRemoteObject(e);if(s.isNode()){s.pushNodeToFrontend(n);var o=WebInspector.inspectorView.panel("elements");return o.omitDefaultSelection(),void WebInspector.inspectorView.setCurrentPanel(o)}return"function"===s.type?void s.functionDetails(i):(t.copyToClipboard&&InspectorFrontendHost.copyText(s.value),void s.release())},detached:function(e){WebInspector._disconnectedScreenWithReasonWasShown=!0,new WebInspector.RemoteDebuggingTerminatedScreen(e).showModal()},targetCrashed:function(){new WebInspector.HelpScreenUntilReload(WebInspector.UIString("Inspected target crashed"),WebInspector.UIString("Inspected target has crashed. Once it reloads we will attach to it automatically.")).showModal()},evaluateForTestInFrontend:function(e,t){WebInspector.evaluateForTestInFrontend(e,t)}},WebInspector.reload=function(){InspectorAgent.reset(),window.location.reload()},new WebInspector.Main,WebInspector.__defineGetter__("inspectedPageURL",function(){return WebInspector.resourceTreeModel.inspectedPageURL()}),WebInspector.panel=function(e){return WebInspector.inspectorView.panel(e)},WebInspector.Main.WarningErrorCounter=function(){WebInspector.multitargetConsoleModel.addEventListener(WebInspector.ConsoleModel.Events.ConsoleCleared,this._updateErrorAndWarningCounts,this),WebInspector.multitargetConsoleModel.addEventListener(WebInspector.ConsoleModel.Events.MessageAdded,this._updateErrorAndWarningCounts,this)},WebInspector.Main.WarningErrorCounter.prototype={_updateErrorAndWarningCounts:function(){for(var e=0,t=0,n=WebInspector.targetManager.targets(),i=0;i<n.length;++i)e+=n[i].consoleModel.errors,t+=n[i].consoleModel.warnings;WebInspector.inspectorView.setErrorAndWarningCounts(e,t)}},WebInspector.Main.PauseListener=function(){WebInspector.targetManager.observeTargets(this)},WebInspector.Main.PauseListener.prototype={targetAdded:function(e){e.debuggerModel.addEventListener(WebInspector.DebuggerModel.Events.DebuggerPaused,this._debuggerPaused,this)},targetRemoved:function(e){e.debuggerModel.removeEventListener(WebInspector.DebuggerModel.Events.DebuggerPaused,this._debuggerPaused,this)},_debuggerPaused:function(e){for(var t=WebInspector.targetManager.targets(),n=0;n<t.length;++n)t[n].debuggerModel.removeEventListener(WebInspector.DebuggerModel.Events.DebuggerPaused,this._debuggerPaused,this);var i=e.target;WebInspector.context.setFlavor(WebInspector.Target,i.target()),WebInspector.targetManager.unobserveTargets(this),WebInspector.inspectorView.showPanel("sources")}},WebInspector.Main.InspectedNodeRevealer=function(){WebInspector.targetManager.observeTargets(this)},WebInspector.Main.InspectedNodeRevealer.prototype={targetAdded:function(e){e.domModel.addEventListener(WebInspector.DOMModel.Events.NodeInspected,this._inspectNode,this)},targetRemoved:function(e){e.domModel.removeEventListener(WebInspector.DOMModel.Events.NodeInspected,this._inspectNode,this)},_inspectNode:function(e){WebInspector.Revealer.reveal(e.data)}},InspectorBackendClass._DevToolsErrorCode=-32e3,InspectorBackendClass.prototype={_initProtocolAgentsConstructor:function(){window.Protocol={},window.Protocol.Agents=function(e){this._agentsMap=e}},_addAgentGetterMethodToProtocolAgentsPrototype:function(e){function t(){return this._agentsMap[e]}function n(t){this.registerDispatcher(e,t)}for(var i=0;i<e.length&&e[i].toLowerCase()!==e[i];)++i;var s=e.substr(0,i).toLowerCase()+e.slice(i)+"Agent";window.Protocol.Agents.prototype[s]=t,window.Protocol.Agents.prototype["register"+e+"Dispatcher"]=n},connection:function(){if(!this._connection)throw"Main connection was not initialized";return this._connection},setConnection:function(e){this._connection=e,this._connection.registerAgentsOn(window);for(var t in this._enums){var n=t.split(".");window[n[0]+"Agent"][n[1]]=this._enums[t]}},_agentPrototype:function(e){return this._agentPrototypes[e]||(this._agentPrototypes[e]=new InspectorBackendClass.AgentPrototype(e),this._addAgentGetterMethodToProtocolAgentsPrototype(e)),this._agentPrototypes[e]},_dispatcherPrototype:function(e){return this._dispatcherPrototypes[e]||(this._dispatcherPrototypes[e]=new InspectorBackendClass.DispatcherPrototype),this._dispatcherPrototypes[e]},registerCommand:function(e,t,n,i){var s=e.split(".");this._agentPrototype(s[0]).registerCommand(s[1],t,n,i),this._initialized=!0},registerEnum:function(e,t){this._enums[e]=t,this._initialized=!0},registerEvent:function(e,t){var n=e.split(".")[0];this._dispatcherPrototype(n).registerEvent(e,t),this._initialized=!0},registerDomainDispatcher:function(e,t){this._connection.registerDispatcher(e,t)},loadFromJSONIfNeeded:function(jsonUrl){if(!this._initialized){var xhr=new XMLHttpRequest;xhr.open("GET",jsonUrl,!1),xhr.send(null);var schema=JSON.parse(xhr.responseText),code=InspectorBackendClass._generateCommands(schema);eval(code)}},wrapClientCallback:function(e,t,n,i){function s(s,o){return s?(console.error(t+s),void e(i)):void e(n?new n(o):o)}return s}},InspectorBackendClass._generateCommands=function(e){function t(e,t,n){return[t,n][e].toUpperCase()}function n(e,n){for(var i=[],s=0;s<n.length;++s){var o=n[s],r=o.replace(/-(\w)/g,t.bind(null,1)).toTitleCase();r=r.replace(/HTML|XML|WML|API/gi,t.bind(null,0)),i.push(r+': "'+o+'"')}return'InspectorBackend.registerEnum("'+e+'", {'+i.join(", ")+"});"}var i,s,o,r,a,l,c,h={integer:"number",array:"object"},d={},p=[],u=e.domains||[];for(i=0;i<u.length;++i)for(a=u[i],s=0;a.types&&s<a.types.length;++s)r=a.types[s],d[a.domain+"."+r.id]=h[r.type]||r.type;for(i=0;i<u.length;++i){a=u[i];var m=a.types||[];for(s=0;s<m.length;++s)if(r=m[s],"string"===r.type&&r["enum"])p.push(n(a.domain+"."+r.id,r["enum"]));else if("object"===r.type){var _=r.properties||[];for(o=0;o<_.length;++o){var b=_[o];"string"===b.type&&b["enum"]&&p.push(n(a.domain+"."+r.id+b.name.toTitleCase(),b["enum"]))}}var f=a.commands||[];for(s=0;s<f.length;++s){var g=f[s],v=g.parameters;for(c=[],o=0;v&&o<v.length;++o){if(l=v[o],l.type)r=h[l.type]||l.type;else{var I=l.$ref;r=-1!==I.indexOf(".")?d[I]:d[a.domain+"."+I]}var C='{"name": "'+l.name+'", "type": "'+r+'", "optional": '+(l.optional?"true":"false")+"}";c.push(C)}var y=[],S=g.returns||[];for(o=0;o<S.length;++o)l=S[o],y.push('"'+l.name+'"');var W=String(Boolean(g.error));p.push('InspectorBackend.registerCommand("'+a.domain+"."+g.name+'", ['+c.join(", ")+"], ["+y.join(", ")+"], "+W+");")}for(s=0;a.events&&s<a.events.length;++s){var w=a.events[s];for(c=[],o=0;w.parameters&&o<w.parameters.length;++o)l=w.parameters[o],c.push('"'+l.name+'"');p.push('InspectorBackend.registerEvent("'+a.domain+"."+w.name+'", ['+c.join(", ")+"]);")}p.push("InspectorBackend.register"+a.domain+'Dispatcher = InspectorBackend.registerDomainDispatcher.bind(InspectorBackend, "'+a.domain+'");')}return p.join("\n")},InspectorBackendClass.Connection=function(){this._lastMessageId=1,this._pendingResponsesCount=0,this._agents={},this._dispatchers={},this._callbacks={},this._initialize(InspectorBackend._agentPrototypes,InspectorBackend._dispatcherPrototypes),this._isConnected=!0},InspectorBackendClass.Connection.Events={Disconnected:"Disconnected"},InspectorBackendClass.Connection.prototype={_initialize:function(e,t){var n;for(n in e)this._agents[n]=Object.create(e[n]),this._agents[n].setConnection(this);for(n in t)this._dispatchers[n]=Object.create(t[n])},registerAgentsOn:function(e){for(var t in this._agents)e[t+"Agent"]=this._agents[t]},nextMessageId:function(){return this._lastMessageId++},agent:function(e){return this._agents[e]},agentsMap:function(){return this._agents},_wrapCallbackAndSendMessageObject:function(e,t,n,i){if(!this._isConnected&&i)return void this._dispatchConnectionErrorResponse(e,t,i);var s={},o=this.nextMessageId();s.id=o,s.method=t,n&&(s.params=n);var r=this._wrap(i,e,t);InspectorBackendClass.Options.dumpInspectorProtocolMessages&&this._dumpProtocolMessage("frontend: "+JSON.stringify(s)),++this._pendingResponsesCount,this._callbacks[o]=r,this.sendMessage(s)},_wrap:function(e,t,n){return e||(e=function(){}),e.methodName=n,e.domain=t,InspectorBackendClass.Options.dumpInspectorTimeStats&&(e.sendRequestTime=Date.now()),e},sendMessage:function(){throw"Not implemented"},reportProtocolError:function(e){console.error("Protocol Error: the message with wrong id. Message =  "+JSON.stringify(e))},dispatch:function(e){InspectorBackendClass.Options.dumpInspectorProtocolMessages&&this._dumpProtocolMessage("backend: "+("string"==typeof e?e:JSON.stringify(e)));var t="string"==typeof e?JSON.parse(e):e;if("id"in t){var n=this._callbacks[t.id];if(!n)return void this.reportProtocolError(t);var i;return InspectorBackendClass.Options.dumpInspectorTimeStats&&(i=Date.now()),this.agent(n.domain).dispatchResponse(t,n.methodName,n),--this._pendingResponsesCount,delete this._callbacks[t.id],InspectorBackendClass.Options.dumpInspectorTimeStats&&console.log("time-stats: "+n.methodName+" = "+(i-n.sendRequestTime)+" + "+(Date.now()-i)),void(this._scripts&&!this._pendingResponsesCount&&this.runAfterPendingDispatches())}var s=t.method.split("."),o=s[0];return o in this._dispatchers?void this._dispatchers[o].dispatch(s[1],t):void console.error("Protocol Error: the message "+t.method+" is for non-existing domain '"+o+"'")},registerDispatcher:function(e,t){this._dispatchers[e]&&this._dispatchers[e].setDomainDispatcher(t)},runAfterPendingDispatches:function(e){if(this._scripts||(this._scripts=[]),e&&this._scripts.push(e),!this._pendingResponsesCount){var t=this._scripts;this._scripts=[];for(var n=0;n<t.length;++n)t[n].call(this)}},_dumpProtocolMessage:function(e){console.log(e)},connectionClosed:function(e){this._isConnected=!1,this._runPendingCallbacks(),this.dispatchEventToListeners(InspectorBackendClass.Connection.Events.Disconnected,{reason:e})},_runPendingCallbacks:function(){for(var e=Object.keys(this._callbacks).map(function(e){return parseInt(e,10)}),t=0;t<e.length;++t){var n=this._callbacks[e[t]];this._dispatchConnectionErrorResponse(n.domain,n.methodName,n)}this._callbacks={}},_dispatchConnectionErrorResponse:function(e,t,n){var i={message:"Connection is closed",code:InspectorBackendClass._DevToolsErrorCode,data:null},s={error:i};setTimeout(InspectorBackendClass.AgentPrototype.prototype.dispatchResponse.bind(this.agent(e),s,t,n),0)},__proto__:WebInspector.Object.prototype},InspectorBackendClass.MainConnection=function(){InspectorBackendClass.Connection.call(this),InspectorFrontendHost.events.addEventListener(InspectorFrontendHostAPI.Events.DispatchMessage,this._dispatchMessage,this)},InspectorBackendClass.MainConnection.prototype={sendMessage:function(e){var t=JSON.stringify(e);InspectorFrontendHost.sendMessageToBackend(t)},_dispatchMessage:function(e){this.dispatch(e.data)
},__proto__:InspectorBackendClass.Connection.prototype},InspectorBackendClass.WebSocketConnection=function(e,t){InspectorBackendClass.Connection.call(this),this._socket=new WebSocket(e),this._socket.onmessage=this._onMessage.bind(this),this._socket.onerror=this._onError.bind(this),this._socket.onopen=t.bind(null,this),this._socket.onclose=this.connectionClosed.bind(this,"websocket_closed")},InspectorBackendClass.WebSocketConnection.Create=function(e,t){new InspectorBackendClass.WebSocketConnection(e,t)},InspectorBackendClass.WebSocketConnection.prototype={_onMessage:function(e){var t=e.data;this.dispatch(t)},_onError:function(e){console.error(e)},sendMessage:function(e){var t=JSON.stringify(e);this._socket.send(t)},__proto__:InspectorBackendClass.Connection.prototype},InspectorBackendClass.StubConnection=function(){InspectorBackendClass.Connection.call(this)},InspectorBackendClass.StubConnection.prototype={sendMessage:function(e){jsh.handleMessage(e)},_echoResponse:function(e){this.dispatch(e)},__proto__:InspectorBackendClass.Connection.prototype},InspectorBackendClass.AgentPrototype=function(e){this._replyArgs={},this._hasErrorData={},this._domain=e},InspectorBackendClass.AgentPrototype.prototype={setConnection:function(e){this._connection=e},registerCommand:function(e,t,n,i){function s(){var e=[r,t].concat(Array.prototype.slice.call(arguments));InspectorBackendClass.AgentPrototype.prototype._sendMessageToBackend.apply(this,e)}function o(){var e=[r].concat(Array.prototype.slice.call(arguments));InspectorBackendClass.AgentPrototype.prototype._invoke.apply(this,e)}var r=this._domain+"."+e;this[e]=s,this["invoke_"+e]=o,this._replyArgs[r]=n,i&&(this._hasErrorData[r]=!0)},_sendMessageToBackend:function(e,t){for(var n=Array.prototype.slice.call(arguments,2),i=n.length&&"function"==typeof n[n.length-1]?n.pop():null,s={},o=!1,r=0;r<t.length;++r){var a=t[r],l=a.name,c=a.type,h=a.optional;if(!n.length&&!h)return void console.error("Protocol Error: Invalid number of arguments for method '"+e+"' call. It must have the following arguments '"+JSON.stringify(t)+"'.");var d=n.shift();if(!h||"undefined"!=typeof d){if(typeof d!==c)return void console.error("Protocol Error: Invalid type of argument '"+l+"' for method '"+e+"' call. It must be '"+c+"' but it is '"+typeof d+"'.");s[l]=d,o=!0}}return 1!==n.length||i||"undefined"==typeof n[0]?void this._connection._wrapCallbackAndSendMessageObject(this._domain,e,o?s:null,i):void console.error("Protocol Error: Optional callback argument for method '"+e+"' call must be a function but its type is '"+typeof n[0]+"'.")},_invoke:function(e,t,n){this._connection._wrapCallbackAndSendMessageObject(this._domain,e,t,n)},dispatchResponse:function(e,t,n){e.error&&e.error.code!==InspectorBackendClass._DevToolsErrorCode&&!InspectorBackendClass.Options.suppressRequestErrors&&console.error("Request with id = "+e.id+" failed. "+JSON.stringify(e.error));var i=[];if(i[0]=e.error?e.error.message:null,this._hasErrorData[t]&&(i[1]=e.error?e.error.data:null),e.result)for(var s=this._replyArgs[t]||[],o=0;o<s.length;++o)i.push(e.result[s[o]]);n.apply(null,i)}},InspectorBackendClass.DispatcherPrototype=function(){this._eventArgs={},this._dispatcher=null},InspectorBackendClass.DispatcherPrototype.prototype={registerEvent:function(e,t){this._eventArgs[e]=t},setDomainDispatcher:function(e){this._dispatcher=e},dispatch:function(e,t){if(this._dispatcher){if(!(e in this._dispatcher))return void console.error("Protocol Error: Attempted to dispatch an unimplemented method '"+t.method+"'");if(!this._eventArgs[t.method])return void console.error("Protocol Error: Attempted to dispatch an unspecified method '"+t.method+"'");var n=[];if(t.params)for(var i=this._eventArgs[t.method],s=0;s<i.length;++s)n.push(t.params[i[s]]);var o;InspectorBackendClass.Options.dumpInspectorTimeStats&&(o=Date.now()),this._dispatcher[e].apply(this._dispatcher,n),InspectorBackendClass.Options.dumpInspectorTimeStats&&console.log("time-stats: "+t.method+" = "+(Date.now()-o))}}},InspectorBackendClass.Options={dumpInspectorTimeStats:!1,dumpInspectorProtocolMessages:!0,suppressRequestErrors:!1},InspectorBackend=new InspectorBackendClass,InspectorFrontendHostAPI.ContextMenuDescriptor=InspectorFrontendHostAPI.ContextMenuDescriptor,InspectorFrontendHostAPI.Events={AppendedToURL:"appendedToURL",CanceledSaveURL:"canceledSaveURL",ContextMenuCleared:"contextMenuCleared",ContextMenuItemSelected:"contextMenuItemSelected",DeviceCountUpdated:"deviceCountUpdated",DevicesUpdated:"devicesUpdated",DispatchMessage:"dispatchMessage",EnterInspectElementMode:"enterInspectElementMode",FileSystemsLoaded:"fileSystemsLoaded",FileSystemRemoved:"fileSystemRemoved",FileSystemAdded:"fileSystemAdded",IndexingTotalWorkCalculated:"indexingTotalWorkCalculated",IndexingWorked:"indexingWorked",IndexingDone:"indexingDone",KeyEventUnhandled:"keyEventUnhandled",RevealSourceLine:"revealSourceLine",SavedURL:"savedURL",SearchCompleted:"searchCompleted",SetToolbarColors:"setToolbarColors",SetUseSoftMenu:"setUseSoftMenu",ShowConsole:"showConsole"},InspectorFrontendHostAPI.EventDescriptors=[[InspectorFrontendHostAPI.Events.AppendedToURL,["url"]],[InspectorFrontendHostAPI.Events.CanceledSaveURL,["url"]],[InspectorFrontendHostAPI.Events.ContextMenuCleared,[]],[InspectorFrontendHostAPI.Events.ContextMenuItemSelected,["id"]],[InspectorFrontendHostAPI.Events.DeviceCountUpdated,["count"]],[InspectorFrontendHostAPI.Events.DevicesUpdated,["devices"]],[InspectorFrontendHostAPI.Events.DispatchMessage,["messageObject"]],[InspectorFrontendHostAPI.Events.EnterInspectElementMode,[],!0],[InspectorFrontendHostAPI.Events.FileSystemsLoaded,["fileSystems"]],[InspectorFrontendHostAPI.Events.FileSystemRemoved,["fileSystemPath"]],[InspectorFrontendHostAPI.Events.FileSystemAdded,["errorMessage","fileSystem"]],[InspectorFrontendHostAPI.Events.IndexingTotalWorkCalculated,["requestId","fileSystemPath","totalWork"]],[InspectorFrontendHostAPI.Events.IndexingWorked,["requestId","fileSystemPath","worked"]],[InspectorFrontendHostAPI.Events.IndexingDone,["requestId","fileSystemPath"]],[InspectorFrontendHostAPI.Events.KeyEventUnhandled,["event"],!0],[InspectorFrontendHostAPI.Events.RevealSourceLine,["url","lineNumber","columnNumber"],!0],[InspectorFrontendHostAPI.Events.SavedURL,["url"]],[InspectorFrontendHostAPI.Events.SearchCompleted,["requestId","fileSystemPath","files"]],[InspectorFrontendHostAPI.Events.SetToolbarColors,["backgroundColor","color"]],[InspectorFrontendHostAPI.Events.SetUseSoftMenu,["useSoftMenu"]],[InspectorFrontendHostAPI.Events.ShowConsole,[],!0]],InspectorFrontendHostAPI.prototype={addFileSystem:function(){},append:function(){},indexPath:function(){},getSelectionBackgroundColor:function(){},getSelectionForegroundColor:function(){},setInspectedPageBounds:function(){},setContentsResizingStrategy:function(){},setWhitelistedShortcuts:function(){},inspectElementCompleted:function(){},moveWindowBy:function(){},openInNewTab:function(){},removeFileSystem:function(){},requestFileSystems:function(){},save:function(){},searchInPath:function(){},stopIndexing:function(){},bringToFront:function(){},openUrlOnRemoteDeviceAndInspect:function(){},closeWindow:function(){},copyText:function(){},inspectedURLChanged:function(){},isolatedFileSystem:function(){},upgradeDraggedFileSystemPermissions:function(){},platform:function(){},port:function(){},recordActionTaken:function(){},recordPanelShown:function(){},sendMessageToBackend:function(){},sendMessageToEmbedder:function(){},setDeviceCountUpdatesEnabled:function(){},setDevicesUpdatesEnabled:function(){},setInjectedScriptForOrigin:function(){},setIsDocked:function(){},setZoomFactor:function(){},zoomFactor:function(){},zoomIn:function(){},zoomOut:function(){},resetZoom:function(){},showContextMenuAtPoint:function(){},isUnderTest:function(){},isHostedMode:function(){}},WebInspector.InspectorFrontendHostStub=function(){},WebInspector.InspectorFrontendHostStub.prototype={getSelectionBackgroundColor:function(){return"#6e86ff"},getSelectionForegroundColor:function(){return"#ffffff"},platform:function(){var e=navigator.userAgent.match(/Windows NT/);return e?"windows":(e=navigator.userAgent.match(/Mac OS X/),e?"mac":"linux")},port:function(){return"unknown"},bringToFront:function(){this._windowVisible=!0},closeWindow:function(){this._windowVisible=!1},setIsDocked:function(){},setInspectedPageBounds:function(){},setContentsResizingStrategy:function(){},inspectElementCompleted:function(){},moveWindowBy:function(){},setInjectedScriptForOrigin:function(){},inspectedURLChanged:function(e){document.title=WebInspector.UIString("Developer Tools - %s",e)},copyText:function(){WebInspector.console.error("Clipboard is not enabled in hosted mode. Please inspect using chrome://inspect")},openInNewTab:function(e){window.open(e,"_blank")},save:function(e){WebInspector.console.error("Saving files is not enabled in hosted mode. Please inspect using chrome://inspect"),this.events.dispatchEventToListeners(InspectorFrontendHostAPI.Events.CanceledSaveURL,e)},append:function(){WebInspector.console.error("Saving files is not enabled in hosted mode. Please inspect using chrome://inspect")},sendMessageToBackend:function(){},sendMessageToEmbedder:function(){},recordActionTaken:function(){},recordPanelShown:function(){},requestFileSystems:function(){},addFileSystem:function(){},removeFileSystem:function(){},isolatedFileSystem:function(){return null},upgradeDraggedFileSystemPermissions:function(){},indexPath:function(){},stopIndexing:function(){},searchInPath:function(){},setZoomFactor:function(){},zoomFactor:function(){return 1},zoomIn:function(){},zoomOut:function(){},resetZoom:function(){},setWhitelistedShortcuts:function(){},isUnderTest:function(){return!1},openUrlOnRemoteDeviceAndInspect:function(){},setDeviceCountUpdatesEnabled:function(){},setDevicesUpdatesEnabled:function(){},showContextMenuAtPoint:function(){throw"Soft context menu should be used"},isHostedMode:function(){return!0}};var InspectorFrontendHost=window.InspectorFrontendHost||null;!function(){function e(e){console.error("Incompatible embedder: method InspectorFrontendHost."+e+" is missing. Using stub instead.");var n=Array.prototype.slice.call(arguments,1);return t[e].apply(InspectorFrontendHost,n)}if(InspectorFrontendHost){var t=WebInspector.InspectorFrontendHostStub.prototype;for(var n in t){var i=t[n];"function"!=typeof i||InspectorFrontendHost[n]||(InspectorFrontendHost[n]=e.bind(null,n))}}else InspectorFrontendHost=new WebInspector.InspectorFrontendHostStub;InspectorFrontendHost.events=new WebInspector.Object}(),InspectorFrontendAPIImpl.prototype={loadCompleted:function(){this._isLoaded=!0;for(var e=0;e<this._pendingCommands.length;++e)this._pendingCommands[e]();this._pendingCommands=[],window.opener&&window.opener.postMessage(["loadCompleted"],"*")},_dispatch:function(e,t,n){function i(){if(t.length<2)return void InspectorFrontendHost.events.dispatchEventToListeners(e,s[0]);for(var n={},i=0;i<t.length;++i)n[t[i]]=s[i];InspectorFrontendHost.events.dispatchEventToListeners(e,n)}var s=Array.prototype.slice.call(arguments,3);n?this._runOnceLoaded(i):i()},_runOnceLoaded:function(e){return this._isLoaded?void e():void this._pendingCommands.push(e)},embedderMessageAck:function(e,t){InspectorFrontendHost.embedderMessageAck(e,t)}};var InspectorFrontendAPI=new InspectorFrontendAPIImpl;WebInspector.platform=function(){return WebInspector._platform||(WebInspector._platform="linux"),WebInspector._platform},WebInspector.isMac=function(){return"undefined"==typeof WebInspector._isMac&&(WebInspector._isMac="mac"===WebInspector.platform()),WebInspector._isMac},WebInspector.isWin=function(){return"undefined"==typeof WebInspector._isWin&&(WebInspector._isWin="windows"===WebInspector.platform()),WebInspector._isWin},WebInspector.PlatformFlavor={WindowsVista:"windows-vista",MacTiger:"mac-tiger",MacLeopard:"mac-leopard",MacSnowLeopard:"mac-snowleopard",MacLion:"mac-lion"},WebInspector.platformFlavor=function(){function e(){var e,t=navigator.userAgent;if("windows"===WebInspector.platform())return e=t.match(/Windows NT (\d+)\.(?:\d+)/),e&&e[1]>=6?WebInspector.PlatformFlavor.WindowsVista:null;if("mac"===WebInspector.platform()){if(e=t.match(/Mac OS X\s*(?:(\d+)_(\d+))?/),!e||10!=e[1])return WebInspector.PlatformFlavor.MacSnowLeopard;switch(Number(e[2])){case 4:return WebInspector.PlatformFlavor.MacTiger;case 5:return WebInspector.PlatformFlavor.MacLeopard;case 6:return WebInspector.PlatformFlavor.MacSnowLeopard;case 7:return WebInspector.PlatformFlavor.MacLion;case 8:case 9:default:return""}}}return WebInspector._platformFlavor||(WebInspector._platformFlavor=e()),WebInspector._platformFlavor},WebInspector.port=function(){return WebInspector._port||(WebInspector._port=InspectorFrontendHost.port()),WebInspector._port},WebInspector.fontFamily=function(){if(WebInspector._fontFamily)return WebInspector._fontFamily;switch(WebInspector.platform()){case"linux":WebInspector._fontFamily="Ubuntu, Arial, sans-serif";break;case"mac":WebInspector._fontFamily="'Lucida Grande', sans-serif";break;case"windows":WebInspector._fontFamily="'Segoe UI', Tahoma, sans-serif"}return WebInspector._fontFamily},WebInspector.monospaceFontFamily=function(){if(WebInspector._monospaceFontFamily)return WebInspector._monospaceFontFamily;switch(WebInspector.platform()){case"linux":WebInspector._monospaceFontFamily="dejavu sans mono, monospace";break;case"mac":WebInspector._monospaceFontFamily="Menlo, monospace";break;case"windows":WebInspector._monospaceFontFamily="Consolas, monospace"}return WebInspector._monospaceFontFamily},WebInspector.isWorkerFrontend=function(){return!!WebInspector.queryParam("dedicatedWorkerId")||!!WebInspector.queryParam("isSharedWorker")},WebInspector.Target=function(e,t,n){Protocol.Agents.call(this,t.agentsMap()),this._weakReference=new WeakReference(this),this._name=e,this._connection=t,t.addEventListener(InspectorBackendClass.Connection.Events.Disconnected,this._onDisconnect,this),this._id=WebInspector.Target._nextId++,this._capabilities={},this._loadedWithCapabilities(n),this.profilingLock=new WebInspector.Lock},WebInspector.Target.Capabilities={canScreencast:"canScreencast",hasTouchInputs:"hasTouchInputs",canProfilePower:"canProfilePower",canInspectWorkers:"canInspectWorkers"},WebInspector.Target._nextId=1,WebInspector.Target.prototype={id:function(){return this._id},name:function(){return this._name},weakReference:function(){return this._weakReference},_initializeCapability:function(e,t,n,i){this._capabilities[e]=i,t&&t()},hasCapability:function(e){return!!this._capabilities[e]},_loadedWithCapabilities:function(e){this.consoleModel=new WebInspector.ConsoleModel(this),this.runtimeModel=new WebInspector.RuntimeModel(this),WebInspector.runtimeModel||(WebInspector.runtimeModel=this.runtimeModel),this.hasCapability(WebInspector.Target.Capabilities.canProfilePower)&&(WebInspector.powerProfiler=new WebInspector.PowerProfiler),e&&e(this)},registerDispatcher:function(e,t){this._connection.registerDispatcher(e,t)},isWorkerTarget:function(){return!this.hasCapability(WebInspector.Target.Capabilities.canInspectWorkers)},isMobile:function(){return this.hasCapability(WebInspector.Target.Capabilities.canScreencast)},_onDisconnect:function(){WebInspector.targetManager.removeTarget(this),this._dispose()},_dispose:function(){this._weakReference.clear(),this.debuggerModel.dispose(),this.networkManager.dispose(),this.cpuProfilerModel.dispose()},__proto__:Protocol.Agents.prototype},WebInspector.SDKObject=function(e){WebInspector.Object.call(this),this._target=e},WebInspector.SDKObject.prototype={target:function(){return this._target},__proto__:WebInspector.Object.prototype},WebInspector.TargetManager=function(){this._targets=[],this._observers=[]},WebInspector.TargetManager.prototype={observeTargets:function(e){this.targets().forEach(e.targetAdded.bind(e)),this._observers.push(e)},unobserveTargets:function(e){this._observers.remove(e)},createTarget:function(e,t,n){function i(e){this.addTarget(e),n&&n(e)}new WebInspector.Target(e,t,i.bind(this))},addTarget:function(e){this._targets.push(e);for(var t=this._observers,n=0;n<t.length;++n)t[n].targetAdded(e)},removeTarget:function(e){this._targets.remove(e);for(var t=this._observers.slice(),n=0;n<t.length;++n)t[n].targetRemoved(e)},targets:function(){return this._targets.slice()},mainTarget:function(){return this._targets[0]}},WebInspector.TargetManager.Observer=function(){},WebInspector.TargetManager.Observer.prototype={targetAdded:function(){},targetRemoved:function(){}},WebInspector.targetManager=new WebInspector.TargetManager,WebInspector.Context=function(){this._flavors=new Map,this._eventDispatchers=new Map},WebInspector.Context.Events={FlavorChanged:"FlavorChanged"},WebInspector.Context.prototype={setFlavor:function(e,t){var n=this._flavors.get(e)||null;n!==t&&(t?this._flavors.put(e,t):this._flavors.remove(e),this._dispatchFlavorChange(e,t))},_dispatchFlavorChange:function(e,t){var n=this._eventDispatchers.get(e);n&&n.dispatchEventToListeners(WebInspector.Context.Events.FlavorChanged,t)},addFlavorChangeListener:function(e,t,n){var i=this._eventDispatchers.get(e);i||(i=new WebInspector.Object,this._eventDispatchers.put(e,i)),i.addEventListener(WebInspector.Context.Events.FlavorChanged,t,n)},removeFlavorChangeListener:function(e,t,n){var i=this._eventDispatchers.get(e);i&&(i.removeEventListener(WebInspector.Context.Events.FlavorChanged,t,n),i.hasEventListeners(WebInspector.Context.Events.FlavorChanged)||this._eventDispatchers.remove(e))},flavor:function(e){return this._flavors.get(e)||null},flavors:function(){return this._flavors.keys()},applicableExtensions:function(e){var t=new Set,n=Set.fromArray(this.flavors());return e.forEach(function(e){WebInspector.moduleManager.isExtensionApplicableToContextTypes(e,n)&&t.add(e)}),t}},WebInspector.context=new WebInspector.Context,WebInspector.ExecutionContextSelector=function(){WebInspector.targetManager.observeTargets(this),WebInspector.context.addFlavorChangeListener(WebInspector.ExecutionContext,this._executionContextChanged,this),WebInspector.context.addFlavorChangeListener(WebInspector.Target,this._targetChanged,this)},WebInspector.ExecutionContextSelector.prototype={targetAdded:function(e){console.log("yaaay new target",e),WebInspector.context.flavor(WebInspector.Target)||WebInspector.context.setFlavor(WebInspector.Target,e),e.runtimeModel.addEventListener(WebInspector.RuntimeModel.Events.ExecutionContextCreated,this._onExecutionContextCreated,this),e.runtimeModel.addEventListener(WebInspector.RuntimeModel.Events.ExecutionContextDestroyed,this._onExecutionContextDestroyed,this)},targetRemoved:function(e){e.runtimeModel.removeEventListener(WebInspector.RuntimeModel.Events.ExecutionContextCreated,this._onExecutionContextCreated,this),e.runtimeModel.removeEventListener(WebInspector.RuntimeModel.Events.ExecutionContextDestroyed,this._onExecutionContextDestroyed,this);var t=WebInspector.context.flavor(WebInspector.ExecutionContext);t&&t.target()===e&&this._currentExecutionContextGone();var n=WebInspector.targetManager.targets();WebInspector.context.flavor(WebInspector.Target)===e&&n.length&&WebInspector.context.setFlavor(WebInspector.Target,n[0])},_executionContextChanged:function(e){var t=e.data;t&&WebInspector.context.setFlavor(WebInspector.Target,t.target())},_targetChanged:function(e){var t=e.data,n=WebInspector.context.flavor(WebInspector.ExecutionContext);if(t&&(!n||n.target()!==t)){var i=t.runtimeModel.executionContexts();if(console.log("execution contexts!",i),i.length){for(var s=i[0],o=1;o<i.length;++o)i[o].isMainWorldContext&&(s=i[o]);WebInspector.context.setFlavor(WebInspector.ExecutionContext,s)}}},_onExecutionContextCreated:function(e){var t=e.data;WebInspector.context.flavor(WebInspector.ExecutionContext)||WebInspector.context.setFlavor(WebInspector.ExecutionContext,t)},_onExecutionContextDestroyed:function(e){var t=e.data;WebInspector.context.flavor(WebInspector.ExecutionContext)===t&&this._currentExecutionContextGone()},_currentExecutionContextGone:function(){for(var e=WebInspector.targetManager.targets(),t=null,n=0;n<e.length;++n){var i=e[n].runtimeModel.executionContexts();if(i.length){t=i[0];break}}WebInspector.context.setFlavor(WebInspector.ExecutionContext,t)}},WebInspector.ExecutionContextSelector.completionsForTextPromptInCurrentContext=function(e,t,n,i){var s=WebInspector.context.flavor(WebInspector.ExecutionContext);if(!s)return void i([]);var o=t.startContainer.rangeOfWord(t.startOffset," =:[({;,!+-*/&|^<>",e,"backward"),r=o.toString(),a=t.toString();s.completionsForExpression(r,a,n,i)},WebInspector.View=function(){this.element=document.createElementWithClass("div","view"),this.element.__view=this,this._visible=!0,this._isRoot=!1,this._isShowing=!1,this._children=[],this._hideOnDetach=!1,this._cssFiles=[],this._notificationDepth=0},WebInspector.View._cssFileToVisibleViewCount={},WebInspector.View._cssFileToStyleElement={},WebInspector.View._cssUnloadTimeout=2e3,WebInspector.View._buildSourceURL=function(e){return"\n/*# sourceURL="+WebInspector.ParsedURL.completeURL(window.location.href,e)+" */"},WebInspector.View.createStyleElement=function(e){var t=document.createElement("style");return t.type="text/css",t.textContent=loadResource(e)+WebInspector.View._buildSourceURL(e),document.head.insertBefore(t,document.head.firstChild),t},WebInspector.View.prototype={markAsRoot:function(){WebInspector.View.__assert(!this.element.parentElement,"Attempt to mark as root attached node"),this._isRoot=!0},parentView:function(){return this._parentView},children:function(){return this._children},isShowing:function(){return this._isShowing},setHideOnDetach:function(){this._hideOnDetach=!0},_inNotification:function(){return!!this._notificationDepth||this._parentView&&this._parentView._inNotification()},_parentIsShowing:function(){return this._isRoot?!0:this._parentView&&this._parentView.isShowing()},_callOnVisibleChildren:function(e){for(var t=this._children.slice(),n=0;n<t.length;++n)t[n]._parentView===this&&t[n]._visible&&e.call(t[n])},_processWillShow:function(){this._loadCSSIfNeeded(),this._callOnVisibleChildren(this._processWillShow),this._isShowing=!0},_processWasShown:function(){this._inNotification()||(this.restoreScrollPositions(),this._notify(this.wasShown),this._callOnVisibleChildren(this._processWasShown))},_processWillHide:function(){this._inNotification()||(this.storeScrollPositions(),this._callOnVisibleChildren(this._processWillHide),this._notify(this.willHide),this._isShowing=!1)},_processWasHidden:function(){this._disableCSSIfNeeded(),this._callOnVisibleChildren(this._processWasHidden)},_processOnResize:function(){this._inNotification()||this.isShowing()&&(this._notify(this.onResize),this._callOnVisibleChildren(this._processOnResize))},_notify:function(e){++this._notificationDepth;try{e.call(this)}finally{--this._notificationDepth}},wasShown:function(){},willHide:function(){},onResize:function(){},onLayout:function(){},show:function(e,t){if(WebInspector.View.__assert(e,"Attempt to attach view with no parent element"),this.element.parentElement!==e){this.element.parentElement&&this.detach();for(var n=e;n&&!n.__view;)n=n.parentElement;n?(this._parentView=n.__view,this._parentView._children.push(this),this._isRoot=!1):WebInspector.View.__assert(this._isRoot,"Attempt to attach view to orphan node")}else if(this._visible)return;this._visible=!0,this._parentIsShowing()&&this._processWillShow(),this.element.classList.add("visible"),this.element.parentElement!==e&&(WebInspector.View._incrementViewCounter(e,this.element),t?WebInspector.View._originalInsertBefore.call(e,this.element,t):WebInspector.View._originalAppendChild.call(e,this.element)),this._parentIsShowing()&&this._processWasShown(),this._parentView&&this._hasNonZeroConstraints()?this._parentView.invalidateConstraints():this._processOnResize()},detach:function(e){var t=this.element.parentElement;if(t){if(this._parentIsShowing()&&this._processWillHide(),this._hideOnDetach&&!e)return this.element.classList.remove("visible"),this._visible=!1,this._parentIsShowing()&&this._processWasHidden(),void(this._parentView&&this._hasNonZeroConstraints()&&this._parentView.invalidateConstraints());if(WebInspector.View._decrementViewCounter(t,this.element),WebInspector.View._originalRemoveChild.call(t,this.element),this._visible=!1,this._parentIsShowing()&&this._processWasHidden(),this._parentView){var n=this._parentView._children.indexOf(this);WebInspector.View.__assert(n>=0,"Attempt to remove non-child view"),this._parentView._children.splice(n,1);var i=this._parentView;this._parentView=null,this._hasNonZeroConstraints()&&i.invalidateConstraints()}else WebInspector.View.__assert(this._isRoot,"Removing non-root view from DOM")}},detachChildViews:function(){for(var e=this._children.slice(),t=0;t<e.length;++t)e[t].detach()},elementsToRestoreScrollPositionsFor:function(){return[this.element]},storeScrollPositions:function(){for(var e=this.elementsToRestoreScrollPositionsFor(),t=0;t<e.length;++t){var n=e[t];n._scrollTop=n.scrollTop,n._scrollLeft=n.scrollLeft}},restoreScrollPositions:function(){for(var e=this.elementsToRestoreScrollPositionsFor(),t=0;t<e.length;++t){var n=e[t];n._scrollTop&&(n.scrollTop=n._scrollTop),n._scrollLeft&&(n.scrollLeft=n._scrollLeft)}},doResize:function(){this.isShowing()&&(this._inNotification()||this._callOnVisibleChildren(this._processOnResize))},doLayout:function(){this.isShowing()&&(this._notify(this.onLayout),this.doResize())},registerRequiredCSS:function(e){this._cssFiles.push(e)},_loadCSSIfNeeded:function(){for(var e=0;e<this._cssFiles.length;++e){var t=this._cssFiles[e],n=WebInspector.View._cssFileToVisibleViewCount[t];WebInspector.View._cssFileToVisibleViewCount[t]=(n||0)+1,n||this._doLoadCSS(t)}},_doLoadCSS:function(e){var t=WebInspector.View._cssFileToStyleElement[e];return t?void(t.disabled=!1):(t=WebInspector.View.createStyleElement(e),void(WebInspector.View._cssFileToStyleElement[e]=t))},_disableCSSIfNeeded:function(){function e(){delete WebInspector.View._cssUnloadTimer;for(t in WebInspector.View._cssFileToVisibleViewCount)WebInspector.View._cssFileToVisibleViewCount.hasOwnProperty(t)&&!WebInspector.View._cssFileToVisibleViewCount[t]&&(WebInspector.View._cssFileToStyleElement[t].disabled=!0)}for(var t,n=!!WebInspector.View._cssUnloadTimer,i=0;i<this._cssFiles.length;++i)t=this._cssFiles[i],--WebInspector.View._cssFileToVisibleViewCount[t]||(n=!0);n&&!WebInspector.View._cssUnloadTimer&&(WebInspector.View._cssUnloadTimer=setTimeout(e,WebInspector.View._cssUnloadTimeout))},printViewHierarchy:function(){var e=[];this._collectViewHierarchy("",e),console.log(e.join("\n"))},_collectViewHierarchy:function(e,t){t.push(e+"["+this.element.className+"]"+(this._children.length?" {":""));for(var n=0;n<this._children.length;++n)this._children[n]._collectViewHierarchy(e+"    ",t);this._children.length&&t.push(e+"}")},defaultFocusedElement:function(){return this._defaultFocusedElement||this.element},setDefaultFocusedElement:function(e){this._defaultFocusedElement=e},focus:function(){var e=this.defaultFocusedElement();e&&!e.isAncestor(document.activeElement)&&WebInspector.setCurrentFocusElement(e)},hasFocus:function(){var e=document.activeElement;return e&&e.isSelfOrDescendant(this.element)},measurePreferredSize:function(){this._loadCSSIfNeeded(),WebInspector.View._originalAppendChild.call(document.body,this.element),this.element.positionAt(0,0);var e=new Size(this.element.offsetWidth,this.element.offsetHeight);return this.element.positionAt(void 0,void 0),WebInspector.View._originalRemoveChild.call(document.body,this.element),this._disableCSSIfNeeded(),e},calculateConstraints:function(){return new Constraints(new Size(0,0))},constraints:function(){return"undefined"!=typeof this._constraints?this._constraints:("undefined"==typeof this._cachedConstraints&&(this._cachedConstraints=this.calculateConstraints()),this._cachedConstraints)},setMinimumAndPreferredSizes:function(e,t,n,i){this._constraints=new Constraints(new Size(e,t),new Size(n,i)),this.invalidateConstraints()},setMinimumSize:function(e,t){this._constraints=new Constraints(new Size(e,t)),this.invalidateConstraints()},_hasNonZeroConstraints:function(){var e=this.constraints();return!!(e.minimum.width||e.minimum.height||e.preferred.width||e.preferred.height)},invalidateConstraints:function(){var e=this._cachedConstraints;delete this._cachedConstraints;var t=this.constraints();!t.isEqual(e)&&this._parentView?this._parentView.invalidateConstraints():this.doLayout()},__proto__:WebInspector.Object.prototype},WebInspector.View._originalAppendChild=Element.prototype.appendChild,WebInspector.View._originalInsertBefore=Element.prototype.insertBefore,WebInspector.View._originalRemoveChild=Element.prototype.removeChild,WebInspector.View._originalRemoveChildren=Element.prototype.removeChildren,WebInspector.View._incrementViewCounter=function(e,t){var n=(t.__viewCounter||0)+(t.__view?1:0);if(n)for(;e;)e.__viewCounter=(e.__viewCounter||0)+n,e=e.parentElement},WebInspector.View._decrementViewCounter=function(e,t){var n=(t.__viewCounter||0)+(t.__view?1:0);if(n)for(;e;)e.__viewCounter-=n,e=e.parentElement},WebInspector.View.__assert=function(e,t){if(!e)throw console.trace(),new Error(t)},WebInspector.VBox=function(){WebInspector.View.call(this),this.element.classList.add("vbox")},WebInspector.VBox.prototype={calculateConstraints:function(){function e(){var e=this.constraints();t=t.widthToMax(e),t=t.addHeight(e)}var t=new Constraints(new Size(0,0));return this._callOnVisibleChildren(e),t},__proto__:WebInspector.View.prototype},WebInspector.installDragHandle=function(e,t,n,i,s,o){e.addEventListener("mousedown",WebInspector.elementDragStart.bind(WebInspector,t,n,i,s),!1),null!==o&&(e.style.cursor=o||s)},WebInspector.elementDragStart=function(e,t,n,i,s){if(!(s.button||WebInspector.isMac()&&s.ctrlKey||WebInspector._elementDraggingEventListener||e&&!e(s))){WebInspector._elementDraggingGlassPane&&(WebInspector._elementDraggingGlassPane.dispose(),delete WebInspector._elementDraggingGlassPane);var o=s.target.ownerDocument;WebInspector._elementDraggingEventListener=t,WebInspector._elementEndDraggingEventListener=n,WebInspector._mouseOutWhileDraggingTargetDocument=o,o.addEventListener("mousemove",WebInspector._elementDragMove,!0),o.addEventListener("mouseup",WebInspector._elementDragEnd,!0),o.addEventListener("mouseout",WebInspector._mouseOutWhileDragging,!0),o.body.style.cursor=i,s.preventDefault()}},WebInspector._mouseOutWhileDragging=function(){WebInspector._unregisterMouseOutWhileDragging(),WebInspector._elementDraggingGlassPane=new WebInspector.GlassPane},WebInspector._unregisterMouseOutWhileDragging=function(){WebInspector._mouseOutWhileDraggingTargetDocument&&(WebInspector._mouseOutWhileDraggingTargetDocument.removeEventListener("mouseout",WebInspector._mouseOutWhileDragging,!0),delete WebInspector._mouseOutWhileDraggingTargetDocument)},WebInspector._elementDragMove=function(e){WebInspector._elementDraggingEventListener(e)&&WebInspector._cancelDragEvents(e)},WebInspector._cancelDragEvents=function(e){var t=e.target.ownerDocument;t.removeEventListener("mousemove",WebInspector._elementDragMove,!0),t.removeEventListener("mouseup",WebInspector._elementDragEnd,!0),WebInspector._unregisterMouseOutWhileDragging(),t.body.style.removeProperty("cursor"),WebInspector._elementDraggingGlassPane&&WebInspector._elementDraggingGlassPane.dispose(),delete WebInspector._elementDraggingGlassPane,delete WebInspector._elementDraggingEventListener,delete WebInspector._elementEndDraggingEventListener},WebInspector._elementDragEnd=function(e){var t=WebInspector._elementEndDraggingEventListener;WebInspector._cancelDragEvents(e),e.preventDefault(),t&&t(e)},WebInspector.GlassPane=function(){this.element=document.createElement("div"),this.element.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;background-color:transparent;z-index:1000;",this.element.id="glass-pane",document.body.appendChild(this.element),WebInspector._glassPane=this
},WebInspector.GlassPane.prototype={dispose:function(){delete WebInspector._glassPane,WebInspector.GlassPane.DefaultFocusedViewStack.length&&WebInspector.GlassPane.DefaultFocusedViewStack.peekLast().focus(),this.element.remove()}},WebInspector.GlassPane.DefaultFocusedViewStack=[],WebInspector.isBeingEdited=function(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;var t=e;if(t.classList.contains("text-prompt")||"INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)return!0;if(!WebInspector.__editingCount)return!1;for(;t;){if(t.__editing)return!0;t=t.parentElement}return!1},WebInspector.markBeingEdited=function(e,t){if(t){if(e.__editing)return!1;e.classList.add("being-edited"),e.__editing=!0,WebInspector.__editingCount=(WebInspector.__editingCount||0)+1}else{if(!e.__editing)return!1;e.classList.remove("being-edited"),delete e.__editing,--WebInspector.__editingCount}return!0},WebInspector.CSSNumberRegex=/^(-?(?:\d+(?:\.\d+)?|\.\d+))$/,WebInspector.StyleValueDelimiters="  	\n\"':;,/()",WebInspector._valueModificationDirection=function(e){var t=null;return"mousewheel"===e.type?e.wheelDeltaY>0?t="Up":e.wheelDeltaY<0&&(t="Down"):"Up"===e.keyIdentifier||"PageUp"===e.keyIdentifier?t="Up":("Down"===e.keyIdentifier||"PageDown"===e.keyIdentifier)&&(t="Down"),t},WebInspector._modifiedHexValue=function(e,t){var n=WebInspector._valueModificationDirection(t);if(!n)return e;var i=parseInt(e,16);if(isNaN(i)||!isFinite(i))return e;var s,o=Math.pow(16,e.length)-1,r="Up"===t.keyIdentifier||"Down"===t.keyIdentifier||"mousewheel"===t.type;s=r?"Up"===n?1:-1:"PageUp"===t.keyIdentifier?16:-16,t.shiftKey&&(s*=16);var a=i+s;if(0>a)a=0;else if(a>o)return e;for(var l=a.toString(16).toUpperCase(),c=0,h=e.length-l.length;h>c;++c)l="0"+l;return l},WebInspector._modifiedFloatNumber=function(e,t){var n=WebInspector._valueModificationDirection(t);if(!n)return e;var i="Up"===t.keyIdentifier||"Down"===t.keyIdentifier||"mousewheel"===t.type,s=1;t.shiftKey&&!i?s=100:t.shiftKey||!i?s=10:t.altKey&&(s=.1),"Down"===n&&(s*=-1);var o=Number((e+s).toFixed(6));return String(o).match(WebInspector.CSSNumberRegex)?o:null},WebInspector.handleElementValueModifications=function(e,t,n,i,s){var o="Up"===e.keyIdentifier||"Down"===e.keyIdentifier||"mousewheel"===e.type,r="PageUp"===e.keyIdentifier||"PageDown"===e.keyIdentifier;if(!o&&!r)return!1;var a=window.getSelection();if(!a.rangeCount)return!1;var l=a.getRangeAt(0);if(!l.commonAncestorContainer.isSelfOrDescendant(t))return!1;var c=t.textContent,h=l.startContainer.rangeOfWord(l.startOffset,WebInspector.StyleValueDelimiters,t),d=h.toString();if(i&&i(d))return!1;var p,u,m,_,b;if(b=/(.*#)([\da-fA-F]+)(.*)/.exec(d),b&&b.length)u=b[1],m=b[3],_=WebInspector._modifiedHexValue(b[2],e),p=s?s(u,_,m):u+_+m;else if(b=/(.*?)(-?(?:\d+(?:\.\d+)?|\.\d+))(.*)/.exec(d),b&&b.length){if(u=b[1],m=b[3],_=WebInspector._modifiedFloatNumber(parseFloat(b[2]),e),null===_)return!1;p=s?s(u,_,m):u+_+m}if(p){var f=document.createTextNode(p);h.deleteContents(),h.insertNode(f);var g=document.createRange();return g.setStart(f,0),g.setEnd(f,p.length),a.removeAllRanges(),a.addRange(g),e.handled=!0,e.preventDefault(),n&&n(c,p),!0}return!1},Number.preciseMillisToString=function(e,t){t=t||0;var n="%."+t+"f ms";return WebInspector.UIString(n,e)},Number.millisToString=function(e,t){if(!isFinite(e))return"-";if(0===e)return"0";if(t&&1e3>e)return WebInspector.UIString("%.3f ms",e);if(1e3>e)return WebInspector.UIString("%.0f ms",e);var n=e/1e3;if(60>n)return WebInspector.UIString("%.2f s",n);var i=n/60;if(60>i)return WebInspector.UIString("%.1f min",i);var s=i/60;if(24>s)return WebInspector.UIString("%.1f hrs",s);var o=s/24;return WebInspector.UIString("%.1f days",o)},Number.secondsToString=function(e,t){return isFinite(e)?Number.millisToString(1e3*e,t):"-"},Number.bytesToString=function(e){if(1024>e)return WebInspector.UIString("%.0f B",e);var t=e/1024;if(100>t)return WebInspector.UIString("%.1f KB",t);if(1024>t)return WebInspector.UIString("%.0f KB",t);var n=t/1024;return 100>n?WebInspector.UIString("%.1f MB",n):WebInspector.UIString("%.0f MB",n)},Number.withThousandsSeparator=function(e){for(var t=e+"",n=/(\d+)(\d{3})/;t.match(n);)t=t.replace(n,"$1 $2");return t},WebInspector.useLowerCaseMenuTitles=function(){return"windows"===WebInspector.platform()},WebInspector.formatLocalized=function(e,t,n,i,s){return String.format(WebInspector.UIString(e),t,n,i,s)},WebInspector.openLinkExternallyLabel=function(){return WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Open link in new tab":"Open Link in New Tab")},WebInspector.copyLinkAddressLabel=function(){return WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Copy link address":"Copy Link Address")},WebInspector.anotherProfilerActiveLabel=function(){return WebInspector.UIString("Another profiler is already active")},WebInspector.installPortStyles=function(){return},WebInspector._windowFocused=function(e){e.target.document.nodeType===Node.DOCUMENT_NODE&&document.body.classList.remove("inactive")},WebInspector._windowBlurred=function(e){e.target.document.nodeType===Node.DOCUMENT_NODE&&document.body.classList.add("inactive")},WebInspector.previousFocusElement=function(){return WebInspector._previousFocusElement},WebInspector.currentFocusElement=function(){return WebInspector._currentFocusElement},WebInspector._focusChanged=function(e){WebInspector.setCurrentFocusElement(e.target)},WebInspector._documentBlurred=function(e){e.relatedTarget||document.activeElement!==document.body||WebInspector.setCurrentFocusElement(null)},WebInspector._textInputTypes=["text","search","tel","url","email","password"].keySet(),WebInspector._isTextEditingElement=function(e){return e instanceof HTMLInputElement?e.type in WebInspector._textInputTypes:e instanceof HTMLTextAreaElement?!0:!1},WebInspector.setCurrentFocusElement=function(e){if(!WebInspector._glassPane||!e||WebInspector._glassPane.element.isAncestor(e))if(WebInspector._currentFocusElement!==e&&(WebInspector._previousFocusElement=WebInspector._currentFocusElement),WebInspector._currentFocusElement=e,WebInspector._currentFocusElement&&WebInspector._currentFocusElement.focus){WebInspector._currentFocusElement.focus();var t=window.getSelection();if(!WebInspector._isTextEditingElement(WebInspector._currentFocusElement)&&t.isCollapsed&&!WebInspector._currentFocusElement.isInsertionCaretInside()){var n=WebInspector._currentFocusElement.ownerDocument.createRange();n.setStart(WebInspector._currentFocusElement,0),n.setEnd(WebInspector._currentFocusElement,0),t.removeAllRanges(),t.addRange(n)}}else WebInspector._previousFocusElement&&WebInspector._previousFocusElement.focus&&WebInspector._previousFocusElement.blur()},WebInspector.restoreFocusFromElement=function(e){e&&e.isSelfOrAncestor(WebInspector.currentFocusElement())&&WebInspector.setCurrentFocusElement(WebInspector.previousFocusElement())},WebInspector.setToolbarColors=function(e,t){WebInspector._themeStyleElement||(WebInspector._themeStyleElement=document.createElement("style"),document.head.appendChild(WebInspector._themeStyleElement));var n=WebInspector.Color.parse(t),i=n?n.invert().setAlpha(.33).toString(WebInspector.Color.Format.RGBA):"white",s=WebInspector.isMac()?"body:not(.undocked)":"";WebInspector._themeStyleElement.textContent=String.sprintf("%s .toolbar-colors {                 background-image: none !important;                 background-color: %s !important;                 color: %s !important;             }",s,e,t)+String.sprintf("%s .toolbar-colors button.status-bar-item .glyph, %s .toolbar-colors button.status-bar-item .long-click-glyph {                 background-color: %s;             }",s,s,t)+String.sprintf("%s .toolbar-colors button.status-bar-item .glyph.shadow, %s .toolbar-colors button.status-bar-item .long-click-glyph.shadow {                 background-color: %s;             }",s,s,i)},WebInspector.resetToolbarColors=function(){WebInspector._themeStyleElement&&(WebInspector._themeStyleElement.textContent="")},WebInspector.highlightSearchResult=function(e,t,n,i){var s=WebInspector.highlightSearchResults(e,[new WebInspector.SourceRange(t,n)],i);return s.length?s[0]:null},WebInspector.highlightSearchResults=function(e,t,n){return WebInspector.highlightRangesWithStyleClass(e,t,"highlighted-search-result",n)},WebInspector.runCSSAnimationOnce=function(e,t){function n(){e.classList.remove(t),e.removeEventListener("animationend",n,!1)}e.classList.contains(t)&&e.classList.remove(t),e.addEventListener("animationend",n,!1),e.classList.add(t)},WebInspector.highlightRangesWithStyleClass=function(e,t,n,i){i=i||[];var s=[],o=e.textContent,r=e.ownerDocument,a=r.evaluate(".//text()",e,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),l=a.snapshotLength;if(0===l)return s;var c,h=[],d=0;for(c=0;l>c;++c){var p={};p.offset=d,p.length=a.snapshotItem(c).textContent.length,d=p.offset+p.length,h.push(p)}var u=0;for(c=0;c<t.length;++c){for(var m=t[c].offset,_=m+t[c].length;l>u&&h[u].offset+h[u].length<=m;)u++;for(var b=u;l>b&&h[b].offset+h[b].length<_;)b++;if(b===l)break;var f=r.createElement("span");f.className=n,f.textContent=o.substring(m,_);var g=a.snapshotItem(b),v=g.textContent;if(g.textContent=v.substring(_-h[b].offset),i.push({node:g,type:"changed",oldText:v,newText:g.textContent}),u===b){g.parentElement.insertBefore(f,g),i.push({node:f,type:"added",nextSibling:g,parent:g.parentElement}),s.push(f);var I=r.createTextNode(v.substring(0,m-h[u].offset));g.parentElement.insertBefore(I,f),i.push({node:I,type:"added",nextSibling:f,parent:g.parentElement})}else{var C=a.snapshotItem(u),y=C.textContent,S=C.nextSibling;C.parentElement.insertBefore(f,S),i.push({node:f,type:"added",nextSibling:S,parent:C.parentElement}),s.push(f),C.textContent=y.substring(0,m-h[u].offset),i.push({node:C,type:"changed",oldText:y,newText:C.textContent});for(var W=u+1;b>W;W++){var w=a.snapshotItem(W),E=w.textContent;w.textContent="",i.push({node:w,type:"changed",oldText:E,newText:w.textContent})}}u=b,h[u].offset=_,h[u].length=g.textContent.length}return s},WebInspector.applyDomChanges=function(e){for(var t=0,n=e.length;n>t;++t){var i=e[t];switch(i.type){case"added":i.parent.insertBefore(i.node,i.nextSibling);break;case"changed":i.node.textContent=i.newText}}},WebInspector.revertDomChanges=function(e){for(var t=e.length-1;t>=0;--t){var n=e[t];switch(n.type){case"added":n.node.remove();break;case"changed":n.node.textContent=n.oldText}}},WebInspector.InvokeOnceHandlers=function(e){this._handlers=null,this._autoInvoke=e},WebInspector.InvokeOnceHandlers.prototype={add:function(e,t){this._handlers||(this._handlers=new Map,this._autoInvoke&&this.scheduleInvoke());var n=this._handlers.get(e);n||(n=new Set,this._handlers.put(e,n)),n.add(t)},scheduleInvoke:function(){this._handlers&&requestAnimationFrame(this._invoke.bind(this))},_invoke:function(){var e=this._handlers;this._handlers=null;for(var t=e.keys(),n=0;n<t.length;++n)for(var i=t[n],s=e.get(i).values(),o=0;o<s.length;++o)s[o].call(i)}},WebInspector._coalescingLevel=0,WebInspector._postUpdateHandlers=null,WebInspector.startBatchUpdate=function(){var e=WebInspector._coalescingLevel++;e||(WebInspector._postUpdateHandlers=new WebInspector.InvokeOnceHandlers(!1))},WebInspector.endBatchUpdate=function(){--WebInspector._coalescingLevel||(WebInspector._postUpdateHandlers.scheduleInvoke(),WebInspector._postUpdateHandlers=null)},WebInspector.invokeOnceAfterBatchUpdate=function(e,t){WebInspector._postUpdateHandlers||(WebInspector._postUpdateHandlers=new WebInspector.InvokeOnceHandlers(!0)),WebInspector._postUpdateHandlers.add(e,t)},function(){function e(){window.addEventListener("focus",WebInspector._windowFocused,!1),window.addEventListener("blur",WebInspector._windowBlurred,!1),document.addEventListener("focus",WebInspector._focusChanged,!0),document.addEventListener("blur",WebInspector._documentBlurred,!0),window.removeEventListener("DOMContentLoaded",e,!1)}window.addEventListener("DOMContentLoaded",e,!1)}(),WebInspector.KeyboardShortcut=function(){},WebInspector.KeyboardShortcut.Modifiers={None:0,Shift:1,Ctrl:2,Alt:4,Meta:8,get CtrlOrMeta(){return WebInspector.isMac()?this.Meta:this.Ctrl},get ShiftOrOption(){return WebInspector.isMac()?this.Shift:this.Alt}},WebInspector.KeyboardShortcut.Key=WebInspector.KeyboardShortcut.Key,WebInspector.KeyboardShortcut.Keys={Backspace:{code:8,name:"↤"},Tab:{code:9,name:{mac:"⇥",other:"Tab"}},Enter:{code:13,name:{mac:"↩",other:"Enter"}},Ctrl:{code:17,name:"Ctrl"},Esc:{code:27,name:{mac:"⎋",other:"Esc"}},Space:{code:32,name:"Space"},PageUp:{code:33,name:{mac:"⇞",other:"PageUp"}},PageDown:{code:34,name:{mac:"⇟",other:"PageDown"}},End:{code:35,name:{mac:"↗",other:"End"}},Home:{code:36,name:{mac:"↖",other:"Home"}},Left:{code:37,name:"←"},Up:{code:38,name:"↑"},Right:{code:39,name:"→"},Down:{code:40,name:"↓"},Delete:{code:46,name:"Del"},Zero:{code:48,name:"0"},H:{code:72,name:"H"},Meta:{code:91,name:"Meta"},F1:{code:112,name:"F1"},F2:{code:113,name:"F2"},F3:{code:114,name:"F3"},F4:{code:115,name:"F4"},F5:{code:116,name:"F5"},F6:{code:117,name:"F6"},F7:{code:118,name:"F7"},F8:{code:119,name:"F8"},F9:{code:120,name:"F9"},F10:{code:121,name:"F10"},F11:{code:122,name:"F11"},F12:{code:123,name:"F12"},Semicolon:{code:186,name:";"},NumpadPlus:{code:107,name:"Numpad +"},NumpadMinus:{code:109,name:"Numpad -"},Numpad0:{code:96,name:"Numpad 0"},Plus:{code:187,name:"+"},Comma:{code:188,name:","},Minus:{code:189,name:"-"},Period:{code:190,name:"."},Slash:{code:191,name:"/"},QuestionMark:{code:191,name:"?"},Apostrophe:{code:192,name:"`"},Tilde:{code:192,name:"Tilde"},Backslash:{code:220,name:"\\"},SingleQuote:{code:222,name:"'"},get CtrlOrMeta(){return WebInspector.isMac()?this.Meta:this.Ctrl}},WebInspector.KeyboardShortcut.KeyBindings={},function(){for(var e in WebInspector.KeyboardShortcut.Keys){var t=WebInspector.KeyboardShortcut.Keys[e];if("object"==typeof t&&t.code){var n="string"==typeof t.name?t.name:e;WebInspector.KeyboardShortcut.KeyBindings[n]=t}}}(),WebInspector.KeyboardShortcut.makeKey=function(e,t){return"string"==typeof e&&(e=e.charCodeAt(0)-(/^[a-z]/.test(e)?32:0)),t=t||WebInspector.KeyboardShortcut.Modifiers.None,WebInspector.KeyboardShortcut._makeKeyFromCodeAndModifiers(e,t)},WebInspector.KeyboardShortcut.makeKeyFromEvent=function(e){function t(e){return e.keyCode||e.__keyCode}var n=WebInspector.KeyboardShortcut.Modifiers.None;return e.shiftKey&&(n|=WebInspector.KeyboardShortcut.Modifiers.Shift),e.ctrlKey&&(n|=WebInspector.KeyboardShortcut.Modifiers.Ctrl),e.altKey&&(n|=WebInspector.KeyboardShortcut.Modifiers.Alt),e.metaKey&&(n|=WebInspector.KeyboardShortcut.Modifiers.Meta),WebInspector.KeyboardShortcut._makeKeyFromCodeAndModifiers(t(e),n)},WebInspector.KeyboardShortcut.eventHasCtrlOrMeta=function(e){return WebInspector.isMac()?e.metaKey&&!e.ctrlKey:e.ctrlKey&&!e.metaKey},WebInspector.KeyboardShortcut.hasNoModifiers=function(e){return!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)},WebInspector.KeyboardShortcut.Descriptor=WebInspector.KeyboardShortcut.Descriptor,WebInspector.KeyboardShortcut.makeDescriptor=function(e,t){return{key:WebInspector.KeyboardShortcut.makeKey("string"==typeof e?e:e.code,t),name:WebInspector.KeyboardShortcut.shortcutToString(e,t)}},WebInspector.KeyboardShortcut.makeDescriptorFromBindingShortcut=function(e){for(var t,n=e.split(/\+(?!$)/),i=0,s=0;s<n.length;++s){if("undefined"==typeof WebInspector.KeyboardShortcut.Modifiers[n[s]]){console.assert(s===n.length-1,"Only one key other than modifier is allowed in shortcut <"+e+">"),t=n[s];break}i|=WebInspector.KeyboardShortcut.Modifiers[n[s]]}if(console.assert(t,"Modifiers-only shortcuts are not allowed (encountered <"+e+">)"),!t)return null;var o=WebInspector.KeyboardShortcut.Keys[t]||WebInspector.KeyboardShortcut.KeyBindings[t];return o&&o.shiftKey&&(i|=WebInspector.KeyboardShortcut.Modifiers.Shift),WebInspector.KeyboardShortcut.makeDescriptor(o?o:t,i)},WebInspector.KeyboardShortcut.shortcutToString=function(e,t){return WebInspector.KeyboardShortcut._modifiersToString(t)+WebInspector.KeyboardShortcut._keyName(e)},WebInspector.KeyboardShortcut._keyName=function(e){return"string"==typeof e?e.toUpperCase():"string"==typeof e.name?e.name:e.name[WebInspector.platform()]||e.name.other||""},WebInspector.KeyboardShortcut._makeKeyFromCodeAndModifiers=function(e,t){return 255&e|t<<8},WebInspector.KeyboardShortcut.keyCodeAndModifiersFromKey=function(e){return{keyCode:255&e,modifiers:e>>8}},WebInspector.KeyboardShortcut._modifiersToString=function(e){var t="⌘",n="⌥",i="⇧",s="⌃",o=WebInspector.isMac(),r="";return e&WebInspector.KeyboardShortcut.Modifiers.Ctrl&&(r+=o?s:"Ctrl + "),e&WebInspector.KeyboardShortcut.Modifiers.Alt&&(r+=o?n:"Alt + "),e&WebInspector.KeyboardShortcut.Modifiers.Shift&&(r+=o?i:"Shift + "),e&WebInspector.KeyboardShortcut.Modifiers.Meta&&(r+=o?t:"Win + "),r},WebInspector.KeyboardShortcut.SelectAll=WebInspector.KeyboardShortcut.makeKey("a",WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta),WebInspector.SuggestBoxDelegate=function(){},WebInspector.SuggestBoxDelegate.prototype={applySuggestion:function(){},acceptSuggestion:function(){}},WebInspector.SuggestBox=function(e,t){this._suggestBoxDelegate=e,this._length=0,this._selectedIndex=-1,this._selectedElement=null,this._maxItemsHeight=t,this._bodyElement=document.body,this._maybeHideBound=this._maybeHide.bind(this),this._element=document.createElementWithClass("div","suggest-box"),this._element.addEventListener("mousedown",this._onBoxMouseDown.bind(this),!0)},WebInspector.SuggestBox.prototype={visible:function(){return!!this._element.parentElement},setPosition:function(e){this._updateBoxPosition(e)},_updateBoxPosition:function(e){if(console.assert(this._overlay),!this._lastAnchorBox||!this._lastAnchorBox.equals(e)){this._lastAnchorBox=e;var t=WebInspector.Dialog.modalHostView().element;e=e.relativeToElement(t);var n=(t.offsetWidth,t.offsetHeight),i=e.y,s=n-e.y-e.height,o=17,r=6,a=this._maxItemsHeight?this._maxItemsHeight*o:Math.max(s,i)-r,l=s>=i;this._leftSpacerElement.style.flexBasis=e.x+"px",this._overlay.element.classList.toggle("under-anchor",l),l?(this._bottomSpacerElement.style.flexBasis="auto",this._topSpacerElement.style.flexBasis=e.y+e.height+"px"):(this._bottomSpacerElement.style.flexBasis=n-e.y+"px",this._topSpacerElement.style.flexBasis="auto"),this._element.style.maxHeight=a+"px"}},_onBoxMouseDown:function(e){this._hideTimeoutId&&(window.clearTimeout(this._hideTimeoutId),delete this._hideTimeoutId),e.preventDefault()},_maybeHide:function(){this._hideTimeoutId||(this._hideTimeoutId=window.setTimeout(this.hide.bind(this),0))},_show:function(){this.visible()||(this._overlay=new WebInspector.SuggestBox.Overlay,this._bodyElement.addEventListener("mousedown",this._maybeHideBound,!0),this._leftSpacerElement=this._overlay.element.createChild("div","suggest-box-left-spacer"),this._horizontalElement=this._overlay.element.createChild("div","suggest-box-horizontal"),this._topSpacerElement=this._horizontalElement.createChild("div","suggest-box-top-spacer"),this._horizontalElement.appendChild(this._element),this._bottomSpacerElement=this._horizontalElement.createChild("div","suggest-box-bottom-spacer"))},hide:function(){this.visible()&&(this._bodyElement.removeEventListener("mousedown",this._maybeHideBound,!0),this._element.remove(),this._overlay.dispose(),delete this._overlay,delete this._selectedElement,this._selectedIndex=-1,delete this._lastAnchorBox)},removeFromElement:function(){this.hide()},_applySuggestion:function(e){if(!this.visible()||!this._selectedElement)return!1;var t=this._selectedElement.textContent;return t?(this._suggestBoxDelegate.applySuggestion(t,e),!0):!1},acceptSuggestion:function(){var e=this._applySuggestion();return this.hide(),e?(this._suggestBoxDelegate.acceptSuggestion(),!0):!1},_selectClosest:function(e,t){if(!this._length)return!1;-1===this._selectedIndex&&0>e&&(e+=1);var n=this._selectedIndex+e;return n=t?(this._length+n)%this._length:Number.constrain(n,0,this._length-1),this._selectItem(n,!0),this._applySuggestion(!0),!0},_onItemMouseDown:function(e){this._selectedElement=e.currentTarget,this.acceptSuggestion(),e.consume(!0)},_createItemElement:function(e,t){var n=document.createElementWithClass("div","suggest-box-content-item source-code");return n.tabIndex=-1,e&&e.length&&!t.indexOf(e)?(n.createChild("span","prefix").textContent=e,n.createChild("span","suffix").textContent=t.substring(e.length)):n.createChild("span","suffix").textContent=t,n.createChild("span","spacer"),n.addEventListener("mousedown",this._onItemMouseDown.bind(this),!1),n},_updateItems:function(e,t){this._length=e.length,this._element.removeChildren(),delete this._selectedElement;for(var n=0;n<e.length;++n){var i=e[n],s=this._createItemElement(t,i);this._element.appendChild(s)}},_selectItem:function(e,t){this._selectedElement&&this._selectedElement.classList.remove("selected"),this._selectedIndex=e,0>e||(this._selectedElement=this._element.children[e],this._selectedElement.classList.add("selected"),t&&this._selectedElement.scrollIntoViewIfNeeded(!1))},_canShowBox:function(e,t,n){return e&&e.length?e.length>1?!0:t&&e[0]!==n:!1},_ensureRowCountPerViewport:function(){this._rowCountPerViewport||this._element.firstChild&&(this._rowCountPerViewport=Math.floor(this._element.offsetHeight/this._element.firstChild.offsetHeight))},updateSuggestions:function(e,t,n,i,s){this._canShowBox(t,i,s)?(this._updateItems(t,s),this._show(),this._updateBoxPosition(e),this._selectItem(n,n>0),delete this._rowCountPerViewport):this.hide()},keyPressed:function(e){switch(e.keyIdentifier){case"Up":return this.upKeyPressed();case"Down":return this.downKeyPressed();case"PageUp":return this.pageUpKeyPressed();case"PageDown":return this.pageDownKeyPressed();case"Enter":return this.enterKeyPressed()}return!1},upKeyPressed:function(){return this._selectClosest(-1,!0)},downKeyPressed:function(){return this._selectClosest(1,!0)},pageUpKeyPressed:function(){return this._ensureRowCountPerViewport(),this._selectClosest(-this._rowCountPerViewport,!1)},pageDownKeyPressed:function(){return this._ensureRowCountPerViewport(),this._selectClosest(this._rowCountPerViewport,!1)},enterKeyPressed:function(){var e=!!this._selectedElement;return this.acceptSuggestion(),e}},WebInspector.SuggestBox.Overlay=function(){this.element=document.createElementWithClass("div","suggest-box-overlay"),this._resize(),document.body.appendChild(this.element)},WebInspector.SuggestBox.Overlay.prototype={_resize:function(){var e=WebInspector.Dialog.modalHostView().element,t=e.boxInWindow(e.ownerDocument.defaultView);this.element.style.left=t.x+"px",this.element.style.top=t.y+"px",this.element.style.height=t.height+"px",this.element.style.width=t.width+"px"},dispose:function(){this.element.remove()}},WebInspector.TextPrompt=function(e,t){this._proxyElement=this._proxyElement,this._proxyElementDisplay="inline-block",this._loadCompletions=e,this._completionStopCharacters=t||" =:[({;,!+-*/&|^<>."},WebInspector.TextPrompt.Events={ItemApplied:"text-prompt-item-applied",ItemAccepted:"text-prompt-item-accepted"},WebInspector.TextPrompt.prototype={get proxyElement(){return this._proxyElement},setSuggestBoxEnabled:function(e){this._suggestBoxEnabled=e},renderAsBlock:function(){this._proxyElementDisplay="block"},attach:function(e){return this._attachInternal(e)},attachAndStartEditing:function(e,t){return this._attachInternal(e),this._startEditing(t),this.proxyElement},_attachInternal:function(e){if(this.proxyElement)throw"Cannot attach an attached TextPrompt";return this._element=e,this._boundOnKeyDown=this.onKeyDown.bind(this),this._boundOnInput=this.onInput.bind(this),this._boundOnMouseWheel=this.onMouseWheel.bind(this),this._boundSelectStart=this._selectStart.bind(this),this._boundRemoveSuggestionAids=this._removeSuggestionAids.bind(this),this._proxyElement=e.ownerDocument.createElement("span"),this._proxyElement.style.display=this._proxyElementDisplay,e.parentElement.insertBefore(this.proxyElement,e),this.proxyElement.appendChild(e),this._element.classList.add("text-prompt"),this._element.addEventListener("keydown",this._boundOnKeyDown,!1),this._element.addEventListener("input",this._boundOnInput,!1),this._element.addEventListener("mousewheel",this._boundOnMouseWheel,!1),this._element.addEventListener("selectstart",this._boundSelectStart,!1),this._element.addEventListener("blur",this._boundRemoveSuggestionAids,!1),this._suggestBoxEnabled&&(this._suggestBox=new WebInspector.SuggestBox(this)),this.proxyElement},detach:function(){this._removeFromElement(),this.proxyElement.parentElement.insertBefore(this._element,this.proxyElement),this.proxyElement.remove(),delete this._proxyElement,this._element.classList.remove("text-prompt"),WebInspector.restoreFocusFromElement(this._element)},get text(){return this._element.textContent},set text(e){this._removeSuggestionAids(),e?this._element.textContent=e:(this._element.removeChildren(),this._element.createChild("br")),this.moveCaretToEndOfPrompt(),this._element.scrollIntoView()},_removeFromElement:function(){this.clearAutoComplete(!0),this._element.removeEventListener("keydown",this._boundOnKeyDown,!1),this._element.removeEventListener("input",this._boundOnInput,!1),this._element.removeEventListener("selectstart",this._boundSelectStart,!1),this._element.removeEventListener("blur",this._boundRemoveSuggestionAids,!1),this._isEditing&&this._stopEditing(),this._suggestBox&&this._suggestBox.removeFromElement()},_startEditing:function(e){this._isEditing=!0,this._element.classList.add("editing"),e&&(this._blurListener=e,this._element.addEventListener("blur",this._blurListener,!1)),this._oldTabIndex=this._element.tabIndex,this._element.tabIndex<0&&(this._element.tabIndex=0),WebInspector.setCurrentFocusElement(this._element),this.text||this._updateAutoComplete()},_stopEditing:function(){this._element.tabIndex=this._oldTabIndex,this._blurListener&&this._element.removeEventListener("blur",this._blurListener,!1),this._element.classList.remove("editing"),delete this._isEditing},_removeSuggestionAids:function(){this.clearAutoComplete(),this.hideSuggestBox()},_selectStart:function(){function e(){delete this._selectionTimeout,!this.isCaretInsidePrompt()&&window.getSelection().isCollapsed&&(this.moveCaretToEndOfPrompt(),this.autoCompleteSoon())}this._selectionTimeout&&clearTimeout(this._selectionTimeout),this._removeSuggestionAids(),this._selectionTimeout=setTimeout(e.bind(this),100)},_updateAutoComplete:function(e){this.clearAutoComplete(),this.autoCompleteSoon(e)},onMouseWheel:function(){},onKeyDown:function(e){var t=!1;switch(delete this._needUpdateAutocomplete,e.keyIdentifier){case"U+0009":t=this.tabKeyPressed(e);break;case"Left":case"Home":this._removeSuggestionAids();break;case"Right":case"End":this.isCaretAtEndOfPrompt()?t=this.acceptAutoComplete():this._removeSuggestionAids();break;case"U+001B":this.isSuggestBoxVisible()&&(this._removeSuggestionAids(),t=!0);break;case"U+0020":!e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||(this._updateAutoComplete(!0),t=!0);break;case"Alt":case"Meta":case"Shift":case"Control":}!t&&this.isSuggestBoxVisible()&&(t=this._suggestBox.keyPressed(e)),t||(this._needUpdateAutocomplete=!0),t&&e.consume(!0)},onInput:function(){this._needUpdateAutocomplete&&this._updateAutoComplete()},acceptAutoComplete:function(){var e=!1;return this.isSuggestBoxVisible()&&(e=this._suggestBox.acceptSuggestion()),e||(e=this._acceptSuggestionInternal()),e},clearAutoComplete:function(e){e&&this._completeTimeout&&(clearTimeout(this._completeTimeout),delete this._completeTimeout),delete this._waitingForCompletions,this.autoCompleteElement&&(this.autoCompleteElement.remove(),delete this.autoCompleteElement,delete this._userEnteredRange,delete this._userEnteredText)},autoCompleteSoon:function(e){var t=this.isSuggestBoxVisible()||e;this._completeTimeout||(this._completeTimeout=setTimeout(this.complete.bind(this,e),t?0:250))},complete:function(e,t){this.clearAutoComplete(!0);var n=window.getSelection();if(n.rangeCount){var i,s=n.getRangeAt(0);if(e||this.isCaretAtEndOfPrompt()||this.isSuggestBoxVisible())if(n.isCollapsed){if(!e){var o=s.startContainer.rangeOfWord(s.endOffset,this._completionStopCharacters,this._element,"forward");o.toString().length&&(i=!0)}}else i=!0;else i=!0;if(i)return void this.hideSuggestBox();var r=s.startContainer.rangeOfWord(s.startOffset,this._completionStopCharacters,this._element,"backward");this._waitingForCompletions=!0,this._loadCompletions(this.proxyElement,r,e||!1,this._completionsReady.bind(this,n,r,!!t))}},disableDefaultSuggestionForEmptyInput:function(){this._disableDefaultSuggestionForEmptyInput=!0},_boxForAnchorAtStart:function(e,t){var n=e.getRangeAt(0).cloneRange(),i=document.createElement("span");i.textContent="​",t.insertNode(i);var s=i.boxInWindow(window);return i.remove(),e.removeAllRanges(),e.addRange(n),s},_buildCommonPrefix:function(e,t){for(var n=e[0],i=0;i<e.length;++i)for(var s=e[i],o=Math.min(n.length,s.length),r=t;o>r;++r)if(n[r]!==s[r]){n=n.substr(0,r);break}return n},_completionsReady:function(e,t,n,i,s){if(!this._waitingForCompletions||!i.length)return void this.hideSuggestBox();delete this._waitingForCompletions;var o=e.getRangeAt(0),r=document.createRange();if(r.setStart(t.startContainer,t.startOffset),r.setEnd(o.endContainer,o.endOffset),t.toString()+o.toString()===r.toString()&&(s=this._disableDefaultSuggestionForEmptyInput&&!this.text?-1:s||0,this._userEnteredRange=r,this._userEnteredText=r.toString(),this._suggestBox&&this._suggestBox.updateSuggestions(this._boxForAnchorAtStart(e,r),i,s,!this.isCaretAtEndOfPrompt(),this._userEnteredText),-1!==s)){var a=t.toString().length;if(this._commonPrefix=this._buildCommonPrefix(i,a),this.isCaretAtEndOfPrompt()){var l=i[s],c=this._userEnteredRange.toString(),h=l.substring(a);this._userEnteredRange.deleteContents(),this._element.normalize();var d=document.createRange(),p=document.createTextNode(c);r.insertNode(p),this.autoCompleteElement=document.createElementWithClass("span","auto-complete-text"),this.autoCompleteElement.textContent=h,p.parentNode.insertBefore(this.autoCompleteElement,p.nextSibling),d.setStart(p,a),d.setEnd(p,a),e.removeAllRanges(),e.addRange(d),this.dispatchEventToListeners(WebInspector.TextPrompt.Events.ItemApplied)}}},_completeCommonPrefix:function(){if(this.autoCompleteElement&&this._commonPrefix&&this._userEnteredText&&this._commonPrefix.startsWith(this._userEnteredText)){if(!this.isSuggestBoxVisible())return void this.acceptAutoComplete();this.autoCompleteElement.textContent=this._commonPrefix.substring(this._userEnteredText.length),this._acceptSuggestionInternal(!0)}},applySuggestion:function(e,t){this._applySuggestion(e,t)},_applySuggestion:function(e,t,n){var i;i=n?n.toString().length:this._userEnteredText?this._userEnteredText.length:0,this._userEnteredRange.deleteContents(),this._element.normalize();var s=document.createRange(),o=document.createTextNode(e);this._userEnteredRange.insertNode(o),this.autoCompleteElement&&(this.autoCompleteElement.remove(),delete this.autoCompleteElement),t?s.setStart(o,i):s.setStart(o,e.length),s.setEnd(o,e.length);var r=window.getSelection();r.removeAllRanges(),r.addRange(s),t&&this.dispatchEventToListeners(WebInspector.TextPrompt.Events.ItemApplied,{itemText:e})},acceptSuggestion:function(){this._acceptSuggestionInternal()},_acceptSuggestionInternal:function(e){if(this._isAcceptingSuggestion)return!1;if(!this.autoCompleteElement||!this.autoCompleteElement.parentNode)return!1;var t=this.autoCompleteElement.textContent,n=document.createTextNode(t);this.autoCompleteElement.parentNode.replaceChild(n,this.autoCompleteElement),delete this.autoCompleteElement;var i=document.createRange();i.setStart(n,t.length),i.setEnd(n,t.length);var s=window.getSelection();return s.removeAllRanges(),s.addRange(i),e?this.autoCompleteSoon(!0):(this.hideSuggestBox(),this.dispatchEventToListeners(WebInspector.TextPrompt.Events.ItemAccepted)),!0},hideSuggestBox:function(){this.isSuggestBoxVisible()&&this._suggestBox.hide()},isSuggestBoxVisible:function(){return this._suggestBox&&this._suggestBox.visible()
},isCaretInsidePrompt:function(){return this._element.isInsertionCaretInside()},isCaretAtEndOfPrompt:function(){var e=window.getSelection();if(!e.rangeCount||!e.isCollapsed)return!1;var t=e.getRangeAt(0),n=t.startContainer;if(!n.isSelfOrDescendant(this._element))return!1;if(n.nodeType===Node.TEXT_NODE&&t.startOffset<n.nodeValue.length)return!1;for(var i=!1;n;){if(n.nodeType===Node.TEXT_NODE&&n.nodeValue.length){if(i&&(!this.autoCompleteElement||!this.autoCompleteElement.isAncestor(n)))return!1;i=!0}n=n.traverseNextNode(this._element)}return!0},isCaretOnFirstLine:function(){var e=window.getSelection(),t=e.focusNode;if(!t||t.nodeType!==Node.TEXT_NODE||t.parentNode!==this._element)return!0;if(-1!==t.textContent.substring(0,e.focusOffset).indexOf("\n"))return!1;for(t=t.previousSibling;t;){if(t.nodeType!==Node.TEXT_NODE)return!0;if(-1!==t.textContent.indexOf("\n"))return!1;t=t.previousSibling}return!0},isCaretOnLastLine:function(){var e=window.getSelection(),t=e.focusNode;if(!t||t.nodeType!==Node.TEXT_NODE||t.parentNode!==this._element)return!0;if(-1!==t.textContent.substring(e.focusOffset).indexOf("\n"))return!1;for(t=t.nextSibling;t;){if(t.nodeType!==Node.TEXT_NODE)return!0;if(-1!==t.textContent.indexOf("\n"))return!1;t=t.nextSibling}return!0},moveCaretToEndOfPrompt:function(){var e=window.getSelection(),t=document.createRange(),n=this._element.childNodes.length;t.setStart(this._element,n),t.setEnd(this._element,n),e.removeAllRanges(),e.addRange(t)},tabKeyPressed:function(){return this._completeCommonPrefix(),!0},__proto__:WebInspector.Object.prototype},WebInspector.TextPromptWithHistory=function(e,t){WebInspector.TextPrompt.call(this,e,t),this._data=[],this._historyOffset=1,this._coalesceHistoryDupes=!0},WebInspector.TextPromptWithHistory.prototype={get historyData(){return this._data},setCoalesceHistoryDupes:function(e){this._coalesceHistoryDupes=e},setHistoryData:function(e){this._data=[].concat(e),this._historyOffset=1},pushHistoryItem:function(e){this._uncommittedIsTop&&(this._data.pop(),delete this._uncommittedIsTop),this._historyOffset=1,this._coalesceHistoryDupes&&e===this._currentHistoryItem()||this._data.push(e)},_pushCurrentText:function(){this._uncommittedIsTop&&this._data.pop(),this._uncommittedIsTop=!0,this.clearAutoComplete(!0),this._data.push(this.text)},_previous:function(){return this._historyOffset>this._data.length?void 0:(1===this._historyOffset&&this._pushCurrentText(),++this._historyOffset,this._currentHistoryItem())},_next:function(){return 1===this._historyOffset?void 0:(--this._historyOffset,this._currentHistoryItem())},_currentHistoryItem:function(){return this._data[this._data.length-this._historyOffset]},onKeyDown:function(e){var t,n;switch(e.keyIdentifier){case"Up":if(!this.isCaretOnFirstLine()||this.isSuggestBoxVisible())break;t=this._previous(),n=!0;break;case"Down":if(!this.isCaretOnLastLine()||this.isSuggestBoxVisible())break;t=this._next();break;case"U+0050":!WebInspector.isMac()||!e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||(t=this._previous(),n=!0);break;case"U+004E":!WebInspector.isMac()||!e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||(t=this._next())}if(void 0===t)WebInspector.TextPrompt.prototype.onKeyDown.apply(this,arguments);else if(e.consume(!0),this.text=t,n){var i=this.text.indexOf("\n");if(-1===i)this.moveCaretToEndOfPrompt();else{var s=window.getSelection(),o=document.createRange();o.setStart(this._element.firstChild,i),o.setEnd(this._element.firstChild,i),s.removeAllRanges(),s.addRange(o)}}},__proto__:WebInspector.TextPrompt.prototype},WebInspector.TabbedPane=function(){WebInspector.VBox.call(this),this.element.classList.add("tabbed-pane"),this.element.tabIndex=-1,this._headerElement=this.element.createChild("div","tabbed-pane-header"),this._headerContentsElement=this._headerElement.createChild("div","tabbed-pane-header-contents"),this._tabsElement=this._headerContentsElement.createChild("div","tabbed-pane-header-tabs"),this._contentElement=this.element.createChild("div","tabbed-pane-content"),this._tabs=[],this._tabsHistory=[],this._tabsById={},this._currentTabLocked=!1,this._dropDownButton=this._createDropDownButton()},WebInspector.TabbedPane.EventTypes={TabSelected:"TabSelected",TabClosed:"TabClosed"},WebInspector.TabbedPane.prototype={setCurrentTabLocked:function(e){this._currentTabLocked=e,this._headerElement.classList.toggle("locked",this._currentTabLocked)},get visibleView(){return this._currentTab?this._currentTab.view:null},tabViews:function(){function e(e){return e.view}return this._tabs.map(e)},get selectedTabId(){return this._currentTab?this._currentTab.id:null},set shrinkableTabs(e){this._shrinkableTabs=e},set verticalTabLayout(e){this._verticalTabLayout=e,this.invalidateConstraints()},set closeableTabs(e){this._closeableTabs=e},setRetainTabOrder:function(e,t){this._retainTabOrder=e,this._tabOrderComparator=t},defaultFocusedElement:function(){return this.visibleView?this.visibleView.defaultFocusedElement():null},focus:function(){this.visibleView?this.visibleView.focus():this.element.focus()},headerElement:function(){return this._headerElement},isTabCloseable:function(e){var t=this._tabsById[e];return t?t.isCloseable():!1},setTabDelegate:function(e){for(var t=this._tabs.slice(),n=0;n<t.length;++n)t[n].setDelegate(e);this._delegate=e},appendTab:function(e,t,n,i,s,o){function r(e,t){return this._tabOrderComparator(e.id,t.id)}o="boolean"==typeof o?o:this._closeableTabs;var a=new WebInspector.TabbedPaneTab(this,e,t,o,n,i);a.setDelegate(this._delegate),this._tabsById[e]=a,this._retainTabOrder&&this._tabOrderComparator?this._tabs.splice(insertionIndexForObjectInListSortedByFunction(a,this._tabs,r.bind(this)),0,a):this._tabs.push(a),this._tabsHistory.push(a),this._tabsHistory[0]===a&&this.isShowing()&&this.selectTab(a.id,s),this._updateTabElements()},closeTab:function(e,t){this.closeTabs([e],t)},closeTabs:function(e,t){for(var n=this.hasFocus(),i=0;i<e.length;++i)this._innerCloseTab(e[i],t);this._updateTabElements(),this._tabsHistory.length&&this.selectTab(this._tabsHistory[0].id,!1),n&&this.focus()},_innerCloseTab:function(e,t){if(this._tabsById[e]&&(!t||this._tabsById[e]._closeable)){this._currentTab&&this._currentTab.id===e&&this._hideCurrentTab();var n=this._tabsById[e];delete this._tabsById[e],this._tabsHistory.splice(this._tabsHistory.indexOf(n),1),this._tabs.splice(this._tabs.indexOf(n),1),n._shown&&this._hideTabElement(n);var i={tabId:e,view:n.view,isUserGesture:t};return this.dispatchEventToListeners(WebInspector.TabbedPane.EventTypes.TabClosed,i),!0}},hasTab:function(e){return!!this._tabsById[e]},allTabs:function(){for(var e=[],t=this._tabs.slice(),n=0;n<t.length;++n)e.push(t[n].id);return e},otherTabs:function(e){for(var t=[],n=this._tabs.slice(),i=0;i<n.length;++i)n[i].id!==e&&t.push(n[i].id);return t},selectTab:function(e,t){if(this._currentTabLocked)return!1;var n=this.hasFocus(),i=this._tabsById[e];if(!i)return!1;if(this._currentTab&&this._currentTab.id===e)return!0;this._hideCurrentTab(),this._showTab(i),this._currentTab=i,this._tabsHistory.splice(this._tabsHistory.indexOf(i),1),this._tabsHistory.splice(0,0,i),this._updateTabElements(),n&&this.focus();var s={tabId:e,view:i.view,isUserGesture:t};return this.dispatchEventToListeners(WebInspector.TabbedPane.EventTypes.TabSelected,s),!0},lastOpenedTabIds:function(e){function t(e){return e.id}return this._tabsHistory.slice(0,e).map(t)},setTabIcon:function(e,t,n){var i=this._tabsById[e];i._setIconClass(t,n)&&this._updateTabElements()},_zoomChanged:function(){for(var e=0;e<this._tabs.length;++e)delete this._tabs[e]._measuredWidth;this.isShowing()&&this._updateTabElements()},changeTabTitle:function(e,t){var n=this._tabsById[e];n.title!==t&&(n.title=t,this._updateTabElements())},changeTabView:function(e,t){var n=this._tabsById[e];this._currentTab&&this._currentTab.id===n.id?(n.view!==t&&this._hideTab(n),n.view=t,this._showTab(n)):n.view=t},changeTabTooltip:function(e,t){var n=this._tabsById[e];n.tooltip=t},onResize:function(){this._updateTabElements()},headerResized:function(){this._updateTabElements()},wasShown:function(){var e=this._currentTab||this._tabsHistory[0];e&&this.selectTab(e.id)},calculateConstraints:function(){var e=WebInspector.VBox.prototype.calculateConstraints.call(this),t=new Constraints(new Size(0,0),new Size(50,50));return e=e.widthToMax(t).heightToMax(t),e=this._verticalTabLayout?e.addWidth(new Constraints(new Size(this._headerElement.offsetWidth,0))):e.addHeight(new Constraints(new Size(0,this._headerElement.offsetHeight)))},_updateTabElements:function(){WebInspector.invokeOnceAfterBatchUpdate(this,this._innerUpdateTabElements)},setPlaceholderText:function(e){this._noTabsMessage=e},_innerUpdateTabElements:function(){this.isShowing()&&(this._tabs.length?(this._contentElement.classList.remove("has-no-tabs"),this._noTabsMessageElement&&(this._noTabsMessageElement.remove(),delete this._noTabsMessageElement)):(this._contentElement.classList.add("has-no-tabs"),this._noTabsMessage&&!this._noTabsMessageElement&&(this._noTabsMessageElement=this._contentElement.createChild("div","tabbed-pane-placeholder fill"),this._noTabsMessageElement.textContent=this._noTabsMessage)),this._measuredDropDownButtonWidth||this._measureDropDownButton(),this._updateWidths(),this._updateTabsDropDown())},_showTabElement:function(e,t){e>=this._tabsElement.children.length?this._tabsElement.appendChild(t.tabElement):this._tabsElement.insertBefore(t.tabElement,this._tabsElement.children[e]),t._shown=!0},_hideTabElement:function(e){this._tabsElement.removeChild(e.tabElement),e._shown=!1},_createDropDownButton:function(){var e=document.createElementWithClass("div","tabbed-pane-header-tabs-drop-down-container"),t=e.createChild("div","tabbed-pane-header-tabs-drop-down");return t.createTextChild("»"),this._dropDownMenu=new WebInspector.DropDownMenu,this._dropDownMenu.addEventListener(WebInspector.DropDownMenu.Events.ItemSelected,this._dropDownMenuItemSelected,this),t.appendChild(this._dropDownMenu.element),e},_dropDownMenuItemSelected:function(e){var t=e.data;this.selectTab(t,!0)},_totalWidth:function(){return this._headerContentsElement.getBoundingClientRect().width},_updateTabsDropDown:function(){var e,t=this._tabsToShowIndexes(this._tabs,this._tabsHistory,this._totalWidth(),this._measuredDropDownButtonWidth);for(e=0;e<this._tabs.length;++e)this._tabs[e]._shown&&-1===t.indexOf(e)&&this._hideTabElement(this._tabs[e]);for(e=0;e<t.length;++e){var n=this._tabs[t[e]];n._shown||this._showTabElement(e,n)}this._populateDropDownFromIndex()},_populateDropDownFromIndex:function(){function e(e,t){return e.title.localeCompare(t.title)}this._dropDownButton.parentElement&&this._headerContentsElement.removeChild(this._dropDownButton),this._dropDownMenu.clear();var t,n=[];for(t=0;t<this._tabs.length;++t)this._tabs[t]._shown||n.push(this._tabs[t]);this._retainTabOrder||n.sort(e);var i=null;for(t=0;t<n.length;++t){var s=n[t];this._dropDownMenu.addItem(s.id,s.title),this._tabsHistory[0]===s&&(i=s.id)}n.length&&(this._headerContentsElement.appendChild(this._dropDownButton),this._dropDownMenu.selectItem(i))},_measureDropDownButton:function(){this._dropDownButton.classList.add("measuring"),this._headerContentsElement.appendChild(this._dropDownButton),this._measuredDropDownButtonWidth=this._dropDownButton.getBoundingClientRect().width,this._headerContentsElement.removeChild(this._dropDownButton),this._dropDownButton.classList.remove("measuring")},_updateWidths:function(){var e=this._measureWidths(),t=this._shrinkableTabs?this._calculateMaxWidth(e.slice(),this._totalWidth()):Number.MAX_VALUE,n=0;for(var i in this._tabs){var s=this._tabs[i];s.setWidth(this._verticalTabLayout?-1:Math.min(t,e[n++]))}},_measureWidths:function(){this._tabsElement.style.setProperty("width","2000px");var e,t,n=[];for(e in this._tabs){var i=this._tabs[e];if("number"!=typeof i._measuredWidth){var s=i._createTabElement(!0);s.__tab=i,n.push(s),this._tabsElement.appendChild(s)}}for(t=0;t<n.length;++t)n[t].__tab._measuredWidth=n[t].getBoundingClientRect().width;for(t=0;t<n.length;++t)n[t].remove();var o=[];for(e in this._tabs)o.push(this._tabs[e]._measuredWidth);return this._tabsElement.style.removeProperty("width"),o},_calculateMaxWidth:function(e,t){if(!e.length)return 0;e.sort(function(e,t){return e-t});var n,i=0;for(n=0;n<e.length;++n)i+=e[n];if(t>=i)return e[e.length-1];var s=0;for(n=e.length-1;n>0;--n){var o=e[n]-e[n-1];if(s+=(e.length-n)*o,t+s>=i)return e[n-1]+(t+s-i)/(e.length-n)}return t/e.length},_tabsToShowIndexes:function(e,t,n,i){for(var s=[],o=0,r=e.length,a=0;r>a;++a){var l=this._retainTabOrder?e[a]:t[a];o+=l.width();var c=o;if(a!==r-1&&(c+=i),!this._verticalTabLayout&&c>n)break;s.push(e.indexOf(l))}return s.sort(function(e,t){return e-t}),s},_hideCurrentTab:function(){this._currentTab&&(this._hideTab(this._currentTab),delete this._currentTab)},_showTab:function(e){e.tabElement.classList.add("selected"),e.view.show(this._contentElement)},_hideTab:function(e){e.tabElement.classList.remove("selected"),e.view.detach()},elementsToRestoreScrollPositionsFor:function(){return[this._contentElement]},_insertBefore:function(e,t){this._tabsElement.insertBefore(e._tabElement,this._tabsElement.childNodes[t]);var n=this._tabs.indexOf(e);this._tabs.splice(n,1),t>n&&--t,this._tabs.splice(t,0,e)},__proto__:WebInspector.VBox.prototype},WebInspector.TabbedPaneTab=function(e,t,n,i,s,o){this._closeable=i,this._tabbedPane=e,this._id=t,this._title=n,this._tooltip=o,this._view=s,this._shown=!1,this._measuredWidth=this._measuredWidth,this._tabElement=this._tabElement},WebInspector.TabbedPaneTab.prototype={get id(){return this._id},get title(){return this._title},set title(e){e!==this._title&&(this._title=e,this._titleElement&&(this._titleElement.textContent=e),delete this._measuredWidth)},iconClass:function(){return this._iconClass},isCloseable:function(){return this._closeable},_setIconClass:function(e,t){return e===this._iconClass&&t===this._iconTooltip?!1:(this._iconClass=e,this._iconTooltip=t,this._iconElement&&this._iconElement.remove(),this._iconClass&&this._tabElement&&(this._iconElement=this._createIconElement(this._tabElement,this._titleElement)),delete this._measuredWidth,!0)},get view(){return this._view},set view(e){this._view=e},get tooltip(){return this._tooltip},set tooltip(e){this._tooltip=e,this._titleElement&&(this._titleElement.title=e||"")},get tabElement(){return this._tabElement||(this._tabElement=this._createTabElement(!1)),this._tabElement},width:function(){return this._width},setWidth:function(e){this.tabElement.style.width=-1===e?"":e+"px",this._width=e},setDelegate:function(e){this._delegate=e},_createIconElement:function(e,t){var n=document.createElementWithClass("span","tabbed-pane-header-tab-icon "+this._iconClass);return this._iconTooltip&&(n.title=this._iconTooltip),e.insertBefore(n,t),n},_createTabElement:function(e){var t=document.createElementWithClass("div","tabbed-pane-header-tab");t.id="tab-"+this._id,t.tabIndex=-1,t.selectTabForTest=this._tabbedPane.selectTab.bind(this._tabbedPane,this.id,!0);var n=t.createChild("span","tabbed-pane-header-tab-title");return n.textContent=this.title,n.title=this.tooltip||"",this._iconClass&&this._createIconElement(t,n),e||(this._titleElement=n),this._closeable&&t.createChild("div","close-button-gray"),e?t.classList.add("measuring"):(t.addEventListener("click",this._tabClicked.bind(this),!1),t.addEventListener("mousedown",this._tabMouseDown.bind(this),!1),t.addEventListener("mouseup",this._tabMouseUp.bind(this),!1),this._closeable&&(t.addEventListener("contextmenu",this._tabContextMenu.bind(this),!1),WebInspector.installDragHandle(t,this._startTabDragging.bind(this),this._tabDragging.bind(this),this._endTabDragging.bind(this),"pointer"))),t},_tabClicked:function(e){var t=1===e.button,n=this._closeable&&(t||e.target.classList.contains("close-button-gray"));return n?(this._closeTabs([this.id]),void e.consume(!0)):void this._tabbedPane.focus()},_tabMouseDown:function(e){e.target.classList.contains("close-button-gray")||1===e.button||this._tabbedPane.selectTab(this.id,!0)},_tabMouseUp:function(e){1===e.button&&e.consume(!0)},_closeTabs:function(e){return this._delegate?void this._delegate.closeTabs(this._tabbedPane,e):void this._tabbedPane.closeTabs(e,!0)},_tabContextMenu:function(e){function t(){this._closeTabs([this.id])}function n(){this._closeTabs(this._tabbedPane.otherTabs(this.id))}function i(){this._closeTabs(this._tabbedPane.allTabs())}var s=new WebInspector.ContextMenu(e);s.appendItem(WebInspector.UIString("Close"),t.bind(this)),s.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Close others":"Close Others"),n.bind(this)),s.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Close all":"Close All"),i.bind(this)),s.show()},_startTabDragging:function(e){return e.target.classList.contains("close-button-gray")?!1:(this._dragStartX=e.pageX,!0)},_tabDragging:function(e){for(var t=this._tabbedPane._tabsElement.childNodes,n=0;n<t.length;++n){var i=t[n];if(i!==this._tabElement){var s=i.offsetLeft+i.clientWidth>this._tabElement.offsetLeft&&this._tabElement.offsetLeft+this._tabElement.clientWidth>i.offsetLeft;if(s){if(Math.abs(e.pageX-this._dragStartX)<i.clientWidth/2+5)break;e.pageX-this._dragStartX>0&&(i=i.nextSibling,++n);var o=this._tabElement.offsetLeft;this._tabbedPane._insertBefore(this,n),this._dragStartX+=this._tabElement.offsetLeft-o;break}}}return!this._tabElement.previousSibling&&e.pageX-this._dragStartX<0?void this._tabElement.style.setProperty("left","0px"):!this._tabElement.nextSibling&&e.pageX-this._dragStartX>0?void this._tabElement.style.setProperty("left","0px"):(this._tabElement.style.setProperty("position","relative"),void this._tabElement.style.setProperty("left",e.pageX-this._dragStartX+"px"))},_endTabDragging:function(){this._tabElement.style.removeProperty("position"),this._tabElement.style.removeProperty("left"),delete this._dragStartX}},WebInspector.TabbedPaneTabDelegate=function(){},WebInspector.TabbedPaneTabDelegate.prototype={closeTabs:function(){}},WebInspector.ExtensibleTabbedPaneController=function(e,t,n){this._tabbedPane=e,this._extensionPoint=t,this._viewCallback=n,this._tabbedPane.setRetainTabOrder(!0,WebInspector.moduleManager.orderComparator(t,"name","order")),this._tabbedPane.addEventListener(WebInspector.TabbedPane.EventTypes.TabSelected,this._tabSelected,this),this._views=new StringMap,this._initialize()},WebInspector.ExtensibleTabbedPaneController.prototype={_initialize:function(){this._extensions={};for(var e=WebInspector.moduleManager.extensions(this._extensionPoint),t=0;t<e.length;++t){var n=e[t].descriptor(),i=n.name,s=WebInspector.UIString(n.title),o=n.setting,r=o?WebInspector.settings[o]:null;this._extensions[i]=e[t],r?(r.addChangeListener(this._toggleSettingBasedView.bind(this,i,s,r)),r.get()&&this._tabbedPane.appendTab(i,s,new WebInspector.View)):this._tabbedPane.appendTab(i,s,new WebInspector.View)}},_toggleSettingBasedView:function(e,t,n){this._tabbedPane.closeTab(e),n.get()&&this._tabbedPane.appendTab(e,t,new WebInspector.View)},_tabSelected:function(){var e=this._tabbedPane.selectedTabId;if(e){var t=this._viewForId(e);t&&this._tabbedPane.changeTabView(e,t)}},_viewForId:function(e){if(this._views.contains(e))return this._views.get(e);var t=this._extensions[e]?this._extensions[e].instance():null;return this._views.put(e,t),this._viewCallback&&t&&this._viewCallback(e,t),t}},WebInspector.ViewportControl=function(e){this.element=document.createElement("div"),this.element.style.overflow="auto",this._topGapElement=this.element.createChild("div","viewport-control-gap-element"),this._topGapElement.textContent=".",this._topGapElement.style.height="0px",this._contentElement=this.element.createChild("div"),this._bottomGapElement=this.element.createChild("div","viewport-control-gap-element"),this._bottomGapElement.textContent=".",this._bottomGapElement.style.height="0px",this._provider=e,this.element.addEventListener("scroll",this._onScroll.bind(this),!1),this.element.addEventListener("copy",this._onCopy.bind(this),!1),this.element.addEventListener("dragstart",this._onDragStart.bind(this),!1),this._firstVisibleIndex=0,this._lastVisibleIndex=-1,this._renderedItems=[],this._anchorSelection=null,this._headSelection=null,this._stickToBottom=!1},WebInspector.ViewportControl.Provider=function(){},WebInspector.ViewportControl.Provider.prototype={fastHeight:function(){return 0},itemCount:function(){return 0},minimumRowHeight:function(){return 0},itemElement:function(){return null}},WebInspector.ViewportElement=function(){},WebInspector.ViewportElement.prototype={cacheFastHeight:function(){},willHide:function(){},wasShown:function(){},element:function(){}},WebInspector.StaticViewportElement=function(e){this._element=e},WebInspector.StaticViewportElement.prototype={cacheFastHeight:function(){},willHide:function(){},wasShown:function(){},element:function(){return this._element}},WebInspector.ViewportControl.prototype={setStickToBottom:function(e){this._stickToBottom=e},_onCopy:function(e){var t=this._selectedText();t&&(e.preventDefault(),e.clipboardData.setData("text/plain",t))},_onDragStart:function(e){var t=this._selectedText();return t?(e.dataTransfer.clearData(),e.dataTransfer.setData("text/plain",t),e.dataTransfer.effectAllowed="copy",!0):!1},contentElement:function(){return this._contentElement},invalidate:function(){delete this._cumulativeHeights,delete this._cachedProviderElements,this.refresh()},_providerElement:function(e){this._cachedProviderElements||(this._cachedProviderElements=new Array(this._provider.itemCount()));var t=this._cachedProviderElements[e];return t||(t=this._provider.itemElement(e),this._cachedProviderElements[e]=t),t},_rebuildCumulativeHeightsIfNeeded:function(){if(!this._cumulativeHeights){var e=this._provider.itemCount();if(e){this._cumulativeHeights=new Int32Array(e),this._cumulativeHeights[0]=this._provider.fastHeight(0);for(var t=1;e>t;++t)this._cumulativeHeights[t]=this._cumulativeHeights[t-1]+this._provider.fastHeight(t)}}},_cachedItemHeight:function(e){return 0===e?this._cumulativeHeights[0]:this._cumulativeHeights[e]-this._cumulativeHeights[e-1]},_isSelectionBackwards:function(e){if(!e||!e.rangeCount)return!1;var t=document.createRange();return t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset),t.collapsed},_createSelectionModel:function(e,t,n){return{item:e,node:t,offset:n}},_updateSelectionModel:function(e){if(!e||!e.rangeCount)return this._headSelection=null,this._anchorSelection=null,!1;for(var t=Number.MAX_VALUE,n=-1,i=e.getRangeAt(0),s=!1,o=0;o<this._renderedItems.length;++o)if(i.intersectsNode(this._renderedItems[o].element())){var r=o+this._firstVisibleIndex;t=Math.min(t,r),n=Math.max(n,r),s=!0}s&&(t=this._createSelectionModel(t,i.startContainer,i.startOffset),n=this._createSelectionModel(n,i.endContainer,i.endOffset));var a=i.intersectsNode(this._topGapElement)&&this._topGapElement._active,l=i.intersectsNode(this._bottomGapElement)&&this._bottomGapElement._active;if(!a&&!l&&!s)return this._headSelection=null,this._anchorSelection=null,!1;this._anchorSelection&&this._headSelection||(this._anchorSelection=this._createSelectionModel(0,this.element,0),this._headSelection=this._createSelectionModel(this._provider.itemCount()-1,this.element,this.element.children.length),this._selectionIsBackward=!1);var c=this._isSelectionBackwards(e),h=this._selectionIsBackward?this._headSelection:this._anchorSelection,d=this._selectionIsBackward?this._anchorSelection:this._headSelection;return a&&l&&s?(t=t.item<h.item?t:h,n=n.item>d.item?n:d):s?a?t=c?this._headSelection:this._anchorSelection:l&&(n=c?this._anchorSelection:this._headSelection):(t=h,n=d),c?(this._anchorSelection=n,this._headSelection=t):(this._anchorSelection=t,this._headSelection=n),this._selectionIsBackward=c,!0},_restoreSelection:function(e){var t,n=null;this._firstVisibleIndex<=this._anchorSelection.item&&this._anchorSelection.item<=this._lastVisibleIndex?(n=this._anchorSelection.node,t=this._anchorSelection.offset):(this._anchorSelection.item<this._firstVisibleIndex?n=this._topGapElement:this._anchorSelection.item>this._lastVisibleIndex&&(n=this._bottomGapElement),t=this._selectionIsBackward?1:0);var i,s=null;this._firstVisibleIndex<=this._headSelection.item&&this._headSelection.item<=this._lastVisibleIndex?(s=this._headSelection.node,i=this._headSelection.offset):(this._headSelection.item<this._firstVisibleIndex?s=this._topGapElement:this._headSelection.item>this._lastVisibleIndex&&(s=this._bottomGapElement),i=this._selectionIsBackward?0:1),e.setBaseAndExtent(n,t,s,i)},refresh:function(){if(this._visibleHeight()){var e=this._provider.itemCount();if(!e)return this._renderedItems.forEach(function(e){e.cacheFastHeight()}),this._renderedItems.forEach(function(e){e.willHide()}),this._renderedItems=[],this._contentElement.removeChildren(),this._topGapElement.style.height="0px",this._bottomGapElement.style.height="0px",this._firstVisibleIndex=-1,void(this._lastVisibleIndex=-1);var t=window.getSelection(),n=this._updateSelectionModel(t),i=this.element.scrollTop,s=this._visibleHeight(),o=this._stickToBottom&&this.element.isScrolledToBottom(),r=!this._cumulativeHeights;this._cumulativeHeights&&e!==this._cumulativeHeights.length&&delete this._cumulativeHeights;for(var a=0;a<this._renderedItems.length;++a)this._renderedItems[a].cacheFastHeight(),this._cumulativeHeights&&Math.abs(this._cachedItemHeight(this._firstVisibleIndex+a)-this._provider.fastHeight(a+this._firstVisibleIndex))>1&&delete this._cumulativeHeights;this._rebuildCumulativeHeightsIfNeeded();var l=this._firstVisibleIndex,c=this._lastVisibleIndex;o?(this._lastVisibleIndex=e-1,this._firstVisibleIndex=Math.max(e-Math.ceil(s/this._provider.minimumRowHeight()),0)):(this._firstVisibleIndex=Math.max(Array.prototype.lowerBound.call(this._cumulativeHeights,i+1),0),this._lastVisibleIndex=this._firstVisibleIndex+Math.ceil(s/this._provider.minimumRowHeight())-1,this._lastVisibleIndex=Math.min(this._lastVisibleIndex,e-1));var h=this._cumulativeHeights[this._firstVisibleIndex-1]||0,d=this._cumulativeHeights[this._cumulativeHeights.length-1]-this._cumulativeHeights[this._lastVisibleIndex];this._topGapElement.style.height=h+"px",this._bottomGapElement.style.height=d+"px",this._topGapElement._active=!!h,this._bottomGapElement._active=!!d,this._contentElement.style.setProperty("height","10000000px"),r?this._fullViewportUpdate():this._partialViewportUpdate(l,c),this._contentElement.style.removeProperty("height"),n&&this._restoreSelection(t),o&&(this.element.scrollTop=this.element.scrollHeight)}},_fullViewportUpdate:function(){this._renderedItems.forEach(function(e){e.willHide()}),this._renderedItems=[],this._contentElement.removeChildren();for(var e=this._firstVisibleIndex;e<=this._lastVisibleIndex;++e){var t=this._providerElement(e);this._contentElement.appendChild(t.element()),this._renderedItems.push(t),t.wasShown()}},_partialViewportUpdate:function(e){var t=this._renderedItems.filter(function(t,n){var i=e+n;return i<this._firstVisibleIndex||this._lastVisibleIndex<i},this);t.forEach(function(e){e.willHide()}),t.forEach(function(e){e.element().remove()}),this._renderedItems=[];for(var n=this._contentElement.firstChild,i=this._firstVisibleIndex;i<=this._lastVisibleIndex;++i){var s=this._providerElement(i),o=s.element();o!==n?(this._contentElement.insertBefore(o,n),s.wasShown()):n=n.nextSibling,this._renderedItems.push(s)}},_selectedText:function(){if(this._updateSelectionModel(window.getSelection()),!this._headSelection||!this._anchorSelection)return null;var e=null,t=null;this._selectionIsBackward?(e=this._headSelection,t=this._anchorSelection):(e=this._anchorSelection,t=this._headSelection);for(var n=[],i=e.item;i<=t.item;++i)n.push(this._providerElement(i).element().textContent);var s,o=this._providerElement(t.item).element();t.node&&t.node.isSelfOrDescendant(o)&&(s=this._textOffsetInNode(o,t.node,t.offset),n[n.length-1]=n.peekLast().substring(0,s));var r=this._providerElement(e.item).element();return e.node&&e.node.isSelfOrDescendant(r)&&(s=this._textOffsetInNode(r,e.node,e.offset),n[0]=n[0].substring(s)),n.join("\n")},_textOffsetInNode:function(e,t,n){if(!n)return 0;for(var i=0,s=e;(s=s.traverseNextTextNode())&&s!==t;)i+=s.textContent.length;return i+n},_onScroll:function(){this.refresh()},firstVisibleIndex:function(){return this._firstVisibleIndex},lastVisibleIndex:function(){return this._lastVisibleIndex},renderedElementAt:function(e){return e<this._firstVisibleIndex?null:e>this._lastVisibleIndex?null:this._renderedItems[e-this._firstVisibleIndex].element()},scrollItemIntoView:function(e,t){e>this._firstVisibleIndex&&e<this._lastVisibleIndex||(t?this.forceScrollItemToBeLast(e):e<=this._firstVisibleIndex?this.forceScrollItemToBeFirst(e):e>=this._lastVisibleIndex&&this.forceScrollItemToBeLast(e))},forceScrollItemToBeFirst:function(e){this._rebuildCumulativeHeightsIfNeeded(),this.element.scrollTop=e>0?this._cumulativeHeights[e-1]:0,this.refresh()},forceScrollItemToBeLast:function(e){this._rebuildCumulativeHeightsIfNeeded(),this.element.scrollTop=this._cumulativeHeights[e]-this._visibleHeight(),this.refresh()},_visibleHeight:function(){return this.element.offsetHeight}},WebInspector.ConsoleModel=function(e){WebInspector.SDKObject.call(this,e),this._messages=[],this.warnings=0,this.errors=0,this._consoleAgent=e.consoleAgent(),e.registerConsoleDispatcher(new WebInspector.ConsoleDispatcher(this)),this._enableAgent()},WebInspector.ConsoleModel.Events={ConsoleCleared:"ConsoleCleared",MessageAdded:"MessageAdded",CommandEvaluated:"CommandEvaluated"},WebInspector.ConsoleModel.prototype={_enableAgent:function(){function e(){delete this._enablingConsole}WebInspector.settings.monitoringXHREnabled.get()&&this._consoleAgent.setMonitoringXHREnabled(!0),this._enablingConsole=!0,this._consoleAgent.enable(e.bind(this))},enablingConsole:function(){return!!this._enablingConsole},addMessage:function(e){e.index=this._messages.length,this._messages.push(e),this._incrementErrorWarningCount(e),this.dispatchEventToListeners(WebInspector.ConsoleModel.Events.MessageAdded,e)},_incrementErrorWarningCount:function(e){switch(e.level){case WebInspector.ConsoleMessage.MessageLevel.Warning:this.warnings++;break;case WebInspector.ConsoleMessage.MessageLevel.Error:this.errors++}},messages:function(){return this._messages},requestClearMessages:function(){this._consoleAgent.clearMessages(),this._messagesCleared()},_messagesCleared:function(){this._messages=[],this.errors=0,this.warnings=0,this.dispatchEventToListeners(WebInspector.ConsoleModel.Events.ConsoleCleared)},__proto__:WebInspector.SDKObject.prototype},WebInspector.ConsoleModel.evaluateCommandInConsole=function(e,t,n){function i(e,n){e&&(WebInspector.console.show(),this.dispatchEventToListeners(WebInspector.ConsoleModel.Events.CommandEvaluated,{result:e,wasThrown:n,text:t,commandMessage:o}))}n=!!n;var s=e.target(),o=new WebInspector.ConsoleMessage(s,WebInspector.ConsoleMessage.MessageSource.JS,null,t,WebInspector.ConsoleMessage.MessageType.Command);s.consoleModel.addMessage(o),e.evaluate(t,"console",n,!1,!1,!0,i.bind(s.consoleModel))},WebInspector.ConsoleMessage=function(e,t,n,i,s,o,r,a,l,c,h,d,p,u,m){this._target=e,this.source=t,this.level=n,this.messageText=i,this.type=s||WebInspector.ConsoleMessage.MessageType.Log,this.url=o||null,this.line=r||0,this.column=a||0,this.parameters=c,this.stackTrace=h,this.timestamp=d||Date.now(),this.isOutdated=p,this.executionContextId=u||0,this.asyncStackTrace=m,this.request=l?e.networkLog.requestForId(l):null,this.request&&(this.stackTrace=this.request.initiator.stackTrace,this.request.initiator&&this.request.initiator.url&&(this.url=this.request.initiator.url,this.line=this.request.initiator.lineNumber),this.asyncStackTrace=void 0)},WebInspector.ConsoleMessage.prototype={target:function(){return this._target},setOriginatingMessage:function(e){this._originatingConsoleMessage=e},originatingMessage:function(){return this._originatingConsoleMessage
},isGroupMessage:function(){return this.type===WebInspector.ConsoleMessage.MessageType.StartGroup||this.type===WebInspector.ConsoleMessage.MessageType.StartGroupCollapsed||this.type===WebInspector.ConsoleMessage.MessageType.EndGroup},isGroupStartMessage:function(){return this.type===WebInspector.ConsoleMessage.MessageType.StartGroup||this.type===WebInspector.ConsoleMessage.MessageType.StartGroupCollapsed},isErrorOrWarning:function(){return this.level===WebInspector.ConsoleMessage.MessageLevel.Warning||this.level===WebInspector.ConsoleMessage.MessageLevel.Error},clone:function(){return new WebInspector.ConsoleMessage(this.target(),this.source,this.level,this.messageText,this.type,this.url,this.line,this.column,this.request?this.request.requestId:void 0,this.parameters,this.stackTrace,this.timestamp,this.isOutdated,this.executionContextId,this.asyncStackTrace)},isEqual:function(e){if(!e)return!1;if(!this._isEqualStackTraces(this.stackTrace,e.stackTrace))return!1;for(var t=this.asyncStackTrace,n=e.asyncStackTrace;t||n;){if(!t||!n)return!1;if(t.description!==n.description)return!1;if(!this._isEqualStackTraces(t.callFrames,n.callFrames))return!1;t=t.asyncStackTrace,n=n.asyncStackTrace}if(this.parameters){if(!e.parameters||this.parameters.length!==e.parameters.length)return!1;for(var i=0;i<e.parameters.length;++i)if(this.parameters[i].type!==e.parameters[i].type||"object"===e.parameters[i].type||this.parameters[i].value!==e.parameters[i].value)return!1}return this.target()===e.target()&&this.source===e.source&&this.type===e.type&&this.level===e.level&&this.line===e.line&&this.url===e.url&&this.messageText===e.messageText&&this.request===e.request&&this.executionContextId===e.executionContextId},_isEqualStackTraces:function(e,t){if(e=e||[],t=t||[],e.length!==t.length)return!1;for(var n=0,i=e.length;i>n;++n)if(e[n].url!==t[n].url||e[n].functionName!==t[n].functionName||e[n].lineNumber!==t[n].lineNumber||e[n].columnNumber!==t[n].columnNumber)return!1;return!0}},WebInspector.ConsoleMessage.MessageSource={XML:"xml",JS:"javascript",Network:"network",ConsoleAPI:"console-api",Storage:"storage",AppCache:"appcache",Rendering:"rendering",CSS:"css",Security:"security",Other:"other",Deprecation:"deprecation"},WebInspector.ConsoleMessage.MessageType={Log:"log",Dir:"dir",DirXML:"dirxml",Table:"table",Trace:"trace",Clear:"clear",StartGroup:"startGroup",StartGroupCollapsed:"startGroupCollapsed",EndGroup:"endGroup",Assert:"assert",Result:"result",Profile:"profile",ProfileEnd:"profileEnd",Command:"command"},WebInspector.ConsoleMessage.MessageLevel={Log:"log",Info:"info",Warning:"warning",Error:"error",Debug:"debug"},WebInspector.ConsoleMessage.timestampComparator=function(e,t){return e.timestamp-t.timestamp},WebInspector.ConsoleDispatcher=function(e){this._console=e},WebInspector.ConsoleDispatcher.prototype={messageAdded:function(e){var t=new WebInspector.ConsoleMessage(this._console.target(),e.source,e.level,e.text,e.type,e.url,e.line,e.column,e.networkRequestId,e.parameters,e.stackTrace,1e3*e.timestamp,this._console._enablingConsole,e.executionContextId,e.asyncStackTrace);this._console.addMessage(t)},messageRepeatCountUpdated:function(){},messagesCleared:function(){WebInspector.settings.preserveConsoleLog.get()||this._console._messagesCleared()}},WebInspector.MultitargetConsoleModel=function(){WebInspector.targetManager.observeTargets(this)},WebInspector.MultitargetConsoleModel.prototype={targetAdded:function(e){this._mainTarget||(this._mainTarget=e,e.consoleModel.addEventListener(WebInspector.ConsoleModel.Events.ConsoleCleared,this._consoleCleared,this)),e.consoleModel.addEventListener(WebInspector.ConsoleModel.Events.MessageAdded,this._consoleMessageAdded,this),e.consoleModel.addEventListener(WebInspector.ConsoleModel.Events.CommandEvaluated,this._commandEvaluated,this)},targetRemoved:function(e){this._mainTarget===e&&(delete this._mainTarget,e.consoleModel.removeEventListener(WebInspector.ConsoleModel.Events.ConsoleCleared,this._consoleCleared,this)),e.consoleModel.removeEventListener(WebInspector.ConsoleModel.Events.MessageAdded,this._consoleMessageAdded,this),e.consoleModel.removeEventListener(WebInspector.ConsoleModel.Events.CommandEvaluated,this._commandEvaluated,this)},messages:function(){for(var e=WebInspector.targetManager.targets(),t=[],n=0;n<e.length;++n)t=t.concat(e[n].consoleModel.messages());return t},_consoleCleared:function(){this.dispatchEventToListeners(WebInspector.ConsoleModel.Events.ConsoleCleared)},_consoleMessageAdded:function(e){this.dispatchEventToListeners(WebInspector.ConsoleModel.Events.MessageAdded,e.data)},_commandEvaluated:function(e){this.dispatchEventToListeners(WebInspector.ConsoleModel.Events.CommandEvaluated,e.data)},__proto__:WebInspector.Object.prototype},WebInspector.multitargetConsoleModel=WebInspector.multitargetConsoleModel,WebInspector.Panel=function(e){WebInspector.VBox.call(this),this.element.classList.add("panel"),this.element.classList.add(e),this._panelName=e,this._shortcuts={}},WebInspector.Panel.counterRightMargin=25,WebInspector.Panel.prototype={get name(){return this._panelName},reset:function(){},defaultFocusedElement:function(){return this.element},searchableView:function(){return null},replaceSelectionWith:function(){},replaceAllWith:function(){},elementsToRestoreScrollPositionsFor:function(){return[]},handleShortcut:function(e){function t(e,t){for(var i=0;i<e.length;++i)if(e[i].key===n)return t.call(s);return!1}var n=WebInspector.KeyboardShortcut.makeKeyFromEvent(e),i=this._shortcuts[n];if(i&&i(e))return void(e.handled=!0);var s=this.searchableView();s&&(t(WebInspector.SearchableView.findShortcuts(),s.handleFindShortcut)?e.handled=!0:t(WebInspector.SearchableView.cancelSearchShortcuts(),s.handleCancelSearchShortcut)&&(e.handled=!0))},registerShortcuts:function(e,t){for(var n=0;n<e.length;++n)this._shortcuts[e[n].key]=t},__proto__:WebInspector.VBox.prototype},WebInspector.PanelWithSidebarTree=function(e,t){WebInspector.Panel.call(this,e),this._panelSplitView=new WebInspector.SplitView(!0,!1,this._panelName+"PanelSplitViewState",t||200),this._panelSplitView.show(this.element);var n=new WebInspector.VBox;n.setMinimumSize(100,25),n.show(this._panelSplitView.sidebarElement()),this._sidebarElement=n.element,this._sidebarElement.classList.add("sidebar");var i=this._sidebarElement.createChild("ol","sidebar-tree");this.sidebarTree=new TreeOutline(i)},WebInspector.PanelWithSidebarTree.prototype={sidebarElement:function(){return this._sidebarElement},mainElement:function(){return this._panelSplitView.mainElement()},defaultFocusedElement:function(){return this.sidebarTree.element||this.element},__proto__:WebInspector.Panel.prototype},WebInspector.PanelDescriptor=function(){},WebInspector.PanelDescriptor.prototype={name:function(){},title:function(){},panel:function(){}},WebInspector.ModuleManagerExtensionPanelDescriptor=function(e){this._name=e.descriptor().name,this._title=WebInspector.UIString(e.descriptor().title),this._extension=e},WebInspector.ModuleManagerExtensionPanelDescriptor.prototype={name:function(){return this._name},title:function(){return this._title},panel:function(){return this._extension.instance()}},WebInspector.InspectorView=function(){WebInspector.VBox.call(this),WebInspector.Dialog.setModalHostView(this),WebInspector.GlassPane.DefaultFocusedViewStack.push(this),this.setMinimumSize(180,72),this._tabbedPane=new WebInspector.TabbedPane,this._tabbedPane.show(this.element),this._toolbarElement=document.createElement("div"),this._toolbarElement.className="toolbar toolbar-background toolbar-colors";var e=this._tabbedPane.headerElement();e.parentElement.insertBefore(this._toolbarElement,e),this._leftToolbarElement=this._toolbarElement.createChild("div","toolbar-controls-left"),this._toolbarElement.appendChild(e),this._rightToolbarElement=this._toolbarElement.createChild("div","toolbar-controls-right"),this._toolbarItems=[],WebInspector.experimentsSettings.devicesPanel.isEnabled()&&(this._remoteDeviceCountElement=this._rightToolbarElement.createChild("div","hidden"),this._remoteDeviceCountElement.addEventListener("click",this.showViewInDrawer.bind(this,"devices",!0),!1),this._remoteDeviceCountElement.id="remote-device-count",InspectorFrontendHost.setDeviceCountUpdatesEnabled(!0),InspectorFrontendHost.events.addEventListener(InspectorFrontendHostAPI.Events.DeviceCountUpdated,this._onDeviceCountUpdated,this)),this._errorWarningCountElement=this._rightToolbarElement.createChild("div","hidden"),this._errorWarningCountElement.id="error-warning-count",this._closeButtonToolbarItem=document.createElementWithClass("div","toolbar-close-button-item");var t=this._closeButtonToolbarItem.createChild("div","close-button");t.addEventListener("click",InspectorFrontendHost.closeWindow.bind(InspectorFrontendHost),!0),this._rightToolbarElement.appendChild(this._closeButtonToolbarItem),this._saveButton=new WebInspector.StatusBarTextButton(WebInspector.UIString("Save"),"save-status-bar-item"),this._saveButton.addEventListener("click",jsh.save,jsh),this.appendToLeftToolbar(this._saveButton),this._darkThemeStylesheet=document.getElementById("dark-theme"),this._darkThemeCheckbox=new WebInspector.StatusBarCheckbox(WebInspector.UIString("Dark theme"),""),this._darkThemeCheckbox.element.className="dark-theme-bar-item",this._darkThemeCheckbox.inputElement.checked=WebInspector.settings.useDarkTheme.get(),this._darkThemeCheckbox.element.addEventListener("change",this._toggleDarkTheme.bind(this)),this.appendToLeftToolbar(this._darkThemeCheckbox),this._toggleDarkTheme(),this._panels={},WebInspector.panels=this._panels,this._history=[],this._historyIterator=-1,document.addEventListener("keydown",this._keyDown.bind(this),!1),document.addEventListener("keypress",this._keyPress.bind(this),!1),this._panelDescriptors={},this._openBracketIdentifiers=["U+005B","U+00DB"].keySet(),this._closeBracketIdentifiers=["U+005D","U+00DD"].keySet(),this._lastActivePanelSetting=WebInspector.settings.createSetting("lastActivePanel","elements"),this._loadPanelDesciptors(),InspectorFrontendHost.events.addEventListener(InspectorFrontendHostAPI.Events.ShowConsole,this.showPanel.bind(this,"console"))},WebInspector.InspectorView.Events={DeviceCountChanged:"DeviceCountChanged"},WebInspector.InspectorView.prototype={_loadPanelDesciptors:function(){function e(e){this.addPanel(new WebInspector.ModuleManagerExtensionPanelDescriptor(e))}WebInspector.startBatchUpdate(),WebInspector.moduleManager.extensions(WebInspector.Panel).forEach(e.bind(this)),WebInspector.endBatchUpdate()},appendToLeftToolbar:function(e){this._toolbarItems.push(e),this._leftToolbarElement.appendChild(e.element)},appendToRightToolbar:function(e){this._toolbarItems.push(e),this._rightToolbarElement.insertBefore(e.element,this._closeButtonToolbarItem)},addPanel:function(e){var t=e.name();this._panelDescriptors[t]=e,this._tabbedPane.appendTab(t,e.title(),new WebInspector.View),this._lastActivePanelSetting.get()===t&&this._tabbedPane.selectTab(t)},hasPanel:function(e){return!!this._panelDescriptors[e]},panel:function(e){var t=this._panelDescriptors[e],n=this._tabbedPane.allTabs();!t&&n.length&&(t=this._panelDescriptors[n[0]]);var i=t?t.panel():null;return i&&(this._panels[e]=i),i},setCurrentPanelLocked:function(e){this._currentPanelLocked=e,this._tabbedPane.setCurrentTabLocked(e);for(var t=0;t<this._toolbarItems.length;++t)this._toolbarItems[t].setEnabled(!e)},showPanel:function(e){if(this._currentPanelLocked)return this._currentPanel===this._panels[e]?this._currentPanel:null;var t=this.panel(e);return t&&this.setCurrentPanel(t),t},currentPanel:function(){return this._currentPanel},showInitialPanel:function(){this._tabbedPane.addEventListener(WebInspector.TabbedPane.EventTypes.TabSelected,this._tabSelected,this),this._tabSelected()},showDrawerEditor:function(){this._drawer.showDrawerEditor()},isDrawerEditorShown:function(){return this._drawer.isDrawerEditorShown()},hideDrawerEditor:function(){this._drawer.hideDrawerEditor()},setDrawerEditorAvailable:function(e){this._drawer.setDrawerEditorAvailable(e)},_tabSelected:function(){var e=this._tabbedPane.selectedTabId;if(e){var t=this._panelDescriptors[this._tabbedPane.selectedTabId].panel();this._panels[e]=t,this._tabbedPane.changeTabView(e,t),this._currentPanel=t,this._lastActivePanelSetting.set(t.name),this._pushToHistory(t.name),t.focus()}},setCurrentPanel:function(e){this._currentPanelLocked||this._currentPanel!==e&&(this._tabbedPane.changeTabView(e.name,e),this._tabbedPane.selectTab(e.name))},closeViewInDrawer:function(e){this._drawer.closeView(e)},showCloseableViewInDrawer:function(e,t,n){this._drawer.showCloseableView(e,t,n)},showDrawer:function(){this._drawer.showDrawer()},drawerVisible:function(){return this._drawer.isShowing()},showViewInDrawer:function(e,t){},selectedViewInDrawer:function(){return this._drawer.selectedViewId()},closeDrawer:function(){this._drawer.closeDrawer()},defaultFocusedElement:function(){return this._currentPanel?this._currentPanel.defaultFocusedElement():null},_keyPress:function(e){e.charCode<32&&WebInspector.isWin()||(clearTimeout(this._keyDownTimer),delete this._keyDownTimer)},_keyDown:function(e){if(WebInspector.KeyboardShortcut.eventHasCtrlOrMeta(e)){var t=e,n=WebInspector.settings.shortcutPanelSwitch.get();if(n&&!e.shiftKey&&!e.altKey){var i=-1;if(e.keyCode>48&&e.keyCode<58?i=e.keyCode-49:e.keyCode>96&&e.keyCode<106&&t.location===KeyboardEvent.DOM_KEY_LOCATION_NUMPAD&&(i=e.keyCode-97),-1!==i){var s=this._tabbedPane.allTabs()[i];return void(s&&(WebInspector.Dialog.currentInstance()||this._currentPanelLocked||this.showPanel(s),e.consume(!0)))}}return WebInspector.isWin()&&(this._openBracketIdentifiers[e.keyIdentifier]||this._closeBracketIdentifiers[e.keyIdentifier])?void(this._keyDownTimer=setTimeout(this._keyDownInternal.bind(this,e),0)):void this._keyDownInternal(e)}},_keyDownInternal:function(e){if(!this._currentPanelLocked){var t=0;if(this._openBracketIdentifiers[e.keyIdentifier]&&(t=-1),this._closeBracketIdentifiers[e.keyIdentifier]&&(t=1),t)return e.shiftKey||e.altKey?void(e.altKey&&this._moveInHistory(t)&&e.consume(!0)):(WebInspector.Dialog.currentInstance()||this._changePanelInDirection(t),void e.consume(!0))}},_changePanelInDirection:function(e){var t=this._tabbedPane.allTabs(),n=t.indexOf(this.currentPanel().name);n=(n+t.length+e)%t.length,this.showPanel(t[n])},_moveInHistory:function(e){var t=this._historyIterator+e;return t>=this._history.length||0>t?!1:(this._inHistory=!0,this._historyIterator=t,WebInspector.Dialog.currentInstance()||this.setCurrentPanel(this._panels[this._history[this._historyIterator]]),delete this._inHistory,!0)},_pushToHistory:function(e){this._inHistory||(this._history.splice(this._historyIterator+1,this._history.length-this._historyIterator-1),this._history.length&&this._history[this._history.length-1]===e||this._history.push(e),this._historyIterator=this._history.length-1)},onResize:function(){WebInspector.Dialog.modalHostRepositioned()},topResizerElement:function(){return this._tabbedPane.headerElement()},_createImagedCounterElementIfNeeded:function(e,t,n,i){if(t){var s=(e.createChild("div",i),e.createChild("span"));s.id=n,s.textContent=t}},setErrorAndWarningCounts:function(e,t){if(this._errors!==e||this._warnings!==t){this._errors=e,this._warnings=t,this._errorWarningCountElement.classList.toggle("hidden",!e&&!t),this._errorWarningCountElement.removeChildren(),this._createImagedCounterElementIfNeeded(this._errorWarningCountElement,e,"error-count","error-icon-small"),this._createImagedCounterElementIfNeeded(this._errorWarningCountElement,t,"warning-count","warning-icon-small");var n=e?WebInspector.UIString("%d error%s",e,e>1?"s":""):"",i=t?WebInspector.UIString("%d warning%s",t,t>1?"s":""):"",s=e&&t?", ":"";this._errorWarningCountElement.title=n+s+i,this._tabbedPane.headerResized()}},_onDeviceCountUpdated:function(e){var t=e.data;t!==this.deviceCount_&&(this.deviceCount_=t,this._remoteDeviceCountElement.classList.toggle("hidden",!t),this._remoteDeviceCountElement.removeChildren(),this._createImagedCounterElementIfNeeded(this._remoteDeviceCountElement,t,"device-count","device-icon-small"),this._remoteDeviceCountElement.title=WebInspector.UIString(t>1?"%d devices found":"%d device found",t),this._tabbedPane.headerResized())},_toggleDarkTheme:function(){console.log("boop");var e=this._darkThemeCheckbox.checked();this._darkThemeStylesheet.rel=e?"stylesheet":"alternate stylesheet",WebInspector.settings.useDarkTheme.set(e)},__proto__:WebInspector.VBox.prototype},WebInspector.inspectorView=WebInspector.inspectorView,WebInspector.InspectorView.DrawerToggleActionDelegate=function(){},WebInspector.InspectorView.DrawerToggleActionDelegate.prototype={handleAction:function(){return WebInspector.inspectorView.drawerVisible()?(WebInspector.inspectorView.closeDrawer(),!0):(WebInspector.inspectorView.showDrawer(),!0)}},WebInspector.RootView=function(){WebInspector.VBox.call(this),this.markAsRoot(),this.element.classList.add("root-view"),this.element.setAttribute("spellcheck",!1),window.addEventListener("resize",this.doResize.bind(this),!0),this._onScrollBound=this._onScroll.bind(this)},WebInspector.RootView.prototype={attachToBody:function(){this.doResize(),this.show(document.body)},_onScroll:function(){0!==document.body.scrollTop&&(document.body.scrollTop=0),0!==document.body.scrollLeft&&(document.body.scrollLeft=0)},doResize:function(){var e=this.constraints().minimum,t=WebInspector.zoomManager.zoomFactor(),n=Math.min(0,window.innerWidth-e.width/t);this.element.style.right=n+"px";var i=Math.min(0,window.innerHeight-e.height/t);this.element.style.bottom=i+"px",window.innerWidth<e.width||window.innerHeight<e.height?window.addEventListener("scroll",this._onScrollBound,!1):window.removeEventListener("scroll",this._onScrollBound,!1),WebInspector.VBox.prototype.doResize.call(this),this._onScroll()},__proto__:WebInspector.VBox.prototype},WebInspector.resourceForURL=function(e){return null},WebInspector.forAllResources=function(e){WebInspector.resourceTreeModel.forAllResources(e)},WebInspector.displayNameForURL=function(e){if(!e)return"";var t=WebInspector.resourceForURL(e);if(t)return t.displayName;var n=WebInspector.workspace.uiSourceCodeForURL(e);if(n)return n.displayName();if(!WebInspector.resourceTreeModel.inspectedPageURL())return e.trimURL("");var i=WebInspector.resourceTreeModel.inspectedPageURL().asParsedURL(),s=i?i.lastPathComponent:i,o=WebInspector.resourceTreeModel.inspectedPageURL().indexOf(s);if(-1!==o&&o+s.length===WebInspector.resourceTreeModel.inspectedPageURL().length){var r=WebInspector.resourceTreeModel.inspectedPageURL().substring(0,o);if(e.startsWith(r))return e.substring(o)}if(!i)return e;var a=e.trimURL(i.host);return"/"===a?i.host+"/":a},WebInspector.linkifyStringAsFragmentWithCustomLinkifier=function(e,t){for(var n=document.createDocumentFragment(),i=/(?:[a-zA-Z][a-zA-Z0-9+.-]{2,}:\/\/|data:|www\.)[\w$\-_+*'=\|\/\\(){}[\]^%@&#~,:;.!?]{2,}[\w$\-_+*=\|\/\\({^%@&#~]/,s=/:(\d+)(:(\d+))?$/;e;){var o=i.exec(e);if(!o)break;o=o[0];var r=e.indexOf(o),a=e.substring(0,r);n.appendChild(document.createTextNode(a));var l,c,h=o,d=o.startsWith("www.")?"http://"+o:o,p=s.exec(d);p&&(d=d.substring(0,d.length-p[0].length),l=parseInt(p[1],10),l=isNaN(l)?void 0:l-1,"string"==typeof p[3]&&(c=parseInt(p[3],10),c=isNaN(c)?void 0:c-1));var u=t(h,d,l,c);n.appendChild(u),e=e.substring(r+o.length,e.length)}return e&&n.appendChild(document.createTextNode(e)),n},WebInspector.linkifyStringAsFragment=function(e){function t(e,t,n,i){var s=!1,o=WebInspector.linkifyURLAsNode(t,e,void 0,s);return"undefined"!=typeof n&&(o.lineNumber=n,"undefined"!=typeof i&&(o.columnNumber=i)),o}return WebInspector.linkifyStringAsFragmentWithCustomLinkifier(e,t)},WebInspector.linkifyURLAsNode=function(e,t,n,i,s){t||(t=e),n=n?n+" ":"",n+=i?"webkit-html-external-link":"webkit-html-resource-link";var o=document.createElement("a"),r=sanitizeHref(e);return null!==r&&(o.href=r),o.className=n,"undefined"==typeof s?o.title=e:("string"!=typeof s||s.length)&&(o.title=s),o.textContent=t.trimMiddle(WebInspector.Linkifier.MaxLengthForDisplayedURLs),i&&o.setAttribute("target","_blank"),o},WebInspector.formatLinkText=function(e,t){var n=e?WebInspector.displayNameForURL(e):WebInspector.UIString("(program)");return"number"==typeof t&&(n+=":"+(t+1)),n},WebInspector.linkifyResourceAsNode=function(e,t,n,i){var s=WebInspector.formatLinkText(e,t),o=WebInspector.linkifyURLAsNode(e,s,n,!1,i);return o.lineNumber=t,o},WebInspector.linkifyRequestAsNode=function(e){var t=WebInspector.linkifyURLAsNode(e.url);return t.requestId=e.requestId,t},WebInspector.contentAsDataURL=function(e,t,n){var i=1048576;return null===e||e.length>i?null:"data:"+t+(n?";base64,":",")+e},WebInspector.DataGrid=function(e,t,n,i,s){WebInspector.View.call(this),this.registerRequiredCSS("public/css/dataGrid.css"),this.element.className="data-grid",this.element.tabIndex=0,this.element.addEventListener("keydown",this._keyDown.bind(this),!1);var o=document.createElementWithClass("div","header-container");this._headerTable=o.createChild("table","header"),this._headerTableHeaders={},this._scrollContainer=document.createElementWithClass("div","data-container"),this._dataTable=this._scrollContainer.createChild("table","data"),this._dataTable.addEventListener("mousedown",this._mouseDownInDataTable.bind(this),!0),this._dataTable.addEventListener("click",this._clickInDataTable.bind(this),!0),this._dataTable.addEventListener("contextmenu",this._contextMenuInDataTable.bind(this),!0),t&&this._dataTable.addEventListener("dblclick",this._ondblclick.bind(this),!1),this._editCallback=t,this._deleteCallback=n,this._refreshCallback=i,this._contextMenuCallback=s,this.element.appendChild(o),this.element.appendChild(this._scrollContainer),this._headerRow=document.createElement("tr"),this._headerTableColumnGroup=document.createElement("colgroup"),this._dataTableColumnGroup=document.createElement("colgroup"),this._topFillerRow=document.createElementWithClass("tr","filler"),this._bottomFillerRow=document.createElementWithClass("tr","filler"),this._bottomFillerRow.style.height="auto",this._columnsArray=e,this._visibleColumnsArray=e,this._columns={};for(var r=0;r<e.length;++r){var a=e[r],l=a.identifier=a.id||r;this._columns[l]=a,a.disclosure&&(this.disclosureColumnIdentifier=l);var c=document.createElement("th");c.className=l+"-column",c.columnIdentifier=l,this._headerTableHeaders[l]=c;var h=document.createElement("div");a.titleDOMFragment?h.appendChild(a.titleDOMFragment):h.textContent=a.title,c.appendChild(h),a.sort&&(c.classList.add("sort-"+a.sort),this._sortColumnCell=c),a.sortable&&(c.addEventListener("click",this._clickInHeaderCell.bind(this),!1),c.classList.add("sortable"))}this._headerTable.appendChild(this._headerTableColumnGroup),this.headerTableBody.appendChild(this._headerRow),this._dataTable.appendChild(this._dataTableColumnGroup),this.dataTableBody.appendChild(this._topFillerRow),this.dataTableBody.appendChild(this._bottomFillerRow),this._refreshHeader(),this.selectedNode=null,this.expandNodesWhenArrowing=!1,this.setRootNode(new WebInspector.DataGridNode),this.indentWidth=15,this._resizers=[],this._columnWidthsInitialized=!1,this._cornerWidth=WebInspector.DataGrid.CornerWidth},WebInspector.DataGrid.CornerWidth=14,WebInspector.DataGrid.ColumnDescriptor=WebInspector.DataGrid.ColumnDescriptor,WebInspector.DataGrid.Events={SelectedNode:"SelectedNode",DeselectedNode:"DeselectedNode",SortingChanged:"SortingChanged",ColumnsResized:"ColumnsResized"},WebInspector.DataGrid.Order={Ascending:"ascending",Descending:"descending"},WebInspector.DataGrid.Align={Center:"center",Right:"right"},WebInspector.DataGrid.NodeComparator=WebInspector.DataGrid.NodeComparator,WebInspector.DataGrid.TrivialComparator=function(){return 0},WebInspector.DataGrid.NumericComparator=function(e,t,n){var i=t.data[e],s=n.data[e],o=Number(i instanceof Node?i.textContent:i),r=Number(s instanceof Node?s.textContent:s);return r>o?-1:o>r?1:0},WebInspector.DataGrid.StringComparator=function(e,t,n){var i=t.data[e],s=n.data[e],o=i instanceof Node?i.textContent:String(i),r=s instanceof Node?s.textContent:String(s);return r>o?-1:o>r?1:0},WebInspector.DataGrid.Comparator=function(e,t,n,i){return n._data.summaryRow?1:i._data.summaryRow?-1:t?e(i,n):e(n,i)},WebInspector.DataGrid.createSortableDataGrid=function(e,t){function n(){var e=h._rootNode.children,t=h.sortColumnIdentifier();if(t){for(var n=!0,i=0;i<e.length;i++){var s=e[i].data[t];if(isNaN(s instanceof Node?s.textContent:s)){n=!1;break}}var o=n?WebInspector.DataGrid.NumericComparator:WebInspector.DataGrid.StringComparator;h.sortNodes(o.bind(null,t),!h.isSortOrderAscending())}}var i=e.length;if(!i)return null;var s,o=[];for(s=0;s<e.length;++s)o.push({title:e[s],width:e[s].length,sortable:!0});var r=[];for(s=0;s<t.length/i;++s){for(var a={},l=0;l<e.length;++l)a[l]=t[i*s+l];var c=new WebInspector.DataGridNode(a,!1);c.selectable=!1,r.push(c)}var h=new WebInspector.DataGrid(o),d=r.length;for(s=0;d>s;++s)h.rootNode().appendChild(r[s]);return h.addEventListener(WebInspector.DataGrid.Events.SortingChanged,n),h},WebInspector.DataGrid.prototype={_refreshHeader:function(){this._headerTableColumnGroup.removeChildren(),this._dataTableColumnGroup.removeChildren(),this._headerRow.removeChildren(),this._topFillerRow.removeChildren(),this._bottomFillerRow.removeChildren();for(var e=0;e<this._visibleColumnsArray.length;++e){var t=this._visibleColumnsArray[e],n=t.identifier,i=this._headerTableColumnGroup.createChild("col"),s=this._dataTableColumnGroup.createChild("col");t.width&&(i.style.width=t.width,s.style.width=t.width),this._headerRow.appendChild(this._headerTableHeaders[n]),this._topFillerRow.createChild("td",n+"-column"),this._bottomFillerRow.createChild("td",n+"-column")}this._headerRow.createChild("th","corner"),this._topFillerRow.createChild("td","corner"),this._bottomFillerRow.createChild("td","corner"),this._headerTableColumnGroup.createChild("col","corner"),this._dataTableColumnGroup.createChild("col","corner")},setVerticalPadding:function(e,t){this._topFillerRow.style.height=e+"px",this._bottomFillerRow.style.height=t+"px"},setRootNode:function(e){this._rootNode&&(this._rootNode.removeChildren(),this._rootNode.dataGrid=null,this._rootNode._isRoot=!1),this._rootNode=e,e._isRoot=!0,e.hasChildren=!1,e._expanded=!0,e._revealed=!0,e.dataGrid=this},rootNode:function(){return this._rootNode},insertChild:function(e){var t=this._rootNode;t.insertChild(e,t.children.upperBound(e,this._sortingFunction))},_ondblclick:function(e){if(!this._editing&&!this._editingNode){var t=this.columnIdentifierFromNode(e.target);t&&this._columns[t].editable&&this._startEditing(e.target)}},_startEditingColumnOfDataGridNode:function(e,t){this._editing=!0,this._editingNode=e,this._editingNode.select();var n=this._editingNode._element.children[t];WebInspector.InplaceEditor.startEditing(n,this._startEditingConfig(n)),window.getSelection().setBaseAndExtent(n,0,n,1)},_startEditing:function(e){var t=e.enclosingNodeOrSelfWithNodeName("td");if(t){if(this._editingNode=this.dataGridNodeFromNode(e),!this._editingNode){if(!this.creationNode)return;this._editingNode=this.creationNode}if(this._editingNode.isCreationNode)return this._startEditingColumnOfDataGridNode(this._editingNode,this._nextEditableColumn(-1));this._editing=!0,WebInspector.InplaceEditor.startEditing(t,this._startEditingConfig(t)),window.getSelection().setBaseAndExtent(t,0,t,1)}},renderInline:function(){this.element.classList.add("inline"),this._cornerWidth=0,this.updateWidths()},_startEditingConfig:function(e){return new WebInspector.InplaceEditor.Config(this._editingCommitted.bind(this),this._editingCancelled.bind(this),e.textContent)},_editingCommitted:function(e,t,n,i,s){function o(e){if(s){var t;if("forward"!==s)if("backward"!==s);else{var n=this._nextEditableColumn(l,!0);if(-1!==n)return this._startEditingColumnOfDataGridNode(h,n);var i=this._nextEditableColumn(this._visibleColumnsArray.length,!0);if(t=h.traversePreviousNode(!0,!0))return this._startEditingColumnOfDataGridNode(t,i)}else{var o=this._nextEditableColumn(-1);if(h.isCreationNode&&l===o&&!e)return;var r=this._nextEditableColumn(l);if(-1!==r)return this._startEditingColumnOfDataGridNode(h,r);if(t=h.traverseNextNode(!0,null,!0))return this._startEditingColumnOfDataGridNode(t,o);if(h.isCreationNode&&e)return this.addCreationNode(!1),this._startEditingColumnOfDataGridNode(this.creationNode,o)}}}var r=this.columnIdentifierFromNode(e);if(!r)return void this._editingCancelled(e);var a=this._columns[r],l=this._visibleColumnsArray.indexOf(a),c=this._editingNode.data[r],h=this._editingNode;return c==t?(this._editingCancelled(e),void o.call(this,!1)):(this._editingNode.data[r]=t,this._editCallback(this._editingNode,r,c,t),this._editingNode.isCreationNode&&this.addCreationNode(!1),this._editingCancelled(e),void o.call(this,!0))},_editingCancelled:function(){delete this._editing,this._editingNode=null},_nextEditableColumn:function(e,t){for(var n=t?-1:1,i=this._visibleColumnsArray,s=e+n;s>=0&&s<i.length;s+=n)if(i[s].editable)return s;return-1},sortColumnIdentifier:function(){return this._sortColumnCell?this._sortColumnCell.columnIdentifier:null},sortOrder:function(){return!this._sortColumnCell||this._sortColumnCell.classList.contains("sort-ascending")?WebInspector.DataGrid.Order.Ascending:this._sortColumnCell.classList.contains("sort-descending")?WebInspector.DataGrid.Order.Descending:null},isSortOrderAscending:function(){return!this._sortColumnCell||this._sortColumnCell.classList.contains("sort-ascending")},get headerTableBody(){return"_headerTableBody"in this?this._headerTableBody:(this._headerTableBody=this._headerTable.getElementsByTagName("tbody")[0],this._headerTableBody||(this._headerTableBody=this.element.ownerDocument.createElement("tbody"),this._headerTable.insertBefore(this._headerTableBody,this._headerTable.tFoot)),this._headerTableBody)},get dataTableBody(){return"_dataTableBody"in this?this._dataTableBody:(this._dataTableBody=this._dataTable.getElementsByTagName("tbody")[0],this._dataTableBody||(this._dataTableBody=this.element.ownerDocument.createElement("tbody"),this._dataTable.insertBefore(this._dataTableBody,this._dataTable.tFoot)),this._dataTableBody)},_autoSizeWidths:function(e,t,n){t&&(t=Math.min(t,Math.floor(100/e.length)));var i,s=0;for(i=0;i<e.length;++i)s+=e[i];var o=0;for(i=0;i<e.length;++i){var r=Math.round(100*e[i]/s);t&&t>r?r=t:n&&r>n&&(r=n),o+=r,e[i]=r}for(var a=o-100;t&&a>0;)for(i=0;i<e.length&&(!(e[i]>t)||(--e[i],--a,a));++i);for(;n&&0>a;)for(i=0;i<e.length&&(!(e[i]<n)||(++e[i],++a,a));++i);return e},autoSizeColumns:function(e,t,n){var i,s=[];for(i=0;i<this._columnsArray.length;++i)s.push((this._columnsArray[i].title||"").length);n=n||0;var o=this._enumerateChildren(this._rootNode,[],n+1);for(i=0;i<o.length;++i)for(var r=o[i],a=0;a<this._columnsArray.length;++a){var l=r.data[this._columnsArray[a].identifier]||"";l.length>s[a]&&(s[a]=l.length)}for(s=this._autoSizeWidths(s,e,t),i=0;i<this._columnsArray.length;++i)this._columnsArray[i].weight=s[i];this._columnWidthsInitialized=!1,this.updateWidths()},_enumerateChildren:function(e,t,n){if(e._isRoot||t.push(e),n){for(var i=0;i<e.children.length;++i)this._enumerateChildren(e.children[i],t,n-1);return t}},onResize:function(){this.updateWidths()},updateWidths:function(){var e=this._headerTableColumnGroup.children,t=this.element.offsetWidth-this._cornerWidth,n=e.length-1;if(!this._columnWidthsInitialized&&this.element.offsetWidth){for(var i=0;n>i;i++){var s=this.headerTableBody.rows[0].cells[i].offsetWidth,o=this._visibleColumnsArray[i];o.weight||(o.weight=100*s/t)}this._columnWidthsInitialized=!0}this._applyColumnWeights()},setName:function(e){this._columnWeightsSetting=WebInspector.settings.createSetting("dataGrid-"+e+"-columnWeights",{}),this._loadColumnWeights()},_loadColumnWeights:function(){if(this._columnWeightsSetting){for(var e=this._columnWeightsSetting.get(),t=0;t<this._columnsArray.length;++t){var n=this._columnsArray[t],i=e[n.identifier];
i&&(n.weight=i)}this._applyColumnWeights()}},_saveColumnWeights:function(){if(this._columnWeightsSetting){for(var e={},t=0;t<this._columnsArray.length;++t){var n=this._columnsArray[t];e[n.identifier]=n.weight}this._columnWeightsSetting.set(e)}},wasShown:function(){this._loadColumnWeights()},_applyColumnWeights:function(){var e,t=this.element.offsetWidth-this._cornerWidth;if(!(0>=t)){var n=0;for(e=0;e<this._visibleColumnsArray.length;++e)n+=this._visibleColumnsArray[e].weight;var i=0,s=0;for(e=0;e<this._visibleColumnsArray.length;++e){i+=this._visibleColumnsArray[e].weight;var o=i*t/n|0,r=o-s+"px";this._headerTableColumnGroup.children[e].style.width=r,this._dataTableColumnGroup.children[e].style.width=r,s=o}this._positionResizers(),this.dispatchEventToListeners(WebInspector.DataGrid.Events.ColumnsResized)}},setColumnsVisiblity:function(e){var t;for(this._visibleColumnsArray=[],t=0;t<this._columnsArray.length;++t){var n=this._columnsArray[t];e[n.identifier]&&this._visibleColumnsArray.push(n)}this._refreshHeader(),this._applyColumnWeights();var i=this._enumerateChildren(this.rootNode(),[],-1);for(t=0;t<i.length;++t)i[t].refresh()},get scrollContainer(){return this._scrollContainer},isScrolledToLastRow:function(){return this._scrollContainer.isScrolledToBottom()},scrollToLastRow:function(){this._scrollContainer.scrollTop=this._scrollContainer.scrollHeight-this._scrollContainer.offsetHeight},_positionResizers:function(){for(var e=this._headerTableColumnGroup.children,t=e.length-1,n=[],i=this._resizers;i.length>t-1;)i.pop().remove();var s;for(s=0;t-1>s;s++)n[s]=(n[s-1]||0)+this.headerTableBody.rows[0].cells[s].offsetWidth;for(s=0;t-1>s;s++){var o=this._resizers[s];o||(o=document.createElement("div"),o.__index=s,o.classList.add("data-grid-resizer"),WebInspector.installDragHandle(o,this._startResizerDragging.bind(this),this._resizerDragging.bind(this),this._endResizerDragging.bind(this),"col-resize"),this.element.appendChild(o),i.push(o)),o.__position!==n[s]&&(o.__position=n[s],o.style.left=n[s]+"px")}},addCreationNode:function(e){this.creationNode&&this.creationNode.makeNormal();var t={};for(var n in this._columns)t[n]=null;this.creationNode=new WebInspector.CreationDataGridNode(t,e),this.rootNode().appendChild(this.creationNode)},sortNodes:function(e,t){function n(e,t){return i(e._dataGridNode,t._dataGridNode)}var i=WebInspector.DataGrid.Comparator.bind(null,e,t);this._sortingFunction=i;var s=this.dataTableBody,o=s.parentElement;o.removeChild(s);var r=s.childNodes,a=Array.prototype.slice.call(r,1,r.length-1);a.sort(n);var l=a.length;this._rootNode.children=[],s.removeChildren(),s.appendChild(this._topFillerRow);for(var c=null,h=0;l>h;++h){var d=a[h],p=d._dataGridNode;p.previousSibling=c,c&&(c.nextSibling=p),this._rootNode.children.push(p),s.appendChild(d),c=p}c&&(c.nextSibling=null),s.appendChild(this._bottomFillerRow),o.appendChild(s)},_keyDown:function(e){if(!(!this.selectedNode||e.shiftKey||e.metaKey||e.ctrlKey||this._editing)){var t,n=!1;if("Up"!==e.keyIdentifier||e.altKey)if("Down"!==e.keyIdentifier||e.altKey)"Left"===e.keyIdentifier?this.selectedNode.expanded?(e.altKey?this.selectedNode.collapseRecursively():this.selectedNode.collapse(),n=!0):this.selectedNode.parent&&!this.selectedNode.parent._isRoot&&(n=!0,this.selectedNode.parent.selectable?(t=this.selectedNode.parent,n=t?!0:!1):this.selectedNode.parent&&this.selectedNode.parent.collapse()):"Right"===e.keyIdentifier?this.selectedNode.revealed?this.selectedNode.hasChildren&&(n=!0,this.selectedNode.expanded?(t=this.selectedNode.children[0],n=t?!0:!1):e.altKey?this.selectedNode.expandRecursively():this.selectedNode.expand()):(this.selectedNode.reveal(),n=!0):8===e.keyCode||46===e.keyCode?this._deleteCallback&&(n=!0,this._deleteCallback(this.selectedNode),this.changeNodeAfterDeletion()):isEnterKey(e)&&this._editCallback&&(n=!0,this._startEditing(this.selectedNode._element.children[this._nextEditableColumn(-1)]));else{for(t=this.selectedNode.traverseNextNode(!0);t&&!t.selectable;)t=t.traverseNextNode(!0);n=t?!0:!1}else{for(t=this.selectedNode.traversePreviousNode(!0);t&&!t.selectable;)t=t.traversePreviousNode(!0);n=t?!0:!1}t&&(t.reveal(),t.select()),n&&e.consume(!0)}},changeNodeAfterDeletion:function(){for(var e=this.selectedNode.traverseNextNode(!0);e&&!e.selectable;)e=e.traverseNextNode(!0);if(!e||e.isCreationNode)for(e=this.selectedNode.traversePreviousNode(!0);e&&!e.selectable;)e=e.traversePreviousNode(!0);e&&(e.reveal(),e.select())},dataGridNodeFromNode:function(e){var t=e.enclosingNodeOrSelfWithNodeName("tr");return t&&t._dataGridNode},columnIdentifierFromNode:function(e){var t=e.enclosingNodeOrSelfWithNodeName("td");return t&&t.columnIdentifier_},_clickInHeaderCell:function(e){var t=e.target.enclosingNodeOrSelfWithNodeName("th");if(t&&"undefined"!=typeof t.columnIdentifier&&t.classList.contains("sortable")){var n=WebInspector.DataGrid.Order.Ascending;t===this._sortColumnCell&&this.isSortOrderAscending()&&(n=WebInspector.DataGrid.Order.Descending),this._sortColumnCell&&this._sortColumnCell.removeMatchingStyleClasses("sort-\\w+"),this._sortColumnCell=t,t.classList.add("sort-"+n),this.dispatchEventToListeners(WebInspector.DataGrid.Events.SortingChanged)}},markColumnAsSortedBy:function(e,t){this._sortColumnCell&&this._sortColumnCell.removeMatchingStyleClasses("sort-\\w+"),this._sortColumnCell=this._headerTableHeaders[e],this._sortColumnCell.classList.add("sort-"+t)},headerTableHeader:function(e){return this._headerTableHeaders[e]},_mouseDownInDataTable:function(e){var t=this.dataGridNodeFromNode(e.target);t&&t.selectable&&(t.isEventWithinDisclosureTriangle(e)||(e.metaKey&&t.selected?t.deselect():t.select()))},_contextMenuInDataTable:function(e){var t=new WebInspector.ContextMenu(e),n=this.dataGridNodeFromNode(e.target);if(!this._refreshCallback||n&&n===this.creationNode||t.appendItem(WebInspector.UIString("Refresh"),this._refreshCallback.bind(this)),n&&n.selectable&&!n.isEventWithinDisclosureTriangle(e)){if(this._editCallback)if(n===this.creationNode)t.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Add new":"Add New"),this._startEditing.bind(this,e.target));else{var i=this.columnIdentifierFromNode(e.target);i&&this._columns[i].editable&&t.appendItem(WebInspector.UIString('Edit "%s"',this._columns[i].title),this._startEditing.bind(this,e.target))}this._deleteCallback&&n!==this.creationNode&&t.appendItem(WebInspector.UIString("Delete"),this._deleteCallback.bind(this,n)),this._contextMenuCallback&&this._contextMenuCallback(t,n)}t.show()},_clickInDataTable:function(e){var t=this.dataGridNodeFromNode(e.target);t&&t.hasChildren&&t.isEventWithinDisclosureTriangle(e)&&(t.expanded?e.altKey?t.collapseRecursively():t.collapse():e.altKey?t.expandRecursively():t.expand())},get resizeMethod(){return"undefined"==typeof this._resizeMethod?WebInspector.DataGrid.ResizeMethod.Nearest:this._resizeMethod},set resizeMethod(e){this._resizeMethod=e},_startResizerDragging:function(e){return this._currentResizer=e.target,!0},_resizerDragging:function(e){var t=this._currentResizer;if(t){for(var n=(this.element.offsetWidth,e.clientX-this.element.totalOffsetLeft()),i=this.headerTableBody.rows[0].cells,s=0,o=t.__index,r=o+1,a=0;o>a;a++)s+=i[a].offsetWidth;this.resizeMethod==WebInspector.DataGrid.ResizeMethod.Last?r=this._resizers.length:this.resizeMethod==WebInspector.DataGrid.ResizeMethod.First&&(s+=i[o].offsetWidth-i[0].offsetWidth,o=0);var l=s+i[o].offsetWidth+i[r].offsetWidth,c=s+this.ColumnResizePadding,h=l-this.ColumnResizePadding;if(!(c>h)){n=Number.constrain(n,c,h);var d=n-this.CenterResizerOverBorderAdjustment;t.__position=d,t.style.left=d+"px";var p=n-s+"px";this._headerTableColumnGroup.children[o].style.width=p,this._dataTableColumnGroup.children[o].style.width=p;var u=l-n+"px";this._headerTableColumnGroup.children[r].style.width=u,this._dataTableColumnGroup.children[r].style.width=u;var m=this._visibleColumnsArray[o],_=this._visibleColumnsArray[r];if(m.weight||_.weight){var b=m.weight+_.weight,f=l-s;m.weight=(n-s)*b/f,_.weight=(l-n)*b/f}this._positionResizers(),e.preventDefault(),this.dispatchEventToListeners(WebInspector.DataGrid.Events.ColumnsResized)}}},columnOffset:function(e){if(!this.element.offsetWidth)return 0;for(var t=1;t<this._visibleColumnsArray.length;++t)if(e===this._visibleColumnsArray[t].identifier&&this._resizers[t-1])return this._resizers[t-1].__position;return 0},_endResizerDragging:function(){this._currentResizer=null,this._saveColumnWeights(),this.dispatchEventToListeners(WebInspector.DataGrid.Events.ColumnsResized)},ColumnResizePadding:24,CenterResizerOverBorderAdjustment:3,__proto__:WebInspector.View.prototype},WebInspector.DataGrid.ResizeMethod={Nearest:"nearest",First:"first",Last:"last"},WebInspector.DataGridNode=function(e,t){this._expanded=!1,this._selected=!1,this._shouldRefreshChildren=!0,this._data=e||{},this.hasChildren=t||!1,this.children=[],this.dataGrid=null,this.parent=null,this.previousSibling=null,this.nextSibling=null,this.disclosureToggleWidth=10},WebInspector.DataGridNode.prototype={selectable:!0,_isRoot:!1,get element(){return this._element?this._element:this.dataGrid?(this._element=document.createElement("tr"),this._element._dataGridNode=this,this.hasChildren&&this._element.classList.add("parent"),this.expanded&&this._element.classList.add("expanded"),this.selected&&this._element.classList.add("selected"),this.revealed&&this._element.classList.add("revealed"),this.createCells(),this._element):null},createCells:function(){this._element.removeChildren();for(var e=this.dataGrid._visibleColumnsArray,t=0;t<e.length;++t){var n=this.createCell(e[t].identifier);this._element.appendChild(n)}this._element.createChild("td","corner")},get data(){return this._data},set data(e){this._data=e||{},this.refresh()},get revealed(){if("_revealed"in this)return this._revealed;for(var e=this.parent;e&&!e._isRoot;){if(!e.expanded)return this._revealed=!1,!1;e=e.parent}return this._revealed=!0,!0},set hasChildren(e){this._hasChildren!==e&&(this._hasChildren=e,this._element&&(this._element.classList.toggle("parent",this._hasChildren),this._element.classList.toggle("expanded",this._hasChildren&&this.expanded)))},get hasChildren(){return this._hasChildren},set revealed(e){if(this._revealed!==e){this._revealed=e,this._element&&this._element.classList.toggle("revealed",this._revealed);for(var t=0;t<this.children.length;++t)this.children[t].revealed=e&&this.expanded}},get depth(){return"_depth"in this?this._depth:(this._depth=this.parent&&!this.parent._isRoot?this.parent.depth+1:0,this._depth)},get leftPadding(){return"number"==typeof this._leftPadding?this._leftPadding:(this._leftPadding=this.depth*this.dataGrid.indentWidth,this._leftPadding)},get shouldRefreshChildren(){return this._shouldRefreshChildren},set shouldRefreshChildren(e){this._shouldRefreshChildren=e,e&&this.expanded&&this.expand()},get selected(){return this._selected},set selected(e){e?this.select():this.deselect()},get expanded(){return this._expanded},set expanded(e){e?this.expand():this.collapse()},refresh:function(){this.dataGrid||delete this._element,this._element&&this.createCells()},createTD:function(e){var t=document.createElement("td");t.className=e+"-column",t.columnIdentifier_=e;var n=this.dataGrid._columns[e].align;return n&&t.classList.add(n),t},createCell:function(e){var t=this.createTD(e),n=this.data[e];return n instanceof Node?t.appendChild(n):(t.textContent=n,this.dataGrid._columns[e].longText&&(t.title=n)),e===this.dataGrid.disclosureColumnIdentifier&&(t.classList.add("disclosure"),this.leftPadding&&t.style.setProperty("padding-left",this.leftPadding+"px")),t},nodeSelfHeight:function(){return 16},appendChild:function(e){this.insertChild(e,this.children.length)},insertChild:function(e,t){if(!e)throw"insertChild: Node can't be undefined or null.";if(e.parent===this)throw"insertChild: Node is already a child of this node.";e.parent&&e.parent.removeChild(e),this.children.splice(t,0,e),this.hasChildren=!0,e.parent=this,e.dataGrid=this.dataGrid,e._recalculateSiblings(t),delete e._depth,delete e._revealed,delete e._attached,e._shouldRefreshChildren=!0;for(var n=e.children[0];n;)n.dataGrid=this.dataGrid,delete n._depth,delete n._revealed,delete n._attached,n._shouldRefreshChildren=!0,n=n.traverseNextNode(!1,e,!0);this.expanded&&e._attach(),this.revealed||(e.revealed=!1)},removeChild:function(e){if(!e)throw"removeChild: Node can't be undefined or null.";if(e.parent!==this)throw"removeChild: Node is not a child of this node.";e.deselect(),e._detach(),this.children.remove(e,!0),e.previousSibling&&(e.previousSibling.nextSibling=e.nextSibling),e.nextSibling&&(e.nextSibling.previousSibling=e.previousSibling),e.dataGrid=null,e.parent=null,e.nextSibling=null,e.previousSibling=null,this.children.length<=0&&(this.hasChildren=!1)},removeChildren:function(){for(var e=0;e<this.children.length;++e){var t=this.children[e];t.deselect(),t._detach(),t.dataGrid=null,t.parent=null,t.nextSibling=null,t.previousSibling=null}this.children=[],this.hasChildren=!1},_recalculateSiblings:function(e){if(this.parent){var t=this.parent.children[e-1]||null;t&&(t.nextSibling=this),this.previousSibling=t;var n=this.parent.children[e+1]||null;n&&(n.previousSibling=this),this.nextSibling=n}},collapse:function(){if(!this._isRoot){this._element&&this._element.classList.remove("expanded"),this._expanded=!1;for(var e=0;e<this.children.length;++e)this.children[e].revealed=!1}},collapseRecursively:function(){for(var e=this;e;)e.expanded&&e.collapse(),e=e.traverseNextNode(!1,this,!0)},populate:function(){},expand:function(){var e;if(this.hasChildren&&!this.expanded&&!this._isRoot){if(this.revealed&&!this._shouldRefreshChildren)for(e=0;e<this.children.length;++e)this.children[e].revealed=!0;if(this._shouldRefreshChildren){for(e=0;e<this.children.length;++e)this.children[e]._detach();if(this.populate(),this._attached)for(e=0;e<this.children.length;++e){var t=this.children[e];this.revealed&&(t.revealed=!0),t._attach()}delete this._shouldRefreshChildren}this._element&&this._element.classList.add("expanded"),this._expanded=!0}},expandRecursively:function(){for(var e=this;e;)e.expand(),e=e.traverseNextNode(!1,this)},reveal:function(){if(!this._isRoot){for(var e=this.parent;e&&!e._isRoot;)e.expanded||e.expand(),e=e.parent;this.element.scrollIntoViewIfNeeded(!1)}},select:function(e){this.dataGrid&&this.selectable&&!this.selected&&(this.dataGrid.selectedNode&&this.dataGrid.selectedNode.deselect(),this._selected=!0,this.dataGrid.selectedNode=this,this._element&&this._element.classList.add("selected"),e||this.dataGrid.dispatchEventToListeners(WebInspector.DataGrid.Events.SelectedNode))},revealAndSelect:function(){this._isRoot||(this.reveal(),this.select())},deselect:function(e){this.dataGrid&&this.dataGrid.selectedNode===this&&this.selected&&(this._selected=!1,this.dataGrid.selectedNode=null,this._element&&this._element.classList.remove("selected"),e||this.dataGrid.dispatchEventToListeners(WebInspector.DataGrid.Events.DeselectedNode))},traverseNextNode:function(e,t,n,i){!n&&this.hasChildren&&this.populate(),i&&(i.depthChange=0);var s=!e||this.revealed?this.children[0]:null;if(s&&(!e||this.expanded))return i&&(i.depthChange=1),s;if(this===t)return null;if(s=!e||this.revealed?this.nextSibling:null)return s;for(s=this;s&&!s._isRoot&&!(!e||s.revealed?s.nextSibling:null)&&s.parent!==t;)i&&(i.depthChange-=1),s=s.parent;return s&&(!e||s.revealed)?s.nextSibling:null},traversePreviousNode:function(e,t){var n=!e||this.revealed?this.previousSibling:null;for(!t&&n&&n.hasChildren&&n.populate();n&&(!e||n.revealed&&n.expanded?n.children[n.children.length-1]:null);)!t&&n.hasChildren&&n.populate(),n=!e||n.revealed&&n.expanded?n.children[n.children.length-1]:null;return n?n:!this.parent||this.parent._isRoot?null:this.parent},isEventWithinDisclosureTriangle:function(e){if(!this.hasChildren)return!1;var t=e.target.enclosingNodeOrSelfWithNodeName("td");if(!t.classList.contains("disclosure"))return!1;var n=t.totalOffsetLeft()+this.leftPadding;return e.pageX>=n&&e.pageX<=n+this.disclosureToggleWidth},_attach:function(){if(this.dataGrid&&!this._attached){this._attached=!0;var e=this.traversePreviousNode(!0,!0),t=e?e.element:this.dataGrid._topFillerRow;if(this.dataGrid.dataTableBody.insertBefore(this.element,t.nextSibling),this.expanded)for(var n=0;n<this.children.length;++n)this.children[n]._attach()}},_detach:function(){if(this._attached){this._attached=!1,this._element&&this._element.remove();for(var e=0;e<this.children.length;++e)this.children[e]._detach();this.wasDetached()}},wasDetached:function(){},savePosition:function(){if(!this._savedPosition){if(!this.parent)throw"savePosition: Node must have a parent.";this._savedPosition={parent:this.parent,index:this.parent.children.indexOf(this)}}},restorePosition:function(){this._savedPosition&&(this.parent!==this._savedPosition.parent&&this._savedPosition.parent.insertChild(this,this._savedPosition.index),delete this._savedPosition)},__proto__:WebInspector.Object.prototype},WebInspector.CreationDataGridNode=function(e,t){WebInspector.DataGridNode.call(this,e,t),this.isCreationNode=!0},WebInspector.CreationDataGridNode.prototype={makeNormal:function(){delete this.isCreationNode,delete this.makeNormal},__proto__:WebInspector.DataGridNode.prototype},WebInspector.Section=function(e,t){this.element=document.createElement("div"),this.element.className="section",this.element._section=this,this.headerElement=document.createElement("div"),this.headerElement.className="header",this.titleElement=document.createElement("div"),this.titleElement.className="title",this.subtitleElement=document.createElement("div"),this.subtitleElement.className="subtitle",this.headerElement.appendChild(this.subtitleElement),this.headerElement.appendChild(this.titleElement),this.headerElement.addEventListener("click",this.handleClick.bind(this),!1),this.element.appendChild(this.headerElement),this.title=e,this.subtitle=t,this._expanded=!1},WebInspector.Section.prototype={get title(){return this._title},set title(e){this._title!==e&&(this._title=e,e instanceof Node?(this.titleElement.removeChildren(),this.titleElement.appendChild(e)):this.titleElement.textContent=e)},get subtitle(){return this._subtitle},set subtitle(e){this._subtitle!==e&&(this._subtitle=e,this.subtitleElement.textContent=e)},get subtitleAsTextForTest(){var e=this.subtitleElement.textContent,t=this.subtitleElement.querySelector("[data-uncopyable]");if(t){var n=t.getAttribute("data-uncopyable");n&&(e+=n)}return e},get expanded(){return this._expanded},set expanded(e){e?this.expand():this.collapse()},get populated(){return this._populated},set populated(e){this._populated=e,!e&&this._expanded&&(this.onpopulate(),this._populated=!0)},onpopulate:function(){},get firstSibling(){var e=this.element.parentElement;if(!e)return null;for(var t=e.firstChild;t;){if(t._section)return t._section;t=t.nextSibling}return null},get lastSibling(){var e=this.element.parentElement;if(!e)return null;for(var t=e.lastChild;t;){if(t._section)return t._section;t=t.previousSibling}return null},get nextSibling(){var e=this.element;do e=e.nextSibling;while(e&&!e._section);return e?e._section:null},get previousSibling(){var e=this.element;do e=e.previousSibling;while(e&&!e._section);return e?e._section:null},expand:function(){this._expanded||(this._expanded=!0,this.element.classList.add("expanded"),this._populated||(this.onpopulate(),this._populated=!0))},collapse:function(){this._expanded&&(this._expanded=!1,this.element.classList.remove("expanded"))},toggleExpanded:function(){this.expanded=!this.expanded},handleClick:function(e){this.toggleExpanded(),e.consume()}},WebInspector.PropertiesSection=function(e,t){WebInspector.Section.call(this,e,t),this.headerElement.classList.add("monospace"),this.propertiesElement=document.createElement("ol"),this.propertiesElement.className="properties properties-tree monospace",this.propertiesTreeOutline=new TreeOutline(this.propertiesElement,!0),this.propertiesTreeOutline.setFocusable(!1),this.propertiesTreeOutline.section=this,this.element.appendChild(this.propertiesElement)},WebInspector.PropertiesSection.prototype={__proto__:WebInspector.Section.prototype},WebInspector.RemoteObject=function(){},WebInspector.RemoteObject.prototype={get type(){throw"Not implemented"},get subtype(){throw"Not implemented"},get description(){throw"Not implemented"},get hasChildren(){throw"Not implemented"},arrayLength:function(){throw"Not implemented"},getOwnProperties:function(){throw"Not implemented"},getAllProperties:function(){throw"Not implemented"},deleteProperty:function(){throw"Not implemented"},callFunction:function(){throw"Not implemented"},callFunctionJSON:function(){throw"Not implemented"},target:function(){throw new Error("Target-less object")},isNode:function(){return!1},functionDetails:function(e){e(null)}},WebInspector.RemoteObject.fromLocalObject=function(e){return new WebInspector.LocalJSONObject(e)},WebInspector.RemoteObject.type=function(e){if(null===e)return"null";var t=typeof e;return"object"!==t&&"function"!==t?t:e.type},WebInspector.RemoteObject.toCallArgument=function(e){var t,n=typeof e,i=e,s=String(e);switch("number"===n&&0===i&&0>1/i&&(s="-0"),n){case"number":case"string":case"boolean":case"undefined":break;default:e&&(n=e.type,i=e.value,t=e.objectId,s=e.description)}if("number"===n)switch(s){case"NaN":case"Infinity":case"-Infinity":case"-0":i=s}return{value:i,objectId:t,type:n}},WebInspector.RemoteObjectImpl=function(e,t,n,i,s,o,r){WebInspector.RemoteObject.call(this),this._target=e,this._runtimeAgent=e.runtimeAgent(),this._domModel=e.domModel,this._type=n,this._subtype=i,t?(this._objectId=t,this._description=o,this._hasChildren="symbol"!==n,this._preview=r):(console.assert("object"!==n||null===s),this._description=o||s+"",this._hasChildren=!1,this.value="number"===n&&"number"!=typeof s?Number(s):s)},WebInspector.RemoteObjectImpl.prototype={get objectId(){return this._objectId},get type(){return this._type},get subtype(){return this._subtype},get description(){return this._description},get hasChildren(){return this._hasChildren},get preview(){return this._preview},getOwnProperties:function(e){this.doGetProperties(!0,!1,e)},getAllProperties:function(e,t){this.doGetProperties(!1,e,t)},getProperty:function(e,t){function n(e){for(var t=this,n=JSON.parse(e),i=0,s=n.length;s>i;++i)t=t[n[i]];return t}var i=[{value:JSON.stringify(e)}];this.callFunction(n,i,t)},doGetProperties:function(e,t,n){function i(e,t,i){if(e)return void n(null,null);var s,o,r,a=[];for(r=0;t&&r<t.length;++r){s=t[r],o=s.value?this._target.runtimeModel.createRemoteObject(s.value):null;var l=s.symbol?this._target.runtimeModel.createRemoteObject(s.symbol):null,c=new WebInspector.RemoteObjectProperty(s.name,o,!!s.enumerable,!!s.writable,!!s.isOwn,!!s.wasThrown,l);"undefined"==typeof s.value&&(s.get&&"undefined"!==s.get.type&&(c.getter=this._target.runtimeModel.createRemoteObject(s.get)),s.set&&"undefined"!==s.set.type&&(c.setter=this._target.runtimeModel.createRemoteObject(s.set))),a.push(c)}var h=null;if(i)for(h=[],r=0;r<i.length;r++)s=i[r],s.value&&(o=this._target.runtimeModel.createRemoteObject(s.value),h.push(new WebInspector.RemoteObjectProperty(s.name,o,!0,!1)));n(a,h)}return this._objectId?void this._runtimeAgent.getProperties(this._objectId,e,t,i.bind(this)):void n(null,null)},setPropertyValue:function(e,t,n){function i(t,i,s){return t||s?void n(t||i.description):(this.doSetObjectPropertyValue(i,e,n),void(i.objectId&&this._runtimeAgent.releaseObject(i.objectId)))}return this._objectId?void this._runtimeAgent.invoke_evaluate({expression:t,doNotPauseOnExceptionsAndMuteConsole:!0},i.bind(this)):void n("Can't set a property of non-object.")},doSetObjectPropertyValue:function(e,t,n){function i(e,t,i){return e||i?void n(e||t.description):void n()}var s="function(a, b) { this[a] = b; }",o=[t,WebInspector.RemoteObject.toCallArgument(e)];this._runtimeAgent.callFunctionOn(this._objectId,s,o,!0,void 0,void 0,i)},deleteProperty:function(e,t){function n(e,n,i){return e||i?void t(e||n.description):void(n.value?t():t("Failed to delete property."))}if(!this._objectId)return void t("Can't delete a property of non-object.");var i="function(a) { delete this[a]; return !(a in this); }";this._runtimeAgent.callFunctionOn(this._objectId,i,[e],!0,void 0,void 0,n)},pushNodeToFrontend:function(e){this.isNode()?this._domModel.pushNodeToFrontend(this._objectId,e):e(null)},highlightAsDOMNode:function(){this._domModel.highlightDOMNode(void 0,void 0,this._objectId)},hideDOMNodeHighlight:function(){this._domModel.hideDOMNodeHighlight()},callFunction:function(e,t,n){function i(e,t,i){n&&(e?n(null,!1):n(this.target().runtimeModel.createRemoteObject(t),i))}this._runtimeAgent.callFunctionOn(this._objectId,e.toString(),t,!0,void 0,void 0,i.bind(this))},callFunctionJSON:function(e,t,n){function i(e,t,i){n(e||i?null:t.value)}this._runtimeAgent.callFunctionOn(this._objectId,e.toString(),t,!0,!0,!1,i)},release:function(){this._objectId&&this._runtimeAgent.releaseObject(this._objectId)},arrayLength:function(){if("array"!==this.subtype)return 0;var e=this._description.match(/\[([0-9]+)\]/);return e?parseInt(e[1],10):0},target:function(){return this._target},isNode:function(){return!!this._objectId&&"object"===this.type&&"node"===this.subtype},functionDetails:function(e){e()},__proto__:WebInspector.RemoteObject.prototype},WebInspector.RemoteObject.loadFromObject=function(e,t,n){t?e.getAllProperties(!1,n):WebInspector.RemoteObject.loadFromObjectPerProto(e,n)},WebInspector.RemoteObject.loadFromObjectPerProto=function(e,t){function n(){if(!--l){if(o&&r){for(var e=r.slice(0),n=0;n<o.length;n++){var i=o[n];i.isAccessorProperty()||e.push(i)}return t(e,a?a:null)}t(null,null)}}function i(e){r=e,n()}function s(e,t){o=e,a=t,n()}var o,r,a,l=2;e.getAllProperties(!0,i),e.getOwnProperties(s)},WebInspector.ScopeRemoteObject=function(e,t,n,i,s,o,r,a){WebInspector.RemoteObjectImpl.call(this,e,t,i,s,o,r,a),this._scopeRef=n,this._savedScopeProperties=void 0,this._debuggerAgent=e.debuggerAgent()},WebInspector.ScopeRemoteObject.prototype={doGetProperties:function(e,t,n){function i(e,t){this._scopeRef&&e instanceof Array&&(this._savedScopeProperties=e.slice()),n(e,t)}return t?void n([],[]):this._savedScopeProperties?void n(this._savedScopeProperties.slice(),[]):void WebInspector.RemoteObjectImpl.prototype.doGetProperties.call(this,e,t,i.bind(this))},doSetObjectPropertyValue:function(e,t,n){function i(i){if(i)return void n(i);if(this._savedScopeProperties)for(var s=0;s<this._savedScopeProperties.length;s++)this._savedScopeProperties[s].name===t&&(this._savedScopeProperties[s].value=this._target.runtimeModel.createRemoteObject(e));n()}this._debuggerAgent.setVariableValue(this._scopeRef.number,t,WebInspector.RemoteObject.toCallArgument(e),this._scopeRef.callFrameId,this._scopeRef.functionId,i.bind(this))},__proto__:WebInspector.RemoteObjectImpl.prototype},WebInspector.ScopeRef=function(e,t,n){this.number=e,this.callFrameId=t,this.functionId=n},WebInspector.RemoteObjectProperty=function(e,t,n,i,s,o,r){this.name=e,null!==t&&(this.value=t),this.enumerable="undefined"!=typeof n?n:!0,this.writable="undefined"!=typeof i?i:!0,this.isOwn=!!s,this.wasThrown=!!o,r&&(this.symbol=r)},WebInspector.RemoteObjectProperty.prototype={isAccessorProperty:function(){return!(!this.getter&&!this.setter)}},WebInspector.LocalJSONObject=function(e){WebInspector.RemoteObject.call(this),this._value=e},WebInspector.LocalJSONObject.prototype={get description(){function e(e){return e.value.description}function t(e){return e.name+":"+e.value.description}if(this._cachedDescription)return this._cachedDescription;if("object"===this.type)switch(this.subtype){case"array":this._cachedDescription=this._concatenate("[","]",e);break;case"date":this._cachedDescription=""+this._value;break;case"null":this._cachedDescription="null";break;default:this._cachedDescription=this._concatenate("{","}",t)}else this._cachedDescription=String(this._value);return this._cachedDescription},_concatenate:function(e,t,n){for(var i=100,s=e,o=this._children(),r=0;r<o.length;++r){var a=n(o[r]);if(s.length+a.length>i){s+=",…";break}r&&(s+=", "),s+=a}return s+=t},get type(){return typeof this._value},get subtype(){return null===this._value?"null":this._value instanceof Array?"array":this._value instanceof Date?"date":void 0},get hasChildren(){return"object"!=typeof this._value||null===this._value?!1:!!Object.keys(this._value).length},getOwnProperties:function(e){e(this._children())},getAllProperties:function(e,t){e?t([],null):t(this._children(),null)},_children:function(){function e(e){return new WebInspector.RemoteObjectProperty(e,new WebInspector.LocalJSONObject(this._value[e]))}if(!this.hasChildren)return[];var t=this._value;return this._cachedChildren||(this._cachedChildren=Object.keys(t).map(e.bind(this))),this._cachedChildren},isError:function(){return!1},arrayLength:function(){return this._value instanceof Array?this._value.length:0},callFunction:function(e,t,n){var i,s=this._value,o=t?t.map(function(e){return e.value}):[],r=!1;try{i=e.apply(s,o)}catch(a){r=!0}n&&n(WebInspector.RemoteObject.fromLocalObject(i),r)},callFunctionJSON:function(e,t,n){var i,s=this._value,o=t?t.map(function(e){return e.value}):[];try{i=e.apply(s,o)}catch(r){i=null}n(i)},__proto__:WebInspector.RemoteObject.prototype},WebInspector.ObjectPropertiesSection=function(e,t,n,i,s,o,r){this.emptyPlaceholder=i||WebInspector.UIString("No Properties"),this.object=e,this.ignoreHasOwnProperty=s,this.extraProperties=o,this.treeElementConstructor=r||WebInspector.ObjectPropertyTreeElement,this.editable=!0,this.skipProto=!1,WebInspector.PropertiesSection.call(this,t||"",n)},WebInspector.ObjectPropertiesSection._arrayLoadThreshold=100,WebInspector.ObjectPropertiesSection.prototype={enableContextMenu:function(){this.element.addEventListener("contextmenu",this._contextMenuEventFired.bind(this),!1)},_contextMenuEventFired:function(e){var t=new WebInspector.ContextMenu(e);t.appendApplicableItems(this.object),t.show()},onpopulate:function(){this.update()},update:function(){function e(e,t){e&&this.updateProperties(e,t)}return this.object.arrayLength()>WebInspector.ObjectPropertiesSection._arrayLoadThreshold?(this.propertiesTreeOutline.removeChildren(),void WebInspector.ArrayGroupingTreeElement._populateArray(this.propertiesTreeOutline,this.object,0,this.object.arrayLength()-1)):void WebInspector.RemoteObject.loadFromObject(this.object,!!this.ignoreHasOwnProperty,e.bind(this))},updateProperties:function(e,t,n,i){if(n||(n=this.treeElementConstructor),i||(i=WebInspector.ObjectPropertiesSection.CompareProperties),this.extraProperties)for(var s=0;s<this.extraProperties.length;++s)e.push(this.extraProperties[s]);if(this.propertiesTreeOutline.removeChildren(),WebInspector.ObjectPropertyTreeElement.populateWithProperties(this.propertiesTreeOutline,e,t,n,i,this.skipProto,this.object),this.propertiesForTest=e,!this.propertiesTreeOutline.children.length){var o=document.createElementWithClass("div","info");o.textContent=this.emptyPlaceholder;var r=new TreeElement(o,null,!1);this.propertiesTreeOutline.appendChild(r)}},__proto__:WebInspector.PropertiesSection.prototype},WebInspector.ObjectPropertiesSection.CompareProperties=function(e,t){var n=e.name,i=t.name;return"__proto__"===n?1:"__proto__"===i?-1:e.symbol&&!t.symbol?1:t.symbol&&!e.symbol?-1:String.naturalOrderComparator(n,i)},WebInspector.ObjectPropertyTreeElement=function(e){this.property=e,TreeElement.call(this,"",null,!1),this.toggleOnClick=!0,this.selectable=!1},WebInspector.ObjectPropertyTreeElement.prototype={onpopulate:function(){var e=this.property.value;console.assert(e),WebInspector.ObjectPropertyTreeElement.populate(this,e)},ondblclick:function(e){return(this.property.writable||this.property.setter)&&this.startEditing(e),!1},onattach:function(){this.update()},update:function(){this.nameElement=document.createElementWithClass("span","name");var e=this.property.name;/^\s|\s$|^$|\n/.test(e)?this.nameElement.createTextChildren('"',e.replace(/\n/g,"↵"),'"'):this.nameElement.textContent=e,this.property.enumerable||this.nameElement.classList.add("dimmed"),this.property.isAccessorProperty()&&this.nameElement.classList.add("properties-accessor-property-name"),this.property.symbol&&this.nameElement.addEventListener("contextmenu",this._contextMenuFired.bind(this,this.property.symbol),!1);
var t=document.createElementWithClass("span","separator");if(t.textContent=": ",this.property.value){this.valueElement=document.createElementWithClass("span","value");var n,i,s,o=this.property.value.type,r=this.property.value.subtype,a=this.property.value.description;this.property.wasThrown?(n="[Exception: ",i=a,s="]"):"string"===o&&"string"==typeof a?(n='"',i=a.replace(/\n/g,"↵"),s='"',this.valueElement._originalTextContent='"'+a+'"'):"function"===o&&"string"==typeof a?(i=/.*/.exec(a)[0].replace(/\s+$/g,""),this.valueElement._originalTextContent=a):("object"!==o||"node"!==r)&&(i=a),this.valueElement.setTextContentTruncatedIfNeeded(i||""),n&&this.valueElement.insertBefore(document.createTextNode(n),this.valueElement.firstChild),s&&this.valueElement.createTextChild(s),this.property.wasThrown&&this.valueElement.classList.add("error"),(r||o)&&this.valueElement.classList.add("console-formatted-"+(r||o)),this.valueElement.addEventListener("contextmenu",this._contextMenuFired.bind(this,this.property.value),!1),"object"===o&&"node"===r&&a?(WebInspector.DOMPresentationUtils.createSpansForNodeTitle(this.valueElement,a),this.valueElement.addEventListener("mousemove",this._mouseMove.bind(this,this.property.value),!1),this.valueElement.addEventListener("mouseout",this._mouseOut.bind(this,this.property.value),!1)):this.valueElement.title=a||"",this.listItemElement.removeChildren(),this.hasChildren=this.property.value.hasChildren&&!this.property.wasThrown}else this.property.getter?this.valueElement=WebInspector.ObjectPropertyTreeElement.createRemoteObjectAccessorPropertySpan(this.property.parentObject,[this.property.name],this._onInvokeGetterClick.bind(this)):(this.valueElement=document.createElementWithClass("span","console-formatted-undefined"),this.valueElement.textContent=WebInspector.UIString("<unreadable>"),this.valueElement.title=WebInspector.UIString("No property getter"));this.listItemElement.appendChildren(this.nameElement,t,this.valueElement)},_contextMenuFired:function(e,t){var n=new WebInspector.ContextMenu(t);this.populateContextMenu(n),n.appendApplicableItems(e),n.show()},populateContextMenu:function(){},_mouseMove:function(){this.property.value.highlightAsDOMNode()},_mouseOut:function(){this.property.value.hideDOMNodeHighlight()},updateSiblings:function(){this.parent.root?this.treeOutline.section.update():this.parent.shouldRefreshChildren=!0},renderPromptAsBlock:function(){return!1},elementAndValueToEdit:function(){return{element:this.valueElement,value:"string"==typeof this.valueElement._originalTextContent?this.valueElement._originalTextContent:void 0}},startEditing:function(){function e(){this.editingCommitted(null,n.textContent,s.previousContent,s)}var t=this.elementAndValueToEdit(),n=t.element,i=t.value;if(!WebInspector.isBeingEdited(n)&&this.treeOutline.section.editable&&!this._readOnly){"undefined"!=typeof i&&n.setTextContentTruncatedIfNeeded(i,WebInspector.UIString("<string is too large to edit>"));var s={expanded:this.expanded,elementToEdit:n,previousContent:n.textContent};this.hasChildren=!1,this.listItemElement.classList.add("editing-sub-part"),this._prompt=new WebInspector.ObjectPropertyPrompt(this.renderPromptAsBlock());var o=this._prompt.attachAndStartEditing(n,e.bind(this));window.getSelection().setBaseAndExtent(n,0,n,1),o.addEventListener("keydown",this._promptKeyDown.bind(this,s),!1)}},isEditing:function(){return!!this._prompt},editingEnded:function(e){this._prompt.detach(),delete this._prompt,this.listItemElement.scrollLeft=0,this.listItemElement.classList.remove("editing-sub-part"),e.expanded&&this.expand()},editingCancelled:function(e,t){this.editingEnded(t),this.update()},editingCommitted:function(e,t,n,i){return t===n?void this.editingCancelled(e,i):(this.editingEnded(i),void this.applyExpression(t))},_promptKeyDown:function(e,t){return isEnterKey(t)?(t.consume(!0),void this.editingCommitted(null,e.elementToEdit.textContent,e.previousContent,e)):"U+001B"===t.keyIdentifier?(t.consume(),void this.editingCancelled(null,e)):void 0},applyExpression:function(e){function t(t){return t?void this.update():void(e?this.updateSiblings():this.parent.removeChild(this))}var n=WebInspector.RemoteObject.toCallArgument(this.property.symbol||this.property.name);e=e.trim(),e?this.property.parentObject.setPropertyValue(n,e,t.bind(this)):this.property.parentObject.deleteProperty(n,t.bind(this))},propertyPath:function(){if("_cachedPropertyPath"in this)return this._cachedPropertyPath;var e,t=this;do t.property&&(e=e?t.property.name+"."+e:t.property.name),t=t.parent;while(t&&!t.root);return this._cachedPropertyPath=e,e},_onInvokeGetterClick:function(e,t){e&&(this.property.value=e,this.property.wasThrown=t,this.update(),this.shouldRefreshChildren=!0)},__proto__:TreeElement.prototype},WebInspector.ObjectPropertyTreeElement.populate=function(e,t){function n(n,i){e.removeChildren(),n&&(i||(i=[]),WebInspector.ObjectPropertyTreeElement.populateWithProperties(e,n,i,e.treeOutline.section.treeElementConstructor,WebInspector.ObjectPropertiesSection.CompareProperties,e.treeOutline.section.skipProto,t))}if(!e.children.length||e.shouldRefreshChildren)return t.arrayLength()>WebInspector.ObjectPropertiesSection._arrayLoadThreshold?(e.removeChildren(),void WebInspector.ArrayGroupingTreeElement._populateArray(e,t,0,t.arrayLength()-1)):void WebInspector.RemoteObject.loadFromObjectPerProto(t,n)},WebInspector.ObjectPropertyTreeElement.populateWithProperties=function(e,t,n,i,s,o,r){var a;for(t.sort(s),a=0;a<t.length;++a){var l=t[a];if(!o||"__proto__"!==l.name)if(l.isAccessorProperty()){if("__proto__"!==l.name&&l.getter&&(l.parentObject=r,e.appendChild(new i(l))),l.isOwn){if(l.getter){var c=new WebInspector.RemoteObjectProperty("get "+l.name,l.getter);c.parentObject=r,e.appendChild(new i(c))}if(l.setter){var h=new WebInspector.RemoteObjectProperty("set "+l.name,l.setter);h.parentObject=r,e.appendChild(new i(h))}}}else l.parentObject=r,e.appendChild(new i(l))}if(r&&"function"===r.type){var d=!1;if(n)for(a=0;a<n.length;a++)if("[[TargetFunction]]"==n[a].name){d=!0;break}d||e.appendChild(new WebInspector.FunctionScopeMainTreeElement(r))}if(n)for(a=0;a<n.length;a++)n[a].parentObject=r,e.appendChild(new i(n[a]))},WebInspector.ObjectPropertyTreeElement.createRemoteObjectAccessorPropertySpan=function(e,t,n){function i(i){i.consume(),e.getProperty(t,n)}var s=document.createElement("span"),o=s.createChild("span","properties-calculate-value-button");return o.textContent=WebInspector.UIString("(...)"),o.title=WebInspector.UIString("Invoke property getter"),o.addEventListener("click",i,!1),s},WebInspector.FunctionScopeMainTreeElement=function(e){TreeElement.call(this,"<function scope>",null,!1),this.toggleOnClick=!0,this.selectable=!1,this._remoteObject=e,this.hasChildren=!0},WebInspector.FunctionScopeMainTreeElement.prototype={onpopulate:function(){function e(e){if(e){this.removeChildren();var t=e.scopeChain;if(t)for(var n=0;n<t.length;++n){var i,s=t[n],o=null;switch(s.type){case DebuggerAgent.ScopeType.Local:o=WebInspector.UIString("Local"),i=!1;break;case DebuggerAgent.ScopeType.Closure:o=WebInspector.UIString("Closure"),i=!1;break;case DebuggerAgent.ScopeType.Catch:o=WebInspector.UIString("Catch"),i=!1;break;case DebuggerAgent.ScopeType.With:o=WebInspector.UIString("With Block"),i=!0;break;case DebuggerAgent.ScopeType.Global:o=WebInspector.UIString("Global"),i=!0;break;default:console.error("Unknown scope type: "+s.type);continue}var r,a=this._remoteObject.target().runtimeModel;if(i){r=a.createRemoteObject(s.object);var l=new WebInspector.RemoteObjectProperty(o,r);l.writable=!1,l.parentObject=null,this.appendChild(new this.treeOutline.section.treeElementConstructor(l))}else{var c=new WebInspector.ScopeRef(n,void 0,this._remoteObject.objectId);r=a.createScopeRemoteObject(s.object,c);var h=new WebInspector.ScopeTreeElement(o,null,r);this.appendChild(h)}}}}(!this.children.length||this.shouldRefreshChildren)&&this._remoteObject.functionDetails(e.bind(this))},__proto__:TreeElement.prototype},WebInspector.ScopeTreeElement=function(e,t,n){TreeElement.call(this,e,null,!1),this.toggleOnClick=!0,this.selectable=!1,this._remoteObject=n,this.hasChildren=!0},WebInspector.ScopeTreeElement.prototype={onpopulate:function(){WebInspector.ObjectPropertyTreeElement.populate(this,this._remoteObject)},__proto__:TreeElement.prototype},WebInspector.ArrayGroupingTreeElement=function(e,t,n,i){TreeElement.call(this,String.sprintf("[%d … %d]",t,n),void 0,!0),this._fromIndex=t,this._toIndex=n,this._object=e,this._readOnly=!0,this._propertyCount=i,this._populated=!1},WebInspector.ArrayGroupingTreeElement._bucketThreshold=100,WebInspector.ArrayGroupingTreeElement._sparseIterationThreshold=25e4,WebInspector.ArrayGroupingTreeElement._populateArray=function(e,t,n,i){WebInspector.ArrayGroupingTreeElement._populateRanges(e,t,n,i,!0)},WebInspector.ArrayGroupingTreeElement._populateRanges=function(e,t,n,i,s){function o(e,t,n,i){function s(n){var s;if(i>t-e)for(s=e;t>=s;++s)s in this&&n(s);else for(a=a||Object.getOwnPropertyNames(this),s=0;s<a.length;++s){var o=a[s],r=o>>>0;String(r)===o&&r>=e&&t>=r&&n(r)}}function o(){++l}function r(e){-1===d&&(d=e),p=e,++l===c&&(h.push([d,p,l]),l=0,d=-1)}var a=null,l=0;s.call(this,o);var c=l;c=n>=l?l:Math.pow(n,Math.ceil(Math.log(l)/Math.log(n))-1);var h=[];l=0;var d=-1,p=0;return s.call(this,r),l>0&&h.push([d,p,l]),h}function r(n){if(1==n.length)WebInspector.ArrayGroupingTreeElement._populateAsFragment(e,t,n[0][0],n[0][1]);else for(var i=0;i<n.length;++i){var o=n[i][0],r=n[i][1],a=n[i][2];o==r?WebInspector.ArrayGroupingTreeElement._populateAsFragment(e,t,o,r):e.appendChild(new WebInspector.ArrayGroupingTreeElement(t,o,r,a))}s&&WebInspector.ArrayGroupingTreeElement._populateNonIndexProperties(e,t)}t.callFunctionJSON(o,[{value:n},{value:i},{value:WebInspector.ArrayGroupingTreeElement._bucketThreshold},{value:WebInspector.ArrayGroupingTreeElement._sparseIterationThreshold}],r)},WebInspector.ArrayGroupingTreeElement._populateAsFragment=function(e,t,n,i){function s(e,t,n){var i,s=Object.create(null);if(n>t-e)for(i=e;t>=i;++i)i in this&&(s[i]=this[i]);else{var o=Object.getOwnPropertyNames(this);for(i=0;i<o.length;++i){var r=o[i],a=r>>>0;String(a)===r&&a>=e&&t>=a&&(s[a]=this[a])}}return s}function o(e,t){e&&!t&&e.getAllProperties(!1,r.bind(this))}function r(t){if(t){t.sort(WebInspector.ObjectPropertiesSection.CompareProperties);for(var n=0;n<t.length;++n){t[n].parentObject=this._object;var i=new e.treeOutline.section.treeElementConstructor(t[n]);i._readOnly=!0,e.appendChild(i)}}}t.callFunction(s,[{value:n},{value:i},{value:WebInspector.ArrayGroupingTreeElement._sparseIterationThreshold}],o.bind(this))},WebInspector.ArrayGroupingTreeElement._populateNonIndexProperties=function(e,t){function n(){for(var e=Object.create(this.__proto__),t=Object.getOwnPropertyNames(this),n=0;n<t.length;++n){var i=t[n];if(String(i>>>0)!==i||i>>>0===4294967295){var s=Object.getOwnPropertyDescriptor(this,i);s&&Object.defineProperty(e,i,s)}}return e}function i(e,t){e&&!t&&e.getOwnProperties(s.bind(this))}function s(t){if(t){t.sort(WebInspector.ObjectPropertiesSection.CompareProperties);for(var n=0;n<t.length;++n){t[n].parentObject=this._object;var i=new e.treeOutline.section.treeElementConstructor(t[n]);i._readOnly=!0,e.appendChild(i)}}}t.callFunction(n,void 0,i.bind(this))},WebInspector.ArrayGroupingTreeElement.prototype={onpopulate:function(){return this._populated?void 0:(this._populated=!0,this._propertyCount>=WebInspector.ArrayGroupingTreeElement._bucketThreshold?void WebInspector.ArrayGroupingTreeElement._populateRanges(this,this._object,this._fromIndex,this._toIndex,!1):void WebInspector.ArrayGroupingTreeElement._populateAsFragment(this,this._object,this._fromIndex,this._toIndex))},onattach:function(){this.listItemElement.classList.add("name")},__proto__:TreeElement.prototype},WebInspector.ObjectPropertyPrompt=function(e){WebInspector.TextPrompt.call(this,WebInspector.ExecutionContextSelector.completionsForTextPromptInCurrentContext),this.setSuggestBoxEnabled(!0),e&&this.renderAsBlock()},WebInspector.ObjectPropertyPrompt.prototype={__proto__:WebInspector.TextPrompt.prototype},WebInspector.StatusBarItem=function(e){this.element=document.createElement(e),this._enabled=!0,this._visible=!0},WebInspector.StatusBarItem.prototype={setEnabled:function(e){this._enabled!==e&&(this._enabled=e,this.applyEnabledState())},applyEnabledState:function(){this.element.disabled=!this._enabled},get visible(){return this._visible},set visible(e){this._visible!==e&&(this.element.classList.toggle("hidden",!e),this._visible=e)},__proto__:WebInspector.Object.prototype},WebInspector.StatusBarText=function(e,t){WebInspector.StatusBarItem.call(this,"span"),this.element.className="status-bar-item status-bar-text",t&&this.element.classList.add(t),this.element.textContent=e},WebInspector.StatusBarText.prototype={setText:function(e){this.element.textContent=e},__proto__:WebInspector.StatusBarItem.prototype},WebInspector.StatusBarInput=function(e,t){WebInspector.StatusBarItem.call(this,"input"),this.element.className="status-bar-item",this.element.addEventListener("input",this._onChangeCallback.bind(this),!1),t&&(this.element.style.width=t+"px"),e&&this.element.setAttribute("placeholder",e),this._value=""},WebInspector.StatusBarInput.Event={TextChanged:"TextChanged"},WebInspector.StatusBarInput.prototype={setValue:function(e){this._value=e,this.element.value=e},value:function(){return this.element.value},_onChangeCallback:function(){this.dispatchEventToListeners(WebInspector.StatusBarInput.Event.TextChanged,this.element.value)},__proto__:WebInspector.StatusBarItem.prototype},WebInspector.StatusBarButton=function(e,t,n){WebInspector.StatusBarItem.call(this,"button"),this.element.className=t+" status-bar-item",this.element.addEventListener("click",this._clicked.bind(this),!1),this.glyph=this.element.createChild("div","glyph"),this.glyphShadow=this.element.createChild("div","glyph shadow"),this.states=n,n||(this.states=2),this._state=2==n?!1:0,this.title=e,this.className=t},WebInspector.StatusBarButton.prototype={_clicked:function(){this.dispatchEventToListeners("click"),this._longClickInterval&&(clearInterval(this._longClickInterval),delete this._longClickInterval)},applyEnabledState:function(){this.element.disabled=!this._enabled,this._longClickInterval&&(clearInterval(this._longClickInterval),delete this._longClickInterval)},enabled:function(){return this._enabled},get title(){return this._title},set title(e){this._title!==e&&(this._title=e,this.element.title=e)},get state(){return this._state},set state(e){this._state!==e&&(2===this.states?this.element.classList.toggle("toggled-on",e):(this.element.classList.remove("toggled-"+this._state),0!==e&&this.element.classList.add("toggled-"+e)),this._state=e)},get toggled(){if(2!==this.states)throw"Only used toggled when there are 2 states, otherwise, use state";return this.state},set toggled(e){if(2!==this.states)throw"Only used toggled when there are 2 states, otherwise, use state";this.state=e},makeLongClickEnabled:function(){function e(e){1===e.which&&(o=0,this._longClickInterval=setInterval(n.bind(this),200))}function t(e){1===e.which&&this._longClickInterval&&(clearInterval(this._longClickInterval),delete this._longClickInterval)}function n(){++o,this.dispatchEventToListeners(1===o?"longClickDown":"longClickPress")}var i=e.bind(this),s=t.bind(this);this.element.addEventListener("mousedown",i,!1),this.element.addEventListener("mouseout",s,!1),this.element.addEventListener("mouseup",s,!1);var o=0;this._longClickData={mouseUp:s,mouseDown:i}},unmakeLongClickEnabled:function(){this._longClickData&&(this.element.removeEventListener("mousedown",this._longClickData.mouseDown,!1),this.element.removeEventListener("mouseout",this._longClickData.mouseUp,!1),this.element.removeEventListener("mouseup",this._longClickData.mouseUp,!1),delete this._longClickData)},setLongClickOptionsEnabled:function(e){if(e){if(!this._longClickOptionsData){this.makeLongClickEnabled(),this.longClickGlyph=this.element.createChild("div","fill long-click-glyph"),this.longClickGlyphShadow=this.element.createChild("div","fill long-click-glyph shadow");var t=this._showOptions.bind(this);this.addEventListener("longClickDown",t,this),this._longClickOptionsData={glyphElement:this.longClickGlyph,glyphShadowElement:this.longClickGlyphShadow,longClickDownListener:t}}this._longClickOptionsData.buttonsProvider=e}else{if(!this._longClickOptionsData)return;this.element.removeChild(this._longClickOptionsData.glyphElement),this.element.removeChild(this._longClickOptionsData.glyphShadowElement),this.removeEventListener("longClickDown",this._longClickOptionsData.longClickDownListener,this),delete this._longClickOptionsData,this.unmakeLongClickEnabled()}},_showOptions:function(){function e(e){if(1===e.which){var t=e.target.enclosingNodeOrSelfWithClass("status-bar-item");t.classList.add("emulate-active")}}function t(e){if(1===e.which){var t=e.target.enclosingNodeOrSelfWithClass("status-bar-item");t.classList.remove("emulate-active")}}function n(e){if(1===e.which){o.dispose(),document.documentElement.removeEventListener("mouseup",n,!1);for(var t=0;t<i.length;++t)if(i[t].element.classList.contains("emulate-active")){i[t].element.classList.remove("emulate-active"),i[t]._clicked();break}}}var i=this._longClickOptionsData.buttonsProvider(),s=new WebInspector.StatusBarButton(this.title,this.className,this.states);s.addEventListener("click",this._clicked,this),s.state=this.state,i.push(s),document.documentElement.addEventListener("mouseup",n,!1);var o=new WebInspector.GlassPane,r=o.element.createChild("div","alternate-status-bar-buttons-bar"),a=23,l=this.element.totalOffset(),c=l.top+a*i.length<document.documentElement.offsetHeight;c&&(i=i.reverse()),r.style.height=a*i.length+"px",r.style.top=c?l.top+1+"px":l.top-a*(i.length-1)+"px",r.style.left=l.left+1+"px";for(var h=0;h<i.length;++h)i[h].element.addEventListener("mousemove",e,!1),i[h].element.addEventListener("mouseout",t,!1),r.appendChild(i[h].element);var d=c?0:i.length-1;i[d].element.classList.add("emulate-active")},__proto__:WebInspector.StatusBarItem.prototype},WebInspector.StatusBarButton.Provider=function(){},WebInspector.StatusBarButton.Provider.prototype={button:function(){}},WebInspector.StatusBarTextButton=function(e,t){WebInspector.StatusBarItem.call(this,"button"),this.element.className=t,this.element.addEventListener("click",this._clicked.bind(this),!1),this.element.textContent=e,this.className=t},WebInspector.StatusBarTextButton.prototype={_clicked:function(){this.dispatchEventToListeners("click")},__proto__:WebInspector.StatusBarItem.prototype},WebInspector.StatusBarComboBox=function(e,t){WebInspector.StatusBarItem.call(this,"span"),this.element.className="status-bar-select-container",this._selectElement=this.element.createChild("select","status-bar-item"),this.element.createChild("div","status-bar-select-arrow"),e&&this._selectElement.addEventListener("change",e,!1),t&&this._selectElement.classList.add(t)},WebInspector.StatusBarComboBox.prototype={selectElement:function(){return this._selectElement},size:function(){return this._selectElement.childElementCount},addOption:function(e){this._selectElement.appendChild(e)},createOption:function(e,t,n){var i=this._selectElement.createChild("option");return i.text=e,t&&(i.title=t),"undefined"!=typeof n&&(i.value=n),i},applyEnabledState:function(){this._selectElement.disabled=!this._enabled},removeOption:function(e){this._selectElement.removeChild(e)},removeOptions:function(){this._selectElement.removeChildren()},selectedOption:function(){return this._selectElement.selectedIndex>=0?this._selectElement[this._selectElement.selectedIndex]:null},select:function(e){this._selectElement.selectedIndex=Array.prototype.indexOf.call(this._selectElement,e)},setSelectedIndex:function(e){this._selectElement.selectedIndex=e},selectedIndex:function(){return this._selectElement.selectedIndex},__proto__:WebInspector.StatusBarItem.prototype},WebInspector.StatusBarCheckbox=function(e){WebInspector.StatusBarItem.call(this,"label"),this.element.classList.add("status-bar-item","checkbox"),this.inputElement=this.element.createChild("input"),this.inputElement.type="checkbox",this.element.createTextChild(e)},WebInspector.StatusBarCheckbox.prototype={checked:function(){return this.inputElement.checked},__proto__:WebInspector.StatusBarItem.prototype},WebInspector.StatusBarStatesSettingButton=function(e,t,n,i,s,o,r){WebInspector.StatusBarButton.call(this,"",e,t.length);var a=this._onClick.bind(this);this.addEventListener("click",a,this),this._states=t,this._buttons=[];for(var l=0;l<t.length;l++){var c=new WebInspector.StatusBarButton(n[l],e,t.length);c.state=this._states[l],c.addEventListener("click",a,this),this._buttons.push(c)}this._currentStateSetting=s,this._lastStateSetting=o,this._stateChangedCallback=r,this.setLongClickOptionsEnabled(this._createOptions.bind(this)),this._currentState=null,this.toggleState(i)},WebInspector.StatusBarStatesSettingButton.prototype={_onClick:function(e){this.toggleState(e.target.state)},toggleState:function(e){if(this._currentState!==e){this._currentState&&this._lastStateSetting.set(this._currentState),this._currentState=e,this._currentStateSetting.set(this._currentState),this._stateChangedCallback&&this._stateChangedCallback(e);var t=this._defaultState();this.state=t,this.title=this._buttons[this._states.indexOf(t)].title}},_defaultState:function(){var e=this._lastStateSetting.get();return e&&this._states.indexOf(e)>=0&&e!=this._currentState?e:this._states.length>1&&this._currentState===this._states[0]?this._states[1]:this._states[0]},_createOptions:function(){for(var e=[],t=0;t<this._states.length;t++)this._states[t]!==this.state&&this._states[t]!==this._currentState&&e.push(this._buttons[t]);return e},__proto__:WebInspector.StatusBarButton.prototype},WebInspector.DropDownMenu=function(){this.element=document.createElementWithClass("select","drop-down-menu"),this.element.addEventListener("mousedown",this._onBeforeMouseDown.bind(this),!0),this.element.addEventListener("mousedown",consumeEvent,!1),this.element.addEventListener("change",this._onChange.bind(this),!1)},WebInspector.DropDownMenu.Events={BeforeShow:"BeforeShow",ItemSelected:"ItemSelected"},WebInspector.DropDownMenu.prototype={_onBeforeMouseDown:function(){this.dispatchEventToListeners(WebInspector.DropDownMenu.Events.BeforeShow,null)},_onChange:function(){var e=this.element.options,t=e[this.element.selectedIndex];this.dispatchEventToListeners(WebInspector.DropDownMenu.Events.ItemSelected,t.id)},addItem:function(e,t){var n=new Option(t);n.id=e,this.element.appendChild(n)},selectItem:function(e){for(var t=this.element.children,n=0;n<t.length;++n){var i=t[n];if(i.id===e)return void(this.element.selectedIndex=n)}this.element.selectedIndex=-1},clear:function(){this.element.removeChildren()},__proto__:WebInspector.Object.prototype},WebInspector.SplitView=function(e,t,n,i,s,o){WebInspector.View.call(this),this.element.classList.add("split-view"),this._mainView=new WebInspector.VBox,this._mainElement=this._mainView.element,this._mainElement.className="split-view-contents split-view-main vbox",this._sidebarView=new WebInspector.VBox,this._sidebarElement=this._sidebarView.element,this._sidebarElement.className="split-view-contents split-view-sidebar vbox",this._resizerElement=this.element.createChild("div","split-view-resizer"),this._resizerElement.createChild("div","split-view-resizer-border"),t?(this._mainView.show(this.element),this._sidebarView.show(this.element)):(this._sidebarView.show(this.element),this._mainView.show(this.element)),this._resizerWidget=new WebInspector.ResizerWidget,this._resizerWidget.setEnabled(!0),this._resizerWidget.addEventListener(WebInspector.ResizerWidget.Events.ResizeStart,this._onResizeStart,this),this._resizerWidget.addEventListener(WebInspector.ResizerWidget.Events.ResizeUpdate,this._onResizeUpdate,this),this._resizerWidget.addEventListener(WebInspector.ResizerWidget.Events.ResizeEnd,this._onResizeEnd,this),this._defaultSidebarWidth=i||200,this._defaultSidebarHeight=s||this._defaultSidebarWidth,this._constraintsInDip=!!o,this._settingName=n,this.setSecondIsSidebar(t),this._innerSetVertical(e),this._showMode=WebInspector.SplitView.ShowMode.OnlyMain,this.installResizer(this._resizerElement)},WebInspector.SplitView.SettingForOrientation=WebInspector.SplitView.SettingForOrientation,WebInspector.SplitView.ShowMode={Both:"Both",OnlyMain:"OnlyMain",OnlySidebar:"OnlySidebar"},WebInspector.SplitView.Events={SidebarSizeChanged:"SidebarSizeChanged",ShowModeChanged:"ShowModeChanged"},WebInspector.SplitView.MinPadding=20,WebInspector.SplitView.prototype={isVertical:function(){return this._isVertical},setVertical:function(e){this._isVertical!==e&&(this._innerSetVertical(e),this.isShowing()&&this._updateLayout())},_innerSetVertical:function(e){this.element.classList.remove(this._isVertical?"hbox":"vbox"),this._isVertical=e,this.element.classList.add(this._isVertical?"hbox":"vbox"),delete this._resizerElementSize,this._sidebarSize=-1,this._restoreSidebarSizeFromSettings(),this._shouldSaveShowMode&&this._restoreAndApplyShowModeFromSettings(),this._updateShowHideSidebarButton(),this._resizerWidget.setVertical(!e),this.invalidateConstraints()},_updateLayout:function(e){delete this._totalSize,delete this._totalSizeOtherDimension,this._mainElement.style.removeProperty("width"),this._mainElement.style.removeProperty("height"),this._sidebarElement.style.removeProperty("width"),this._sidebarElement.style.removeProperty("height"),this._innerSetSidebarSize(this._preferredSidebarSize(),!!e)},mainElement:function(){return this._mainElement},sidebarElement:function(){return this._sidebarElement},isSidebarSecond:function(){return this._secondIsSidebar},enableShowModeSaving:function(){this._shouldSaveShowMode=!0,this._restoreAndApplyShowModeFromSettings()},showMode:function(){return this._showMode},setSecondIsSidebar:function(e){this._mainElement.classList.toggle("split-view-contents-first",e),this._mainElement.classList.toggle("split-view-contents-second",!e),this._sidebarElement.classList.toggle("split-view-contents-first",!e),this._sidebarElement.classList.toggle("split-view-contents-second",e),e?this._sidebarElement.parentElement&&this._sidebarElement.nextSibling&&this.element.appendChild(this._sidebarElement):this._mainElement.parentElement&&this._mainElement.nextSibling&&this.element.appendChild(this._mainElement),this._secondIsSidebar=e},sidebarSide:function(){return this._showMode!==WebInspector.SplitView.ShowMode.Both?null:this._isVertical?this._secondIsSidebar?"right":"left":this._secondIsSidebar?"bottom":"top"},preferredSidebarSize:function(){return this._preferredSidebarSize()},resizerElement:function(){return this._resizerElement},hideMain:function(e){this._showOnly(this._sidebarView,this._mainView,e),this._updateShowMode(WebInspector.SplitView.ShowMode.OnlySidebar)},hideSidebar:function(e){this._showOnly(this._mainView,this._sidebarView,e),this._updateShowMode(WebInspector.SplitView.ShowMode.OnlyMain)},detachChildViews:function(){this._mainView.detachChildViews(),this._sidebarView.detachChildViews()},_showOnly:function(e,t,n){function i(){e.show(this.element),t.detach(),e.element.classList.add("maximized"),t.element.classList.remove("maximized"),this._resizerElement.classList.add("hidden"),this._removeAllLayoutProperties()}this._cancelAnimation(),n?this._animate(!0,i.bind(this)):(i.call(this),this.doResize()),this._sidebarSize=-1,this.setResizable(!1)},_removeAllLayoutProperties:function(){this._sidebarElement.style.removeProperty("flexBasis"),this._mainElement.style.removeProperty("width"),this._mainElement.style.removeProperty("height"),this._sidebarElement.style.removeProperty("width"),this._sidebarElement.style.removeProperty("height"),this._resizerElement.style.removeProperty("left"),this._resizerElement.style.removeProperty("right"),this._resizerElement.style.removeProperty("top"),this._resizerElement.style.removeProperty("bottom"),this._resizerElement.style.removeProperty("margin-left"),this._resizerElement.style.removeProperty("margin-right"),this._resizerElement.style.removeProperty("margin-top"),this._resizerElement.style.removeProperty("margin-bottom")},showBoth:function(e){this._showMode===WebInspector.SplitView.ShowMode.Both&&(e=!1),this._cancelAnimation(),this._mainElement.classList.remove("maximized"),this._sidebarElement.classList.remove("maximized"),this._resizerElement.classList.remove("hidden"),this._mainView.show(this.element),this._sidebarView.show(this.element),this.setSecondIsSidebar(this._secondIsSidebar),this._sidebarSize=-1,this.setResizable(!0),this._updateShowMode(WebInspector.SplitView.ShowMode.Both),this._updateLayout(e)},setResizable:function(e){this._resizerWidget.setEnabled(e)},isResizable:function(){return this._resizerWidget.isEnabled()},setSidebarSize:function(e){e*=WebInspector.zoomManager.zoomFactor(),this._savedSidebarSize=e,this._saveSetting(),this._innerSetSidebarSize(e,!1,!0)},sidebarSize:function(){var e=Math.max(0,this._sidebarSize);return e/WebInspector.zoomManager.zoomFactor()},_totalSizeDIP:function(){return this._totalSize||(this._totalSize=this._isVertical?this.element.offsetWidth:this.element.offsetHeight,this._totalSizeOtherDimension=this._isVertical?this.element.offsetHeight:this.element.offsetWidth),this._totalSize*WebInspector.zoomManager.zoomFactor()},_updateShowMode:function(e){this._showMode=e,this._saveShowModeToSettings(),this._updateShowHideSidebarButton(),this.dispatchEventToListeners(WebInspector.SplitView.Events.ShowModeChanged,e),this.invalidateConstraints()},_innerSetSidebarSize:function(e,t,n){if(this._showMode===WebInspector.SplitView.ShowMode.Both&&this.isShowing()&&(e=this._applyConstraints(e,n),this._sidebarSize!==e)){this._resizerElementSize||(this._resizerElementSize=this._isVertical?this._resizerElement.offsetWidth:this._resizerElement.offsetHeight),this._removeAllLayoutProperties();var i=e/WebInspector.zoomManager.zoomFactor()+"px",s=this._totalSize-e/WebInspector.zoomManager.zoomFactor()+"px";this.sidebarElement().style.flexBasis=i,this._isVertical?(this._sidebarElement.style.width=i,this._mainElement.style.width=s,this._sidebarElement.style.height=this._totalSizeOtherDimension+"px",this._mainElement.style.height=this._totalSizeOtherDimension+"px"):(this._sidebarElement.style.height=i,this._mainElement.style.height=s,this._sidebarElement.style.width=this._totalSizeOtherDimension+"px",this._mainElement.style.width=this._totalSizeOtherDimension+"px"),this._isVertical?this._secondIsSidebar?(this._resizerElement.style.right=i,this._resizerElement.style.marginRight=-this._resizerElementSize/2+"px"):(this._resizerElement.style.left=i,this._resizerElement.style.marginLeft=-this._resizerElementSize/2+"px"):this._secondIsSidebar?(this._resizerElement.style.bottom=i,this._resizerElement.style.marginBottom=-this._resizerElementSize/2+"px"):(this._resizerElement.style.top=i,this._resizerElement.style.marginTop=-this._resizerElementSize/2+"px"),this._sidebarSize=e,t?this._animate(!1):(this.doResize(),this.dispatchEventToListeners(WebInspector.SplitView.Events.SidebarSizeChanged,this.sidebarSize()))}},_animate:function(e,t){function n(){if(delete this._animationFrameHandle,c){if(!(window.performance.now()<c+i))return this._cancelAnimation(),this._mainView.doResize(),void this.dispatchEventToListeners(WebInspector.SplitView.Events.SidebarSizeChanged,this.sidebarSize());this._mainView.doResize()}else this.element.style.setProperty(s,a),c=window.performance.now();this._animationFrameHandle=window.requestAnimationFrame(l)}var i=50;this._animationCallback=t;var s;s=this._isVertical?this._secondIsSidebar?"margin-right":"margin-left":this._secondIsSidebar?"margin-bottom":"margin-top";var o=WebInspector.zoomManager.zoomFactor(),r=e?"0":"-"+this._sidebarSize/o+"px",a=e?"-"+this._sidebarSize/o+"px":"0";this.element.style.setProperty(s,r),e||(suppressUnused(this._mainElement.offsetWidth),suppressUnused(this._sidebarElement.offsetWidth)),e||this._sidebarView.doResize(),this.element.style.setProperty("transition",s+" "+i+"ms linear");
var l,c;l=n.bind(this),this._animationFrameHandle=window.requestAnimationFrame(l)},_cancelAnimation:function(){this.element.style.removeProperty("margin-top"),this.element.style.removeProperty("margin-right"),this.element.style.removeProperty("margin-bottom"),this.element.style.removeProperty("margin-left"),this.element.style.removeProperty("transition"),this._animationFrameHandle&&(window.cancelAnimationFrame(this._animationFrameHandle),delete this._animationFrameHandle),this._animationCallback&&(this._animationCallback(),delete this._animationCallback)},_applyConstraints:function(e,t){var n=this._totalSizeDIP(),i=this._constraintsInDip?1:WebInspector.zoomManager.zoomFactor(),s=this._sidebarView.constraints(),o=this.isVertical()?s.minimum.width:s.minimum.height;o||(o=WebInspector.SplitView.MinPadding),o*=i;var r=this.isVertical()?s.preferred.width:s.preferred.height;r||(r=WebInspector.SplitView.MinPadding),r*=i,r>e&&(r=Math.max(e,o)),s=this._mainView.constraints();var a=this.isVertical()?s.minimum.width:s.minimum.height;a||(a=WebInspector.SplitView.MinPadding),a*=i;var l=this.isVertical()?s.preferred.width:s.preferred.height;l||(l=WebInspector.SplitView.MinPadding),l*=i;var c=this.isVertical()?this._savedVerticalMainSize:this._savedHorizontalMainSize;"undefined"!=typeof c&&(l=Math.min(l,c*i)),t&&(l=a);var h=l+r;if(n>=h)return Number.constrain(e,r,n-l);if(n>=a+o){var d=h-n,p=d*r/h;return e=r-p,Number.constrain(e,o,n-a)}return Math.max(0,n-a)},wasShown:function(){this._forceUpdateLayout(),WebInspector.zoomManager.addEventListener(WebInspector.ZoomManager.Events.ZoomChanged,this._onZoomChanged,this)},willHide:function(){WebInspector.zoomManager.removeEventListener(WebInspector.ZoomManager.Events.ZoomChanged,this._onZoomChanged,this)},onResize:function(){this._updateLayout()},onLayout:function(){this._updateLayout()},calculateConstraints:function(){if(this._showMode===WebInspector.SplitView.ShowMode.OnlyMain)return this._mainView.constraints();if(this._showMode===WebInspector.SplitView.ShowMode.OnlySidebar)return this._sidebarView.constraints();var e=this._mainView.constraints(),t=this._sidebarView.constraints(),n=WebInspector.SplitView.MinPadding;return this._isVertical?(e=e.widthToMax(n),t=t.widthToMax(n),e.addWidth(t).heightToMax(t)):(e=e.heightToMax(n),t=t.heightToMax(n),e.widthToMax(t).addHeight(t))},_onResizeStart:function(){this._resizeStartSize=this._sidebarSize},_onResizeUpdate:function(e){var t=e.data.currentPosition-e.data.startPosition,n=t*WebInspector.zoomManager.zoomFactor(),i=this._secondIsSidebar?this._resizeStartSize-n:this._resizeStartSize+n,s=this._applyConstraints(i,!0);this._savedSidebarSize=s,this._saveSetting(),this._innerSetSidebarSize(s,!1,!0),this.isVertical()?this._savedVerticalMainSize=this._totalSizeDIP()-this._sidebarSize:this._savedHorizontalMainSize=this._totalSizeDIP()-this._sidebarSize},_onResizeEnd:function(){delete this._resizeStartSize},hideDefaultResizer:function(){this.uninstallResizer(this._resizerElement)},installResizer:function(e){this._resizerWidget.addElement(e)},uninstallResizer:function(e){this._resizerWidget.removeElement(e)},hasCustomResizer:function(){var e=this._resizerWidget.elements();return e.length>1||1==e.length&&e[0]!==this._resizerElement},toggleResizer:function(e,t){t?this.installResizer(e):this.uninstallResizer(e)},_setting:function(){return this._settingName?(WebInspector.settings[this._settingName]||(WebInspector.settings[this._settingName]=WebInspector.settings.createSetting(this._settingName,{})),WebInspector.settings[this._settingName]):null},_settingForOrientation:function(){var e=this._setting()?this._setting().get():{};return this._isVertical?e.vertical:e.horizontal},_preferredSidebarSize:function(){var e=this._savedSidebarSize;return e||(e=this._isVertical?this._defaultSidebarWidth:this._defaultSidebarHeight,e>0&&1>e&&(e*=this._totalSizeDIP())),e},_restoreSidebarSizeFromSettings:function(){var e=this._settingForOrientation();this._savedSidebarSize=e?e.size:0},_restoreAndApplyShowModeFromSettings:function(){var e=this._settingForOrientation();switch(this._savedShowMode=e?e.showMode:WebInspector.SplitView.ShowMode.Both,this._showMode=this._savedShowMode,this._savedShowMode){case WebInspector.SplitView.ShowMode.Both:this.showBoth();break;case WebInspector.SplitView.ShowMode.OnlyMain:this.hideSidebar();break;case WebInspector.SplitView.ShowMode.OnlySidebar:this.hideMain()}},_saveShowModeToSettings:function(){this._savedShowMode=this._showMode,this._saveSetting()},_saveSetting:function(){var e=this._setting();if(e){var t=e.get(),n=(this._isVertical?t.vertical:t.horizontal)||{};n.size=this._savedSidebarSize,this._shouldSaveShowMode&&(n.showMode=this._savedShowMode),this._isVertical?t.vertical=n:t.horizontal=n,e.set(t)}},_forceUpdateLayout:function(){this._sidebarSize=-1,this._updateLayout()},_onZoomChanged:function(){this._forceUpdateLayout()},createShowHideSidebarButton:function(e,t){function n(){this._showMode!==WebInspector.SplitView.ShowMode.Both?this.showBoth(!0):this.hideSidebar(!0)}return console.assert(this.isVertical(),"Buttons for split view with horizontal split are not supported yet."),this._showHideSidebarButtonTitle=WebInspector.UIString(e),this._showHideSidebarButton=new WebInspector.StatusBarButton("","sidebar-show-hide-button "+t,3),this._showHideSidebarButton.addEventListener("click",n.bind(this)),this._updateShowHideSidebarButton(),this._showHideSidebarButton},_updateShowHideSidebarButton:function(){if(this._showHideSidebarButton){var e=this._showMode===WebInspector.SplitView.ShowMode.OnlyMain;this._showHideSidebarButton.state=e?"show":"hide",this._showHideSidebarButton.element.classList.toggle("top-sidebar-show-hide-button",!this.isVertical()&&!this.isSidebarSecond()),this._showHideSidebarButton.element.classList.toggle("right-sidebar-show-hide-button",this.isVertical()&&this.isSidebarSecond()),this._showHideSidebarButton.element.classList.toggle("bottom-sidebar-show-hide-button",!this.isVertical()&&this.isSidebarSecond()),this._showHideSidebarButton.element.classList.toggle("left-sidebar-show-hide-button",this.isVertical()&&!this.isSidebarSecond()),this._showHideSidebarButton.title=e?WebInspector.UIString("Show %s",this._showHideSidebarButtonTitle):WebInspector.UIString("Hide %s",this._showHideSidebarButtonTitle)}},__proto__:WebInspector.View.prototype},WebInspector.LinkifierFormatter=function(){},WebInspector.LinkifierFormatter.prototype={formatLiveAnchor:function(){}},WebInspector.Linkifier=function(e){this._formatter=e||new WebInspector.Linkifier.DefaultFormatter(WebInspector.Linkifier.MaxLengthForDisplayedURLs),this._liveLocationsByTarget=new Map,WebInspector.targetManager.observeTargets(this)},WebInspector.Linkifier.setLinkHandler=function(e){WebInspector.Linkifier._linkHandler=e},WebInspector.Linkifier.handleLink=function(e,t){return WebInspector.Linkifier._linkHandler?WebInspector.Linkifier._linkHandler.handleLink(e,t):!1},WebInspector.Linkifier.linkifyUsingRevealer=function(e,t,n,i,s,o){function r(e){e.stopImmediatePropagation(),e.preventDefault(),n&&WebInspector.Linkifier.handleLink(n,i)||WebInspector.Revealer.reveal(this)}var a=document.createElement("a");return a.className=(o||"")+" webkit-html-resource-link",a.textContent=t.trimMiddle(WebInspector.Linkifier.MaxLengthForDisplayedURLs),a.title=s||t,n&&(a.href=n,a.lineNumber=i),a.addEventListener("click",r.bind(e),!1),a},WebInspector.Linkifier.prototype={targetAdded:function(e){this._liveLocationsByTarget.put(e,[])},targetRemoved:function(e){for(var t=this._liveLocationsByTarget.remove(e),n=0;n<t.length;++n){delete t[n].anchor.__uiLocation;var i=t[n].anchor;i.__fallbackAnchor&&(i.href=i.__fallbackAnchor.href,i.lineNumber=i.__fallbackAnchor.lineNumber,i.title=i.__fallbackAnchor.title,i.className=i.__fallbackAnchor.className,i.textContent=i.__fallbackAnchor.textContent),t[n].location.dispose()}},linkifyLocationByScriptId:function(e,t,n,i,s,o){var r=e?e.debuggerModel.createRawLocationByScriptId(t,n,i,s||0):null,a=WebInspector.linkifyResourceAsNode(n,i,o);if(!r)return a;var l=this.linkifyRawLocation(r,o);return l.__fallbackAnchor=a,l},linkifyLocation:function(e,t,n,i,s){var o=e.debuggerModel.createRawLocationByURL(t,n,i||0);return o?this.linkifyRawLocation(o,s):WebInspector.linkifyResourceAsNode(t,n,s)},linkifyRawLocation:function(e,t){var n=e.target().debuggerModel.scriptForId(e.scriptId);if(!n)return null;var i=this._createAnchor(t),s=e.createLiveLocation(this._updateAnchor.bind(this,i));return this._liveLocationsByTarget.get(e.target()).push({anchor:i,location:s}),i},linkifyCSSLocation:function(e,t,n){var i=this._createAnchor(n),s=t.createLiveLocation(e,this._updateAnchor.bind(this,i));return s?(this._liveLocationsByTarget.get(t.target()).push({anchor:i,location:s}),i):null},_createAnchor:function(e){function t(e){n.__uiLocation&&(e.stopImmediatePropagation(),e.preventDefault(),WebInspector.Linkifier.handleLink(n.__uiLocation.uiSourceCode.url,n.__uiLocation.lineNumber)||WebInspector.Revealer.reveal(n.__uiLocation))}var n=document.createElement("a");return n.className=(e||"")+" webkit-html-resource-link",n.addEventListener("click",t,!1),n},reset:function(){for(var e=this._liveLocationsByTarget.keys(),t=0;t<e.length;++t){var n=e[t];this.targetRemoved(n),this.targetAdded(n)}},_updateAnchor:function(e,t){e.__uiLocation=t,this._formatter.formatLiveAnchor(e,t)}},WebInspector.Linkifier.DefaultFormatter=function(e){this._maxLength=e},WebInspector.Linkifier.DefaultFormatter.prototype={formatLiveAnchor:function(e,t){var n=t.linkText();this._maxLength&&(n=n.trimMiddle(this._maxLength)),e.textContent=n;var i=t.uiSourceCode.originURL();"number"==typeof t.lineNumber&&(i+=":"+(t.lineNumber+1)),e.title=i}},WebInspector.Linkifier.DefaultCSSFormatter=function(){WebInspector.Linkifier.DefaultFormatter.call(this,WebInspector.Linkifier.DefaultCSSFormatter.MaxLengthForDisplayedURLs)},WebInspector.Linkifier.DefaultCSSFormatter.MaxLengthForDisplayedURLs=30,WebInspector.Linkifier.DefaultCSSFormatter.prototype={formatLiveAnchor:function(e,t){WebInspector.Linkifier.DefaultFormatter.prototype.formatLiveAnchor.call(this,e,t),e.classList.add("webkit-html-resource-link"),e.setAttribute("data-uncopyable",e.textContent),e.textContent=""},__proto__:WebInspector.Linkifier.DefaultFormatter.prototype},WebInspector.Linkifier.MaxLengthForDisplayedURLs=150,WebInspector.Linkifier.LinkHandler=function(){},WebInspector.Linkifier.LinkHandler.prototype={handleLink:function(){}},WebInspector.Linkifier.liveLocationText=function(e,t,n,i){var s=e.debuggerModel.scriptForId(t);if(!s)return"";var o=s.rawLocationToUILocation(n,i);return o.linkText()},WebInspector.Dialog=function(e,t){this._delegate=t,this._relativeToElement=e,this._glassPane=new WebInspector.GlassPane,WebInspector.GlassPane.DefaultFocusedViewStack.push(this),this._glassPane.element.tabIndex=0,this._glassPane.element.addEventListener("focus",this._onGlassPaneFocus.bind(this),!1),this._element=this._glassPane.element.createChild("div"),this._element.tabIndex=0,this._element.addEventListener("focus",this._onFocus.bind(this),!1),this._element.addEventListener("keydown",this._onKeyDown.bind(this),!1),this._closeKeys=[WebInspector.KeyboardShortcut.Keys.Enter.code,WebInspector.KeyboardShortcut.Keys.Esc.code],t.show(this._element),this._position(),this._delegate.focus()},WebInspector.Dialog.currentInstance=function(){return WebInspector.Dialog._instance},WebInspector.Dialog.show=function(e,t){WebInspector.Dialog._instance||(WebInspector.Dialog._instance=new WebInspector.Dialog(e,t))},WebInspector.Dialog.hide=function(){WebInspector.Dialog._instance&&WebInspector.Dialog._instance._hide()},WebInspector.Dialog.prototype={focus:function(){this._element.focus()},_hide:function(){this._isHiding||(this._isHiding=!0,this._delegate.willHide(),delete WebInspector.Dialog._instance,WebInspector.GlassPane.DefaultFocusedViewStack.pop(),this._glassPane.dispose())},_onGlassPaneFocus:function(){this._hide()},_onFocus:function(){this._delegate.focus()},_position:function(){this._delegate.position(this._element,this._relativeToElement)},_onKeyDown:function(e){return e.keyCode===WebInspector.KeyboardShortcut.Keys.Tab.code?void e.preventDefault():(e.keyCode===WebInspector.KeyboardShortcut.Keys.Enter.code&&this._delegate.onEnter(e),void(!e.handled&&this._closeKeys.indexOf(e.keyCode)>=0&&(this._hide(),e.consume(!0))))}},WebInspector.DialogDelegate=function(){this.element=this.element},WebInspector.DialogDelegate.prototype={show:function(e){e.appendChild(this.element),this.element.classList.add("dialog-contents"),e.classList.add("dialog","toolbar-colors")},position:function(e,t){var n=WebInspector.Dialog._modalHostView.element,i=t.boxInWindow(window).relativeToElement(n),s=i.x+(t.offsetWidth-e.offsetWidth)/2;s=Number.constrain(s,0,n.offsetWidth-e.offsetWidth);var o=i.y+(t.offsetHeight-e.offsetHeight)/2;o=Number.constrain(o,0,n.offsetHeight-e.offsetHeight),e.style.position="absolute",e.positionAt(s,o,n)},focus:function(){},onEnter:function(){},willHide:function(){},__proto__:WebInspector.Object.prototype},WebInspector.Dialog._modalHostView=null,WebInspector.Dialog.setModalHostView=function(e){WebInspector.Dialog._modalHostView=e},WebInspector.Dialog.modalHostView=function(){return WebInspector.Dialog._modalHostView},WebInspector.Dialog.modalHostRepositioned=function(){WebInspector.Dialog._instance&&WebInspector.Dialog._instance._position()},WebInspector.SearchableView=function(e){WebInspector.VBox.call(this),this._searchProvider=e,this.element.addEventListener("keydown",this._onKeyDown.bind(this),!1),this._footerElementContainer=this.element.createChild("div","search-bar status-bar hidden"),this._footerElementContainer.style.order=100,this._footerElement=this._footerElementContainer.createChild("table","toolbar-search"),this._footerElement.cellSpacing=0,this._firstRowElement=this._footerElement.createChild("tr"),this._secondRowElement=this._footerElement.createChild("tr","hidden");var t=this._firstRowElement.createChild("td");this._searchControlElement=t.createChild("span","toolbar-search-control"),this._searchInputElement=this._searchControlElement.createChild("input","search-replace"),this._searchInputElement.id="search-input-field",this._searchInputElement.placeholder=WebInspector.UIString("Find"),this._matchesElement=this._searchControlElement.createChild("label","search-results-matches"),this._matchesElement.setAttribute("for","search-input-field"),this._searchNavigationElement=this._searchControlElement.createChild("div","toolbar-search-navigation-controls"),this._searchNavigationPrevElement=this._searchNavigationElement.createChild("div","toolbar-search-navigation toolbar-search-navigation-prev"),this._searchNavigationPrevElement.addEventListener("click",this._onPrevButtonSearch.bind(this),!1),this._searchNavigationPrevElement.title=WebInspector.UIString("Search Previous"),this._searchNavigationNextElement=this._searchNavigationElement.createChild("div","toolbar-search-navigation toolbar-search-navigation-next"),this._searchNavigationNextElement.addEventListener("click",this._onNextButtonSearch.bind(this),!1),this._searchNavigationNextElement.title=WebInspector.UIString("Search Next"),this._searchInputElement.addEventListener("mousedown",this._onSearchFieldManualFocus.bind(this),!1),this._searchInputElement.addEventListener("keydown",this._onSearchKeyDown.bind(this),!0),this._searchInputElement.addEventListener("input",this._onInput.bind(this),!1),this._replaceInputElement=this._secondRowElement.createChild("td").createChild("input","search-replace toolbar-replace-control"),this._replaceInputElement.addEventListener("keydown",this._onReplaceKeyDown.bind(this),!0),this._replaceInputElement.placeholder=WebInspector.UIString("Replace"),this._findButtonElement=this._firstRowElement.createChild("td").createChild("button","hidden"),this._findButtonElement.textContent=WebInspector.UIString("Find"),this._findButtonElement.tabIndex=-1,this._findButtonElement.addEventListener("click",this._onFindClick.bind(this),!1),this._replaceButtonElement=this._secondRowElement.createChild("td").createChild("button"),this._replaceButtonElement.textContent=WebInspector.UIString("Replace"),this._replaceButtonElement.disabled=!0,this._replaceButtonElement.tabIndex=-1,this._replaceButtonElement.addEventListener("click",this._replace.bind(this),!1),this._prevButtonElement=this._firstRowElement.createChild("td").createChild("button","hidden"),this._prevButtonElement.textContent=WebInspector.UIString("Previous"),this._prevButtonElement.tabIndex=-1,this._prevButtonElement.addEventListener("click",this._onPreviousClick.bind(this),!1),this._replaceAllButtonElement=this._secondRowElement.createChild("td").createChild("button"),this._replaceAllButtonElement.textContent=WebInspector.UIString("Replace All"),this._replaceAllButtonElement.addEventListener("click",this._replaceAll.bind(this),!1),this._replaceElement=this._firstRowElement.createChild("td").createChild("span"),this._replaceCheckboxElement=this._replaceElement.createChild("input"),this._replaceCheckboxElement.type="checkbox",this._uniqueId=++WebInspector.SearchableView._lastUniqueId;var n="search-replace-trigger"+this._uniqueId;this._replaceCheckboxElement.id=n,this._replaceCheckboxElement.addEventListener("change",this._updateSecondRowVisibility.bind(this),!1),this._replaceLabelElement=this._replaceElement.createChild("label"),this._replaceLabelElement.textContent=WebInspector.UIString("Replace"),this._replaceLabelElement.setAttribute("for",n);var i=this._firstRowElement.createChild("td").createChild("button");i.textContent=WebInspector.UIString("Cancel"),i.tabIndex=-1,i.addEventListener("click",this.closeSearch.bind(this),!1),this._minimalSearchQuerySize=3,this._registerShortcuts()},WebInspector.SearchableView._lastUniqueId=0,WebInspector.SearchableView.findShortcuts=function(){return WebInspector.SearchableView._findShortcuts?WebInspector.SearchableView._findShortcuts:(WebInspector.SearchableView._findShortcuts=[WebInspector.KeyboardShortcut.makeDescriptor("f",WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta)],WebInspector.isMac()||WebInspector.SearchableView._findShortcuts.push(WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.F3)),WebInspector.SearchableView._findShortcuts)},WebInspector.SearchableView.cancelSearchShortcuts=function(){return WebInspector.SearchableView._cancelSearchShortcuts?WebInspector.SearchableView._cancelSearchShortcuts:(WebInspector.SearchableView._cancelSearchShortcuts=[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Esc)],WebInspector.SearchableView._cancelSearchShortcuts)},WebInspector.SearchableView.findNextShortcut=function(){return WebInspector.SearchableView._findNextShortcut?WebInspector.SearchableView._findNextShortcut:(WebInspector.SearchableView._findNextShortcut=[],WebInspector.isMac()&&WebInspector.SearchableView._findNextShortcut.push(WebInspector.KeyboardShortcut.makeDescriptor("g",WebInspector.KeyboardShortcut.Modifiers.Meta)),WebInspector.SearchableView._findNextShortcut)},WebInspector.SearchableView.findPreviousShortcuts=function(){return WebInspector.SearchableView._findPreviousShortcuts?WebInspector.SearchableView._findPreviousShortcuts:(WebInspector.SearchableView._findPreviousShortcuts=[],WebInspector.isMac()&&WebInspector.SearchableView._findPreviousShortcuts.push(WebInspector.KeyboardShortcut.makeDescriptor("g",WebInspector.KeyboardShortcut.Modifiers.Meta|WebInspector.KeyboardShortcut.Modifiers.Shift)),WebInspector.SearchableView._findPreviousShortcuts)},WebInspector.SearchableView.prototype={defaultFocusedElement:function(){for(var e=this.children(),t=0;t<e.length;++t){var n=e[t].defaultFocusedElement();if(n)return n}return WebInspector.View.prototype.defaultFocusedElement.call(this)},_onKeyDown:function(e){var t=WebInspector.KeyboardShortcut.makeKeyFromEvent(e),n=this._shortcuts[t];n&&n(e)&&e.consume(!0)},_registerShortcuts:function(){function e(e,t){for(var n=0;n<e.length;++n)this._shortcuts[e[n].key]=t}this._shortcuts={},e.call(this,WebInspector.SearchableView.findShortcuts(),this.handleFindShortcut.bind(this)),e.call(this,WebInspector.SearchableView.cancelSearchShortcuts(),this.handleCancelSearchShortcut.bind(this)),e.call(this,WebInspector.SearchableView.findNextShortcut(),this.handleFindNextShortcut.bind(this)),e.call(this,WebInspector.SearchableView.findPreviousShortcuts(),this.handleFindPreviousShortcut.bind(this))},setMinimalSearchQuerySize:function(e){this._minimalSearchQuerySize=e},setReplaceable:function(e){this._replaceable=e},updateSearchMatchesCount:function(e){this._searchProvider.currentSearchMatches=e,this._updateSearchMatchesCountAndCurrentMatchIndex(this._searchProvider.currentQuery?e:0,-1)},updateCurrentMatchIndex:function(e){this._updateSearchMatchesCountAndCurrentMatchIndex(this._searchProvider.currentSearchMatches,e)},isSearchVisible:function(){return this._searchIsVisible},closeSearch:function(){this.cancelSearch(),WebInspector.currentFocusElement().isDescendant(this._footerElementContainer)&&this.focus()},_toggleSearchBar:function(e){this._footerElementContainer.classList.toggle("hidden",!e),this.doResize()},cancelSearch:function(){this._searchIsVisible&&(this.resetSearch(),delete this._searchIsVisible,this._toggleSearchBar(!1))},resetSearch:function(){this._clearSearch(),this._updateReplaceVisibility(),this._matchesElement.textContent=""},handleFindNextShortcut:function(){return this._searchIsVisible?(this._searchProvider.jumpToNextSearchResult(),!0):!1},handleFindPreviousShortcut:function(){return this._searchIsVisible?(this._searchProvider.jumpToPreviousSearchResult(),!0):!1},handleFindShortcut:function(){return this.showSearchField(),!0},handleCancelSearchShortcut:function(){return this._searchIsVisible?(this.closeSearch(),!0):!1},_updateSearchNavigationButtonState:function(e){this._replaceButtonElement.disabled=!e,e?(this._searchNavigationPrevElement.classList.add("enabled"),this._searchNavigationNextElement.classList.add("enabled")):(this._searchNavigationPrevElement.classList.remove("enabled"),this._searchNavigationNextElement.classList.remove("enabled"))},_updateSearchMatchesCountAndCurrentMatchIndex:function(e,t){this._matchesElement.textContent=this._currentQuery?0===e||t>=0?WebInspector.UIString("%d of %d",t+1,e):1===e?WebInspector.UIString("1 match"):WebInspector.UIString("%d matches",e):"",this._updateSearchNavigationButtonState(e>0)},showSearchField:function(){this._searchIsVisible&&this.cancelSearch();var e;if(WebInspector.currentFocusElement()!==this._searchInputElement){var t=window.getSelection();t.rangeCount&&(e=t.toString().replace(/\r?\n.*/,""))}this._toggleSearchBar(!0),this._updateReplaceVisibility(),e&&(this._searchInputElement.value=e),this._performSearch(!1,!1),this._searchInputElement.focus(),this._searchInputElement.select(),this._searchIsVisible=!0},_updateReplaceVisibility:function(){this._replaceElement.classList.toggle("hidden",!this._replaceable),this._replaceable||(this._replaceCheckboxElement.checked=!1,this._updateSecondRowVisibility())},_onSearchFieldManualFocus:function(e){WebInspector.setCurrentFocusElement(e.target)},_onSearchKeyDown:function(e){isEnterKey(e)&&(this._currentQuery?this._jumpToNextSearchResult(e.shiftKey):this._performSearch(!0,!0,e.shiftKey))},_onReplaceKeyDown:function(e){isEnterKey(e)&&this._replace()},_jumpToNextSearchResult:function(e){this._currentQuery&&this._searchNavigationPrevElement.classList.contains("enabled")&&(e?this._searchProvider.jumpToPreviousSearchResult():this._searchProvider.jumpToNextSearchResult())},_onNextButtonSearch:function(){this._searchNavigationNextElement.classList.contains("enabled")&&(this._jumpToNextSearchResult(),this._searchInputElement.focus())},_onPrevButtonSearch:function(){this._searchNavigationPrevElement.classList.contains("enabled")&&(this._jumpToNextSearchResult(!0),this._searchInputElement.focus())},_onFindClick:function(){this._currentQuery?this._jumpToNextSearchResult():this._performSearch(!0,!0),this._searchInputElement.focus()},_onPreviousClick:function(){this._currentQuery?this._jumpToNextSearchResult(!0):this._performSearch(!0,!0,!0),this._searchInputElement.focus()},_clearSearch:function(){delete this._currentQuery,this._searchProvider.currentQuery&&(delete this._searchProvider.currentQuery,this._searchProvider.searchCanceled()),this._updateSearchMatchesCountAndCurrentMatchIndex(0,-1)},_performSearch:function(e,t,n){var i=this._searchInputElement.value;return!i||!e&&i.length<this._minimalSearchQuerySize&&!this._currentQuery?void this._clearSearch():(this._currentQuery=i,this._searchProvider.currentQuery=i,void this._searchProvider.performSearch(i,t,n))},_updateSecondRowVisibility:function(){var e=this._replaceCheckboxElement.checked;this._footerElementContainer.classList.toggle("replaceable",e),this._footerElement.classList.toggle("toolbar-search-replace",e),this._secondRowElement.classList.toggle("hidden",!e),this._prevButtonElement.classList.toggle("hidden",!e),this._findButtonElement.classList.toggle("hidden",!e),this._replaceCheckboxElement.tabIndex=e?-1:0,e?this._replaceInputElement.focus():this._searchInputElement.focus(),this.doResize()},_replace:function(){this._searchProvider.replaceSelectionWith(this._replaceInputElement.value),delete this._currentQuery,this._performSearch(!0,!0)},_replaceAll:function(){this._searchProvider.replaceAllWith(this._searchInputElement.value,this._replaceInputElement.value)},_onInput:function(){this._onValueChanged()},_onValueChanged:function(){this._performSearch(!1,!0)},__proto__:WebInspector.VBox.prototype},WebInspector.Searchable=function(){},WebInspector.Searchable.prototype={searchCanceled:function(){},performSearch:function(){},jumpToNextSearchResult:function(){},jumpToPreviousSearchResult:function(){}},WebInspector.Replaceable=function(){},WebInspector.Replaceable.prototype={replaceSelectionWith:function(){},replaceAllWith:function(){}},WebInspector.RuntimeModel=function(e){WebInspector.SDKObject.call(this,e),this._debuggerModel=e.debuggerModel,this._agent=e.runtimeAgent(),this.target().registerRuntimeDispatcher(new WebInspector.RuntimeDispatcher(this)),this._agent.enable(),this._executionContextById={}},WebInspector.RuntimeModel.Events={ExecutionContextCreated:"ExecutionContextCreated",ExecutionContextDestroyed:"ExecutionContextDestroyed"},WebInspector.RuntimeModel.prototype={executionContexts:function(){return Object.values(this._executionContextById)},_executionContextCreated:function(e){var t=new WebInspector.ExecutionContext(this.target(),e.id,e.name,e.isPageContext,e.frameId);this._executionContextById[t.id]=t,this.dispatchEventToListeners(WebInspector.RuntimeModel.Events.ExecutionContextCreated,t)},_executionContextDestroyed:function(e){var t=this._executionContextById[e];delete this._executionContextById[e],this.dispatchEventToListeners(WebInspector.RuntimeModel.Events.ExecutionContextDestroyed,t)},_executionContextsCleared:function(){var e=this.executionContexts();this._executionContextById={};for(var t=0;t<e.length;++t)this.dispatchEventToListeners(WebInspector.RuntimeModel.Events.ExecutionContextDestroyed,e[t])},createRemoteObject:function(e){return console.info(e),console.assert("object"==typeof e,"Remote object payload should only be an object"),new WebInspector.RemoteObjectImpl(this.target(),e.objectId,e.type,e.subtype,e.value,e.description,e.preview)},createScopeRemoteObject:function(e,t){return new WebInspector.ScopeRemoteObject(this.target(),e.objectId,t,e.type,e.subtype,e.value,e.description,e.preview)},createRemoteObjectFromPrimitiveValue:function(e){return new WebInspector.RemoteObjectImpl(this.target(),void 0,typeof e,void 0,e)},createRemotePropertyFromPrimitiveValue:function(e,t){return new WebInspector.RemoteObjectProperty(e,this.createRemoteObjectFromPrimitiveValue(t))},__proto__:WebInspector.SDKObject.prototype},WebInspector.RuntimeDispatcher=function(e){this._runtimeModel=e},WebInspector.RuntimeDispatcher.prototype={executionContextCreated:function(e){this._runtimeModel._executionContextCreated(e)},executionContextDestroyed:function(e){this._runtimeModel._executionContextDestroyed(e)},executionContextsCleared:function(){this._runtimeModel._executionContextsCleared()}},WebInspector.ExecutionContext=function(e,t,n,i,s){WebInspector.SDKObject.call(this,e),this.id=t,this.name=i&&!n?"<page context>":n,this.isMainWorldContext=i,this._debuggerModel=e.debuggerModel,this.frameId=s},WebInspector.ExecutionContext.comparator=function(e,t){return e.isMainWorldContext?-1:t.isMainWorldContext?1:e.name.localeCompare(t.name)},WebInspector.ExecutionContext.prototype={evaluate:function(e,t,n,i,s,o,r){function a(e,t,n){return e?void r(null,!1):(console.info.apply(console,arguments),void(s?r(null,!!n,n?null:t):r(this.target().runtimeModel.createRemoteObject(t),!!n)))}e||(e="this"),this.target().runtimeAgent().evaluate(e,t,n,i,this.id,s,o,a.bind(this))},completionsForExpression:function(e,t,n,i){function s(e,t){function n(e){var t;t="string"===e?new String(""):"number"===e?new Number(0):"boolean"===e?new Boolean(!1):this;for(var n={},i=t;i;i=i.__proto__)try{for(var s=Object.getOwnPropertyNames(i),o=0;o<s.length;++o)n[s[o]]=!0}catch(r){}return n}return!e||t?void i([]):void("object"===e.type||"function"===e.type?e.callFunctionJSON(n,void 0,r.bind(this)):("string"===e.type||"number"===e.type||"boolean"===e.type)&&this.evaluate("("+n+')("'+e.type+'")',"completion",!1,!0,!0,!1,o.bind(this)))}function o(e,t,n){n&&!t?r.call(this,n.value):i([])}function r(n){if(this.target().runtimeAgent().releaseObjectGroup("completion"),!n)return void i([]);var s=!l&&!c;if(s)for(var o=["dir","dirxml","keys","values","profile","profileEnd","monitorEvents","unmonitorEvents","inspect","copy","clear","getEventListeners","debug","undebug","monitor","unmonitor","table","$","$$","$x"],r=0;r<o.length;++r)n[o[r]]=!0;this._reportCompletions(i,l,c,e,t,Object.keys(n))}var a=e.length-1,l="."===e[a],c="["===e[a];return(l||c)&&(e=e.substr(0,a)),e&&parseInt(e,10)==e?void i([]):t||e||n?void this.evaluate(e,"completion",!0,!0,!1,!1,s.bind(this)):void i([])},_reportCompletions:function(e,t,n,i,s,o){var r;n&&(r=s.length&&"'"===s[0]?"'":'"');var a=[];if(!i){var l=["break","case","catch","continue","default","delete","do","else","finally","for","function","if","in","instanceof","new","return","switch","this","throw","try","typeof","var","void","while","with"];o=o.concat(l)}o.sort();for(var c=0;c<o.length;++c){var h=o[c];(!t||/^[a-zA-Z_$\u008F-\uFFFF][a-zA-Z0-9_$\u008F-\uFFFF]*$/.test(h))&&(n&&(/^[0-9]+$/.test(h)||(h=r+h.escapeCharacters(r+"\\")+r),h+="]"),h.length<s.length||(!s.length||h.startsWith(s))&&a.push(h))}e(a)},__proto__:WebInspector.SDKObject.prototype},WebInspector.runtimeModel=WebInspector.runtimeModel,WebInspector.DockController=function(e){return this._canDock=e,e?(WebInspector.settings.currentDockState=WebInspector.settings.createSetting("currentDockState",""),void(WebInspector.settings.lastDockState=WebInspector.settings.createSetting("lastDockState",""))):(this._dockSide=WebInspector.DockController.State.Undocked,void this._updateUI())},WebInspector.DockController.State={DockedToBottom:"bottom",DockedToRight:"right",DockedToLeft:"left",Undocked:"undocked"},WebInspector.DockController.Events={BeforeDockSideChanged:"BeforeDockSideChanged",DockSideChanged:"DockSideChanged",AfterDockSideChanged:"AfterDockSideChanged"},WebInspector.DockController.prototype={initialize:function(){if(this._canDock){this._states=[WebInspector.DockController.State.DockedToBottom,WebInspector.DockController.State.Undocked,WebInspector.DockController.State.DockedToRight],this._titles=[WebInspector.UIString("Dock to main window."),WebInspector.UIString("Undock into separate window."),WebInspector.UIString("Dock to main window.")],WebInspector.experimentsSettings.dockToLeft.isEnabled()&&(this._states.push(WebInspector.DockController.State.DockedToLeft),this._titles.push(WebInspector.UIString("Dock to main window.")));
var e=WebInspector.settings.currentDockState.get();e=this._states.indexOf(e)>=0?e:this._states[0],this._dockSideChanged(e)}},dockSide:function(){return this._dockSide},canDock:function(){return this._canDock},isVertical:function(){return this._dockSide===WebInspector.DockController.State.DockedToRight||this._dockSide===WebInspector.DockController.State.DockedToLeft},_dockSideChanged:function(e){if(this._dockSide!==e){var t={from:this._dockSide,to:e};this.dispatchEventToListeners(WebInspector.DockController.Events.BeforeDockSideChanged,t),console.timeStamp("DockController.setIsDocked"),InspectorFrontendHost.setIsDocked(e!==WebInspector.DockController.State.Undocked,this._setIsDockedResponse.bind(this,t)),this._dockSide=e,this._updateUI(),this.dispatchEventToListeners(WebInspector.DockController.Events.DockSideChanged,t)}},_setIsDockedResponse:function(e){this.dispatchEventToListeners(WebInspector.DockController.Events.AfterDockSideChanged,e)},_updateUI:function(){var e=document.body;switch(this._dockSide){case WebInspector.DockController.State.DockedToBottom:e.classList.remove("undocked"),e.classList.remove("dock-to-right"),e.classList.remove("dock-to-left"),e.classList.add("dock-to-bottom");break;case WebInspector.DockController.State.DockedToRight:e.classList.remove("undocked"),e.classList.add("dock-to-right"),e.classList.remove("dock-to-left"),e.classList.remove("dock-to-bottom");break;case WebInspector.DockController.State.DockedToLeft:e.classList.remove("undocked"),e.classList.remove("dock-to-right"),e.classList.add("dock-to-left"),e.classList.remove("dock-to-bottom");break;case WebInspector.DockController.State.Undocked:e.classList.add("undocked"),e.classList.remove("dock-to-right"),e.classList.remove("dock-to-left"),e.classList.remove("dock-to-bottom")}},__proto__:WebInspector.Object.prototype},WebInspector.DockController.ButtonProvider=function(){},WebInspector.DockController.ButtonProvider.prototype={button:function(){return WebInspector.dockController.canDock()?(this._dockToggleButton||(this._dockToggleButton=new WebInspector.StatusBarStatesSettingButton("dock-status-bar-item",WebInspector.dockController._states,WebInspector.dockController._titles,WebInspector.dockController.dockSide(),WebInspector.settings.currentDockState,WebInspector.settings.lastDockState,WebInspector.dockController._dockSideChanged.bind(WebInspector.dockController))),this._dockToggleButton):null}},WebInspector.dockController=WebInspector.dockController,WebInspector.App=function(){WebInspector.console.setUIDelegate(this)},WebInspector.App.prototype={_toggleEmulationEnabled:function(){WebInspector.overridesSupport.setEmulationEnabled(!this._toggleEmulationButton.toggled)},_emulationEnabledChanged:function(){this._toggleEmulationButton.toggled=WebInspector.overridesSupport.emulationEnabled(),!WebInspector.overridesSupport.responsiveDesignAvailable()&&WebInspector.overridesSupport.emulationEnabled()&&WebInspector.inspectorView.showViewInDrawer("emulation",!0)},_overridesWarningUpdated:function(){if(this._toggleEmulationButton){var e=WebInspector.overridesSupport.warningMessage();this._toggleEmulationButton.title=e||WebInspector.UIString("Toggle device mode."),this._toggleEmulationButton.element.classList.toggle("warning",!!e)}},createRootView:function(){},presentUI:function(){WebInspector.inspectorView.showInitialPanel(),this._overridesWarningUpdated()},showConsole:function(){WebInspector.Revealer.reveal(WebInspector.console)}},WebInspector.App.EmulationButtonProvider=function(){},WebInspector.App.EmulationButtonProvider.prototype={button:function(){return WebInspector.app instanceof WebInspector.App?WebInspector.app._toggleEmulationButton||null:null}},WebInspector.app=WebInspector.app,WebInspector.SimpleApp=function(){WebInspector.App.call(this)},WebInspector.SimpleApp.prototype={createRootView:function(){var e=new WebInspector.RootView;WebInspector.inspectorView.show(e.element),e.attachToBody()},__proto__:WebInspector.App.prototype},WebInspector.ZoomManager=function(){this._zoomFactor=InspectorFrontendHost.zoomFactor(),window.addEventListener("resize",this._onWindowResize.bind(this),!0)},WebInspector.ZoomManager.Events={ZoomChanged:"ZoomChanged"},WebInspector.ZoomManager.prototype={zoomFactor:function(){return this._zoomFactor},_onWindowResize:function(){var e=this._zoomFactor;this._zoomFactor=InspectorFrontendHost.zoomFactor(),e!==this._zoomFactor&&this.dispatchEventToListeners(WebInspector.ZoomManager.Events.ZoomChanged,{from:e,to:this._zoomFactor})},__proto__:WebInspector.Object.prototype},WebInspector.zoomManager=WebInspector.zoomManager,WebInspector.ResizerWidget=function(){WebInspector.Object.call(this),this._isEnabled=!0,this._isVertical=!0,this._elements=[],this._installDragOnMouseDownBound=this._installDragOnMouseDown.bind(this)},WebInspector.ResizerWidget.Events={ResizeStart:"ResizeStart",ResizeUpdate:"ResizeUpdate",ResizeEnd:"ResizeEnd"},WebInspector.ResizerWidget.prototype={isEnabled:function(){return this._isEnabled},setEnabled:function(e){this._isEnabled=e,this._updateElementsClass()},isVertical:function(){return this._isVertical},setVertical:function(e){this._isVertical=e,this._updateElementsClass()},elements:function(){return this._elements.slice()},addElement:function(e){-1===this._elements.indexOf(e)&&(this._elements.push(e),e.addEventListener("mousedown",this._installDragOnMouseDownBound,!1),e.classList.toggle("ns-resizer-widget",this._isVertical&&this._isEnabled),e.classList.toggle("ew-resizer-widget",!this._isVertical&&this._isEnabled))},removeElement:function(e){-1!==this._elements.indexOf(e)&&(this._elements.remove(e),e.removeEventListener("mousedown",this._installDragOnMouseDownBound,!1),e.classList.remove("ns-resizer-widget"),e.classList.remove("ew-resizer-widget"))},_updateElementsClass:function(){for(var e=0;e<this._elements.length;++e)this._elements[e].classList.toggle("ns-resizer-widget",this._isVertical&&this._isEnabled),this._elements[e].classList.toggle("ew-resizer-widget",!this._isVertical&&this._isEnabled)},_installDragOnMouseDown:function(e){return-1===this._elements.indexOf(e.target)?!1:void WebInspector.elementDragStart(this._dragStart.bind(this),this._drag.bind(this),this._dragEnd.bind(this),this._isVertical?"ns-resize":"ew-resize",e)},_dragStart:function(e){return this._isEnabled?(this._startPosition=this._isVertical?e.pageY:e.pageX,this.dispatchEventToListeners(WebInspector.ResizerWidget.Events.ResizeStart,{startPosition:this._startPosition,currentPosition:this._startPosition}),!0):!1},_drag:function(e){if(!this._isEnabled)return this._dragEnd(e),!0;var t=this._isVertical?e.pageY:e.pageX;return this.dispatchEventToListeners(WebInspector.ResizerWidget.Events.ResizeUpdate,{startPosition:this._startPosition,currentPosition:t,shiftKey:e.shiftKey}),e.preventDefault(),!1},_dragEnd:function(){this.dispatchEventToListeners(WebInspector.ResizerWidget.Events.ResizeEnd),delete this._startPosition},__proto__:WebInspector.Object.prototype},WebInspector.ConsoleViewMessage=function(e,t,n){this._message=e,this._linkifier=t,this._repeatCount=1,this._closeGroupDecorationCount=0,this._nestingLevel=n,this._dataGrids=[],this._dataGridParents=new Map,this._customFormatters={object:this._formatParameterAsObject,array:this._formatParameterAsArray,node:this._formatParameterAsNode,string:this._formatParameterAsString}},WebInspector.ConsoleViewMessage.prototype={_target:function(){return this.consoleMessage().target()},element:function(){return this.toMessageElement()},wasShown:function(){for(var e=0;this._dataGrids&&e<this._dataGrids.length;++e){var t=this._dataGrids[e],n=this._dataGridParents.get(t)||null;t.show(n),t.updateWidths()}},cacheFastHeight:function(){this._cachedHeight=this.contentElement().offsetHeight},willHide:function(){for(var e=0;this._dataGrids&&e<this._dataGrids.length;++e){var t=this._dataGrids[e];this._dataGridParents.put(t,t.element.parentElement),t.detach()}},fastHeight:function(){if(this._cachedHeight)return this._cachedHeight;var e=16;if(this._message.type===WebInspector.ConsoleMessage.MessageType.Table){var t=this._message.parameters[0];if(t&&t.preview)return e*t.preview.properties.length}return e},consoleMessage:function(){return this._message},_formatMessage:function(){function e(e){return WebInspector.Linkifier.linkifyUsingRevealer(this.request,e,this.url)}this._formattedMessage=document.createElement("span"),this._formattedMessage.className="console-message-text source-code";var t,n=this._message;if(!this._messageElement)if(n.source===WebInspector.ConsoleMessage.MessageSource.ConsoleAPI)switch(n.type){case WebInspector.ConsoleMessage.MessageType.Trace:this._messageElement=this._format(n.parameters||["console.trace()"]);break;case WebInspector.ConsoleMessage.MessageType.Clear:this._messageElement=document.createTextNode(WebInspector.UIString("Console was cleared")),this._formattedMessage.classList.add("console-info");break;case WebInspector.ConsoleMessage.MessageType.Assert:t=[WebInspector.UIString("Assertion failed:")],n.parameters&&(t=t.concat(n.parameters)),this._messageElement=this._format(t);break;case WebInspector.ConsoleMessage.MessageType.Dir:var i=n.parameters?n.parameters[0]:void 0;t=["%O",i],this._messageElement=this._format(t);break;case WebInspector.ConsoleMessage.MessageType.Profile:case WebInspector.ConsoleMessage.MessageType.ProfileEnd:this._messageElement=this._format([n.messageText]);break;default:t=n.parameters||[n.messageText],this._messageElement=this._format(t)}else if(n.source===WebInspector.ConsoleMessage.MessageSource.Network)if(n.request)if(this._messageElement=document.createElement("span"),n.level===WebInspector.ConsoleMessage.MessageLevel.Error)this._messageElement.appendChild(document.createTextNode(n.request.requestMethod+" ")),this._messageElement.appendChild(WebInspector.Linkifier.linkifyUsingRevealer(n.request,n.request.url,n.request.url)),this._messageElement.appendChild(n.request.failed?document.createTextNode(" "+n.request.localizedFailDescription):document.createTextNode(" "+n.request.statusCode+" ("+n.request.statusText+")"));else{var s=WebInspector.linkifyStringAsFragmentWithCustomLinkifier(n.messageText,e.bind(n));this._messageElement.appendChild(s)}else{var o=n.url;if(o){var r=!WebInspector.resourceForURL(o)&&!WebInspector.workspace.uiSourceCodeForURL(o);this._anchorElement=WebInspector.linkifyURLAsNode(o,o,"console-message-url",r)}this._messageElement=this._format([n.messageText])}else t=n.parameters||[n.messageText],this._messageElement=this._format(t);if(n.source!==WebInspector.ConsoleMessage.MessageSource.Network||n.request){var a=this._callFrameAnchorFromStackTrace(n.stackTrace);a?this._anchorElement=this._linkifyCallFrame(a):n.url&&"undefined"!==n.url&&(this._anchorElement=this._linkifyLocation(n.url,n.line,n.column))}this._formattedMessage.appendChild(this._messageElement),this._anchorElement&&(this._formattedMessage.appendChild(document.createTextNode(" ")),this._formattedMessage.appendChild(this._anchorElement));var l=!!n.stackTrace&&n.stackTrace.length&&(n.source===WebInspector.ConsoleMessage.MessageSource.Network||n.level===WebInspector.ConsoleMessage.MessageLevel.Error||n.type===WebInspector.ConsoleMessage.MessageType.Trace);if(l){var c=document.createElement("ol");c.className="outline-disclosure";var h=new TreeOutline(c),d=this._formattedMessage,p=new TreeElement(d,null,!0);p.toggleOnClick=!0,p.selectable=!1,d.treeElementForTest=p,h.appendChild(p),n.type===WebInspector.ConsoleMessage.MessageType.Trace&&p.expand(),this._populateStackTraceTreeElement(p),this._formattedMessage=c}},_formattedMessageText:function(){return this.formattedMessage(),this._messageElement.textContent},formattedMessage:function(){return this._formattedMessage||this._formatMessage(),this._formattedMessage},_linkifyLocation:function(e,t,n){console.assert(this._linkifier);var i=this._target();if(!this._linkifier||!i)return null;if(t=t?t-1:0,n=n?n-1:0,this._message.source===WebInspector.ConsoleMessage.MessageSource.CSS){var s=i.cssModel.styleSheetIdsForURL(e),o=new WebInspector.CSSLocation(i,e,t,n);return this._linkifier.linkifyCSSLocation(s[0]||null,o,"console-message-url")}return this._linkifier.linkifyLocation(i,e,t,n,"console-message-url")},_linkifyCallFrame:function(e){console.assert(this._linkifier);var t=this._target();if(!this._linkifier||!t)return null;var n=e.lineNumber?e.lineNumber-1:0,i=e.columnNumber?e.columnNumber-1:0,s=new WebInspector.DebuggerModel.Location(t,e.scriptId,n,i);return this._linkifier.linkifyRawLocation(s,"console-message-url")},_callFrameAnchorFromStackTrace:function(e){if(!e||!e.length)return null;var t=e[0].scriptId?e[0]:null;if(!WebInspector.experimentsSettings.frameworksDebuggingSupport.isEnabled())return t;var n=WebInspector.settings.skipStackFramesPattern.asRegExp();if(!n)return t;for(var i=0;i<e.length;++i){var s=this._target().debuggerModel.scriptForId(e[i].scriptId);if(!s||!n.test(s.sourceURL))return e[i].scriptId?e[i]:null}return t},isErrorOrWarning:function(){return this._message.level===WebInspector.ConsoleMessage.MessageLevel.Warning||this._message.level===WebInspector.ConsoleMessage.MessageLevel.Error},_format:function(e){var t,n=document.createElement("span");if(!e.length)return n;var i=this._target();for(t=0;t<e.length;++t)e[t]instanceof WebInspector.RemoteObject||(e[t]=i?"object"==typeof e[t]?i.runtimeModel.createRemoteObject(e[t]):i.runtimeModel.createRemoteObjectFromPrimitiveValue(e[t]):WebInspector.RemoteObject.fromLocalObject(e[t]));var s="string"===WebInspector.RemoteObject.type(e[0])&&this._message.type!==WebInspector.ConsoleMessage.MessageType.Result;if(s){var o=this._formatWithSubstitutionString(e[0].description,e.slice(1),n);e=o.unusedSubstitutions,e.length&&n.appendChild(document.createTextNode(" "))}if(this._message.type===WebInspector.ConsoleMessage.MessageType.Table)return n.appendChild(this._formatParameterAsTable(e)),n;for(t=0;t<e.length;++t)n.appendChild(s&&"string"===e[t].type?WebInspector.linkifyStringAsFragment(e[t].description):this._formatParameter(e[t],!1,!0)),t<e.length-1&&n.appendChild(document.createTextNode(" "));return n},_formatParameter:function(e,t,n){var i=t?"object":e.subtype||e.type,s=this._customFormatters[i]||this._formatParameterAsValue,o=document.createElement("span");return o.className="console-formatted-"+i+" source-code",s.call(this,e,o,n),o},_formatParameterAsValue:function(e,t){t.appendChild(document.createTextNode(e.description||"")),e.objectId&&t.addEventListener("contextmenu",this._contextMenuEventFired.bind(this,e),!1)},_formatParameterAsObject:function(e,t,n){this._formatParameterAsArrayOrObject(e,e.description||"",t,n)},_formatParameterAsArrayOrObject:function(e,t,n,i){var s=document.createElement("span");if(t&&s.createTextChild(t),i&&e.preview){s.classList.add("console-object-preview");var o=this._appendObjectPreview(e,t,s);if(o)return n.appendChild(s),void s.addEventListener("contextmenu",this._contextMenuEventFired.bind(this,e),!1)}var r=new WebInspector.ObjectPropertiesSection(e,s);r.enableContextMenu(),n.appendChild(r.element);var a=r.titleElement.createChild("span","object-info-state-note");a.title=WebInspector.UIString("Object state below is captured upon first expansion")},_contextMenuEventFired:function(e,t){var n=new WebInspector.ContextMenu(t);n.appendApplicableItems(e),n.show()},_appendObjectPreview:function(e,t,n){var i=e.preview,s="array"===e.subtype;t&&n.createTextChild(" "),n.createTextChild(s?"[":"{");for(var o=0;o<i.properties.length;++o){o>0&&n.createTextChild(", ");var r=i.properties[o],a=r.name;s&&a==o||(/^\s|\s$|^$|\n/.test(a)?n.createChild("span","name").createTextChildren('"',a.replace(/\n/g,"↵"),'"'):n.createChild("span","name").textContent=a,n.createTextChild(": ")),n.appendChild(this._renderPropertyPreviewOrAccessor(e,[r]))}return i.overflow&&(n.createChild("span").textContent="…"),n.createTextChild(s?"]":"}"),i.lossless},_renderPropertyPreviewOrAccessor:function(e,t){var n=t.peekLast();return"accessor"===n.type?this._formatAsAccessorProperty(e,t.select("name"),!1):this._renderPropertyPreview(n.type,n.subtype,n.value)},_renderPropertyPreview:function(e,t,n){var i=document.createElement("span");return i.className="console-formatted-"+e,"function"===e?(i.textContent="function",i):"object"===e&&"regexp"===t?(i.classList.add("console-formatted-string"),i.textContent=n,i):"object"===e&&"node"===t&&n?(i.classList.add("console-formatted-preview-node"),WebInspector.DOMPresentationUtils.createSpansForNodeTitle(i,n),i):"string"===e?(i.createTextChildren('"',n.replace(/\n/g,"↵"),'"'),i):(i.textContent=n,i)},_formatParameterAsNode:function(e,t){function n(n){if(!n)return void this._formatParameterAsObject(e,t,!1);var i=WebInspector.moduleManager.instance(WebInspector.Renderer,n);i?t.appendChild(i.render(n)):console.error("No renderer for node found")}e.pushNodeToFrontend(n.bind(this))},useArrayPreviewInFormatter:function(e){return this._message.type!==WebInspector.ConsoleMessage.MessageType.DirXML&&!!e.preview},_formatParameterAsArray:function(e,t){if(console.log(this,this.useArrayPreviewInFormatter),this.useArrayPreviewInFormatter(e))return void this._formatParameterAsArrayOrObject(e,"",t,!0);var n=100;this._message.isOutdated||e.arrayLength()>n?this._formatParameterAsObject(e,t,!1):e.getOwnProperties(this._printArray.bind(this,e,t))},_formatParameterAsTable:function(e){var t=document.createElement("span"),n=e[0];if(!n||!n.preview)return t;var i,s,o,r=[],a=n.preview,l=[];for(s=0;s<a.properties.length;++s){var c=a.properties[s],h=c.valuePreview;if(h){i={};var d=20;for(o=0;o<h.properties.length;++o){var p=h.properties[o],u=-1!=r.indexOf(p.name);if(!u){if(r.length===d)continue;u=!0,r.push(p.name)}if(u){var m=this._renderPropertyPreviewOrAccessor(n,[c,p]);m.classList.add("nowrap-below"),i[p.name]=m}}l.push([c.name,i])}}var _=[];for(s=0;s<l.length;++s){var b=l[s][0];for(i=l[s][1],_.push(b),o=0;o<r.length;++o)_.push(i[r[o]])}var f=t.createChild("span");if(!(a.lossless&&_.length||(t.appendChild(this._formatParameter(n,!0,!1)),_.length)))return t;r.unshift(WebInspector.UIString("(index)"));var g=WebInspector.DataGrid.createSortableDataGrid(r,_);return g.renderInline(),this._dataGrids.push(g),this._dataGridParents.put(g,f),t},_formatParameterAsString:function(e,t){var n=document.createElement("span");n.className="console-formatted-string source-code",n.appendChild(WebInspector.linkifyStringAsFragment(e.description||"")),t.classList.remove("console-formatted-string"),t.createTextChild('"'),t.appendChild(n),t.createTextChild('"')},_printArray:function(e,t,n){function i(e,t){if(!(1>=t-l)){var n=e.createChild("span","console-formatted-undefined");n.textContent=WebInspector.UIString("undefined × %d",t-l-1)}}if(n){var s,o=[];for(s=0;s<n.length;++s){var r=n[s],a=r.name;isNaN(a)||(r.getter?o[a]=this._formatAsAccessorProperty(e,[a],!0):r.value&&(o[a]=this._formatAsArrayEntry(r.value)))}t.appendChild(document.createTextNode("["));var l=-1,c=e.arrayLength();for(s=0;c>s;++s){var h=o[s];h&&(s-l>1&&(i(t,s),t.appendChild(document.createTextNode(", "))),t.appendChild(h),l=s,c-1>s&&t.appendChild(document.createTextNode(", ")))}i(t,c),t.appendChild(document.createTextNode("]")),t.addEventListener("contextmenu",this._contextMenuEventFired.bind(this,e),!1)}},_formatAsArrayEntry:function(e){return this._formatParameter(e,"array"===e.subtype,!1)},_formatAsAccessorProperty:function(e,t,n){function i(e,t){if(e)if(s.removeChildren(),t){var i=s.createChild("span","error-message");i.textContent=WebInspector.UIString("<exception>"),i.title=e.description}else if(n)s.appendChild(this._formatAsArrayEntry(e));else{var o=100,r=e.type,a=e.subtype,l="";"function"!==r&&e.description&&(l="string"===r||"regexp"===a?e.description.trimMiddle(o):e.description.trimEnd(o)),s.appendChild(this._renderPropertyPreview(r,a,l))}}var s=WebInspector.ObjectPropertyTreeElement.createRemoteObjectAccessorPropertySpan(e,t,i.bind(this));return s},_formatWithSubstitutionString:function(e,t,n){function i(e,t){return this._formatParameter(t,e,!1)}function s(e){return e.description}function o(e){return"number"!=typeof e.value?"NaN":e.value}function r(e){return"number"!=typeof e.value?"NaN":Math.floor(e.value)}function a(e){return e instanceof Node?e:""}function l(e){p={};var t=document.createElement("span");t.setAttribute("style",e.description);for(var n=0;n<t.style.length;n++){var i=t.style[n];c(i)&&(p[i]=t.style[i])}}function c(e){for(var t=["background","border","color","font","line","margin","padding","text","-webkit-background","-webkit-border","-webkit-font","-webkit-margin","-webkit-padding","-webkit-text"],n=0;n<t.length;n++)if(e.startsWith(t[n]))return!0;return!1}function h(e,t){if(t instanceof Node)e.appendChild(t);else if("undefined"!=typeof t){var n=WebInspector.linkifyStringAsFragment(String(t));if(p){var i=document.createElement("span");for(var s in p)i.style[s]=p[s];i.appendChild(n),n=i}e.appendChild(n)}return e}var d={},p=null;return d.o=i.bind(this,!1),d.s=s,d.f=o,d.i=r,d.d=r,d.c=l,d.O=i.bind(this,!0),d._=a,String.format(e,t,d,n,h)},clearHighlight:function(){if(this._formattedMessage){var e=this._formattedMessage;delete this._formattedMessage,delete this._anchorElement,delete this._messageElement,this._formatMessage(),this._element.replaceChild(this._formattedMessage,e)}},highlightSearchResults:function(e){this._formattedMessage&&(this._highlightSearchResultsInElement(e,this._messageElement),this._anchorElement&&this._highlightSearchResultsInElement(e,this._anchorElement))},_highlightSearchResultsInElement:function(e,t){e.lastIndex=0;for(var n=t.textContent,i=e.exec(n),s=[];i;)s.push(new WebInspector.SourceRange(i.index,i[0].length)),i=e.exec(n);WebInspector.highlightSearchResults(t,s)},matchesRegex:function(e){return e.lastIndex=0,e.test(this._formattedMessageText())||!!this._anchorElement&&e.test(this._anchorElement.textContent)},updateTimestamp:function(e){if(this._element){if(e&&!this.timestampElement){this.timestampElement=this._element.createChild("span","console-timestamp"),this.timestampElement.textContent=new Date(this._message.timestamp).toConsoleTime();var t=this._repeatCountElement&&this._repeatCountElement.nextSibling;return void this._element.insertBefore(this.timestampElement,t||this._element.firstChild)}!e&&this.timestampElement&&(this.timestampElement.remove(),delete this.timestampElement)}},nestingLevel:function(){return this._nestingLevel},resetCloseGroupDecorationCount:function(){this._closeGroupDecorationCount=0,this._updateCloseGroupDecorations()},incrementCloseGroupDecorationCount:function(){++this._closeGroupDecorationCount,this._updateCloseGroupDecorations()},_updateCloseGroupDecorations:function(){if(this._nestingLevelMarkers)for(var e=0,t=this._nestingLevelMarkers.length;t>e;++e){var n=this._nestingLevelMarkers[e];n.classList.toggle("group-closed",t-e<=this._closeGroupDecorationCount)}},contentElement:function(){if(this._element)return this._element;var e=document.createElementWithClass("div","console-message");switch(this._element=e,this._message.level){case WebInspector.ConsoleMessage.MessageLevel.Log:e.classList.add("console-log-level");break;case WebInspector.ConsoleMessage.MessageLevel.Debug:e.classList.add("console-debug-level");break;case WebInspector.ConsoleMessage.MessageLevel.Warning:e.classList.add("console-warning-level");break;case WebInspector.ConsoleMessage.MessageLevel.Error:e.classList.add("console-error-level");break;case WebInspector.ConsoleMessage.MessageLevel.Info:e.classList.add("console-info-level")}return(this._message.type===WebInspector.ConsoleMessage.MessageType.StartGroup||this._message.type===WebInspector.ConsoleMessage.MessageType.StartGroupCollapsed)&&e.classList.add("console-group-title"),e.appendChild(this.formattedMessage()),this._repeatCount>1&&this._showRepeatCountElement(),this.updateTimestamp(WebInspector.settings.consoleTimestampsEnabled.get()),this._element},toMessageElement:function(){if(this._wrapperElement)return this._wrapperElement;this._wrapperElement=document.createElementWithClass("div","console-message-wrapper"),this._nestingLevelMarkers=[];for(var e=0;e<this._nestingLevel;++e)this._nestingLevelMarkers.push(this._wrapperElement.createChild("div","nesting-level-marker"));return this._updateCloseGroupDecorations(),this._wrapperElement.message=this,this._wrapperElement.appendChild(this.contentElement()),this._wrapperElement},_populateStackTraceTreeElement:function(e){function t(t){if(t)for(var n=0;n<t.length;n++){var i=t[n],s=document.createElementWithClass("div","stacktrace-entry"),o=i.functionName||WebInspector.UIString("(anonymous function)");if(s.createChild("span","console-message-text source-code").textContent=o,i.scriptId){s.createTextChild(" ");var r=this._linkifyCallFrame(i);if(!r)continue;s.appendChild(r)}e.appendChild(new TreeElement(s))}}t.call(this,this._message.stackTrace);for(var n=this._message.asyncStackTrace;n&&(n.callFrames&&n.callFrames.length);n=n.asyncStackTrace){var i=document.createElementWithClass("div","stacktrace-entry"),s=n.description?n.description+" "+WebInspector.UIString("(async)"):WebInspector.UIString("Async Call");i.createChild("span","console-message-text source-code console-async-trace-text").textContent=s,e.appendChild(new TreeElement(i)),t.call(this,n.callFrames)}},resetIncrementRepeatCount:function(){this._repeatCount=1,this._repeatCountElement&&(this._repeatCountElement.remove(),delete this._repeatCountElement)},incrementRepeatCount:function(){this._repeatCount++,this._showRepeatCountElement()},_showRepeatCountElement:function(){this._element&&(this._repeatCountElement||(this._repeatCountElement=document.createElement("span"),this._repeatCountElement.className="bubble",this._element.insertBefore(this._repeatCountElement,this._element.firstChild),this._element.classList.add("repeated-message")),this._repeatCountElement.textContent=this._repeatCount)},toString:function(){var e;switch(this._message.source){case WebInspector.ConsoleMessage.MessageSource.XML:e="XML";break;case WebInspector.ConsoleMessage.MessageSource.JS:e="JavaScript";break;case WebInspector.ConsoleMessage.MessageSource.Network:e="Network";break;case WebInspector.ConsoleMessage.MessageSource.ConsoleAPI:e="ConsoleAPI";break;case WebInspector.ConsoleMessage.MessageSource.Storage:e="Storage";break;case WebInspector.ConsoleMessage.MessageSource.AppCache:e="AppCache";break;case WebInspector.ConsoleMessage.MessageSource.Rendering:e="Rendering";break;case WebInspector.ConsoleMessage.MessageSource.CSS:e="CSS";break;case WebInspector.ConsoleMessage.MessageSource.Security:e="Security";break;case WebInspector.ConsoleMessage.MessageSource.Other:e="Other"}var t;switch(this._message.type){case WebInspector.ConsoleMessage.MessageType.Log:t="Log";break;case WebInspector.ConsoleMessage.MessageType.Dir:t="Dir";break;case WebInspector.ConsoleMessage.MessageType.DirXML:t="Dir XML";break;case WebInspector.ConsoleMessage.MessageType.Trace:t="Trace";break;case WebInspector.ConsoleMessage.MessageType.StartGroupCollapsed:case WebInspector.ConsoleMessage.MessageType.StartGroup:t="Start Group";break;case WebInspector.ConsoleMessage.MessageType.EndGroup:t="End Group";break;case WebInspector.ConsoleMessage.MessageType.Assert:t="Assert";break;case WebInspector.ConsoleMessage.MessageType.Result:t="Result";break;case WebInspector.ConsoleMessage.MessageType.Profile:case WebInspector.ConsoleMessage.MessageType.ProfileEnd:t="Profiling"}var n;switch(this._message.level){case WebInspector.ConsoleMessage.MessageLevel.Log:n="Log";break;case WebInspector.ConsoleMessage.MessageLevel.Warning:n="Warning";break;case WebInspector.ConsoleMessage.MessageLevel.Debug:n="Debug";break;case WebInspector.ConsoleMessage.MessageLevel.Error:n="Error";break;case WebInspector.ConsoleMessage.MessageLevel.Info:n="Info"}return e+" "+t+" "+n+": "+this.formattedMessage().textContent+"\n"+this._message.url+" line "+this._message.line},get text(){return this._message.messageText}},WebInspector.ConsoleGroupViewMessage=function(e,t,n){console.assert(e.isGroupStartMessage()),WebInspector.ConsoleViewMessage.call(this,e,t,n),this.setCollapsed(e.type===WebInspector.ConsoleMessage.MessageType.StartGroupCollapsed)},WebInspector.ConsoleGroupViewMessage.prototype={setCollapsed:function(e){this._collapsed=e,this._wrapperElement&&this._wrapperElement.classList.toggle("collapsed",this._collapsed)},collapsed:function(){return this._collapsed},toMessageElement:function(){return this._wrapperElement||(WebInspector.ConsoleViewMessage.prototype.toMessageElement.call(this),this._wrapperElement.classList.toggle("collapsed",this._collapsed)),this._wrapperElement},__proto__:WebInspector.ConsoleViewMessage.prototype},WebInspector.ConsoleView=function(){function e(e){var t=this._createViewMessage(e);this._consoleMessageAdded(t)}WebInspector.VBox.call(this),this.registerRequiredCSS("public/css/filter.css"),this._searchableView=new WebInspector.SearchableView(this),this._searchableView.setMinimalSearchQuerySize(0),this._searchableView.show(this.element),this._contentsElement=this._searchableView.element,this._contentsElement.classList.add("console-view"),this._visibleViewMessages=[],this._urlToMessageCount={},this._hiddenByFilterCount=0,this._clearConsoleButton=new WebInspector.StatusBarButton(WebInspector.UIString("Clear console log."),"clear-status-bar-item"),this._clearConsoleButton.addEventListener("click",this._requestClearMessages,this),this._optionByExecutionContext=new Map,this._filter=new WebInspector.ConsoleViewFilter(this),this._viewport=new WebInspector.ViewportControl(this),this._viewport.setStickToBottom(!0),this._viewport.contentElement().classList.add("console-group","console-group-messages"),this._contentsElement.appendChild(this._viewport.element),this._messagesElement=this._viewport.element,this._messagesElement.id="console-messages",this._messagesElement.classList.add("monospace"),this._messagesElement.addEventListener("click",this._messagesClicked.bind(this),!0),this._scrolledToBottom=!0,this._viewportThrottler=new WebInspector.Throttler(50),this._topGroup=WebInspector.ConsoleGroup.createTopGroup(),this._currentGroup=this._topGroup,this._promptElement=this._messagesElement.createChild("div","source-code"),this._promptElement.id="console-prompt",this._promptElement.spellcheck=!1,this._promptElement.contentEditable=!0,this._showAllMessagesCheckbox=new WebInspector.StatusBarCheckbox(WebInspector.UIString("Show all messages")),this._showAllMessagesCheckbox.inputElement.checked=!0,this._showAllMessagesCheckbox.inputElement.addEventListener("change",this._updateMessageList.bind(this),!1),WebInspector.experimentsSettings.workersInMainWindow.isEnabled()||this._showAllMessagesCheckbox.element.classList.add("hidden"),this._registerShortcuts(),this._messagesElement.addEventListener("contextmenu",this._handleContextMenuEvent.bind(this),!1),WebInspector.settings.monitoringXHREnabled.addChangeListener(this._monitoringXHREnabledSettingChanged,this),this._linkifier=new WebInspector.Linkifier,this._consoleMessages=[],this._prompt=new WebInspector.TextPromptWithHistory(WebInspector.ExecutionContextSelector.completionsForTextPromptInCurrentContext),this._prompt.setSuggestBoxEnabled(!0),this._prompt.renderAsBlock(),this._prompt.attach(this._promptElement),this._prompt.proxyElement.addEventListener("keydown",this._promptKeyDown.bind(this),!1),this._prompt.setHistoryData(WebInspector.settings.consoleHistory.get());var t=WebInspector.settings.consoleHistory.get();this._prompt.setHistoryData(t),this._updateFilterStatus(),WebInspector.settings.consoleTimestampsEnabled.addChangeListener(this._consoleTimestampsSettingChanged,this),this._registerWithMessageSink(),WebInspector.targetManager.observeTargets(this),WebInspector.multitargetConsoleModel.addEventListener(WebInspector.ConsoleModel.Events.ConsoleCleared,this._consoleCleared,this),WebInspector.multitargetConsoleModel.addEventListener(WebInspector.ConsoleModel.Events.MessageAdded,this._onConsoleMessageAdded,this),WebInspector.multitargetConsoleModel.addEventListener(WebInspector.ConsoleModel.Events.CommandEvaluated,this._commandEvaluated,this),WebInspector.multitargetConsoleModel.messages().forEach(e,this)
},WebInspector.ConsoleView.prototype={itemCount:function(){return this._visibleViewMessages.length},itemElement:function(e){return this._visibleViewMessages[e]},fastHeight:function(e){return this._visibleViewMessages[e].fastHeight()},minimumRowHeight:function(){return 16},targetAdded:function(e){this._viewport.invalidate(),e.runtimeModel.executionContexts().forEach(this._executionContextCreated,this),e.runtimeModel.addEventListener(WebInspector.RuntimeModel.Events.ExecutionContextCreated,this._onExecutionContextCreated,this),e.runtimeModel.addEventListener(WebInspector.RuntimeModel.Events.ExecutionContextDestroyed,this._onExecutionContextDestroyed,this)},targetRemoved:function(e){this._clearExecutionContextsForTarget(e),e.runtimeModel.removeEventListener(WebInspector.RuntimeModel.Events.ExecutionContextCreated,this._onExecutionContextCreated,this),e.runtimeModel.removeEventListener(WebInspector.RuntimeModel.Events.ExecutionContextDestroyed,this._onExecutionContextDestroyed,this)},_registerWithMessageSink:function(){function e(e){this._addSinkMessage(e.data)}WebInspector.console.messages().forEach(this._addSinkMessage,this),WebInspector.console.addEventListener(WebInspector.Console.Events.MessageAdded,e,this)},_addSinkMessage:function(e){var t=new WebInspector.ConsoleMessage(null,WebInspector.ConsoleMessage.MessageSource.Other,e.level,e.text,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e.timestamp);this._addConsoleMessage(t)},_consoleTimestampsSettingChanged:function(e){var t=e.data;this._updateMessageList(),this._consoleMessages.forEach(function(e){e.updateTimestamp(t)})},defaultFocusedElement:function(){return this._promptElement},_onFiltersToggled:function(e){var t=e.data;this._filtersContainer.classList.toggle("hidden",!t)},_titleFor:function(e){var t=e.name;if(e.isMainWorldContext&&e.frameId){var n=e.target().resourceTreeModel.frameForId(e.frameId);t=n?n.displayName():t}e.isMainWorldContext||(t="    "+t);var i=50;return t.trimMiddle(i)},_onExecutionContextCreated:function(e){var t=e.data;this._executionContextCreated(t)},_executionContextCreated:function(e){var t=document.createElement("option");t.__executionContext=e,t.text=this._titleFor(e),this._optionByExecutionContext.put(e,t);for(var n=!1,i=this._executionContextSelector.selectElement().options,s=null,o=0;o<i.length;++o){var r=i[o].__executionContext,a=e.target()===r.target()&&e.frameId===r.frameId;if(n|=a,a&&WebInspector.ExecutionContext.comparator(r,e)>0||n&&!a){s=i[o];break}}this._executionContextSelector.selectElement().insertBefore(t,s),e===WebInspector.context.flavor(WebInspector.ExecutionContext)&&this._executionContextSelector.select(t)},_onExecutionContextDestroyed:function(e){var t=e.data;this._executionContextDestroyed(t)},_executionContextDestroyed:function(e){var t=this._optionByExecutionContext.remove(e);t.remove()},_clearExecutionContextsForTarget:function(e){for(var t=this._optionByExecutionContext.keys(),n=0;n<t.length;++n)t[n].target()===e&&this._executionContextDestroyed(t[n])},_executionContextChanged:function(){var e=this._currentExecutionContext();WebInspector.context.setFlavor(WebInspector.ExecutionContext,e),this._prompt.clearAutoComplete(!0),this._showAllMessagesCheckbox.checked()||this._updateMessageList()},_executionContextChangedExternally:function(e){var t=e.data;if(t)for(var n=this._executionContextSelector.selectElement().options,i=0;i<n.length;++i)n[i].__executionContext===t&&this._executionContextSelector.select(n[i])},_currentExecutionContext:function(){var e=this._executionContextSelector.selectedOption();return e?e.__executionContext:null},willHide:function(){this._prompt.hideSuggestBox(),this._prompt.clearAutoComplete(!0)},wasShown:function(){this._viewport.refresh(),this._prompt.isCaretInsidePrompt()||this._prompt.moveCaretToEndOfPrompt()},focus:function(){this._promptElement!==WebInspector.currentFocusElement()&&(WebInspector.setCurrentFocusElement(this._promptElement),this._prompt.moveCaretToEndOfPrompt())},storeScrollPositions:function(){WebInspector.View.prototype.storeScrollPositions.call(this),this._scrolledToBottom=this._messagesElement.isScrolledToBottom()},restoreScrollPositions:function(){this._scrolledToBottom?this._immediatelyScrollIntoView():WebInspector.View.prototype.restoreScrollPositions.call(this)},onResize:function(){this._scheduleViewportRefresh(),this._prompt.hideSuggestBox(),this.restoreScrollPositions()},_scheduleViewportRefresh:function(){function e(e){this._viewport.invalidate(),e()}this._viewportThrottler.schedule(e.bind(this))},_immediatelyScrollIntoView:function(){this._promptElement.scrollIntoView(!0)},_updateFilterStatus:function(){},_consoleMessageAdded:function(e){function t(e,t){return WebInspector.ConsoleMessage.timestampComparator(e.consoleMessage(),t.consoleMessage())}var n=insertionIndexForObjectInListSortedByFunction(e,this._consoleMessages,t,!0);this._consoleMessages.splice(n,0,e);var i=e.consoleMessage();this._urlToMessageCount[i.url]?this._urlToMessageCount[i.url]++:this._urlToMessageCount[i.url]=1,this._tryToCollapseMessages(e,this._visibleViewMessages.peekLast())||(this._filter.shouldBeVisible(e)?this._showConsoleMessage(e):(this._hiddenByFilterCount++,this._updateFilterStatus()))},_onConsoleMessageAdded:function(e){var t=e.data;this._addConsoleMessage(t)},_addConsoleMessage:function(e){var t=this._createViewMessage(e);this._consoleMessageAdded(t),this._scheduleViewportRefresh()},_showConsoleMessage:function(e){var t=this._visibleViewMessages.peekLast();if(e.consoleMessage().type===WebInspector.ConsoleMessage.MessageType.EndGroup)return t&&!this._currentGroup.messagesHidden()&&t.incrementCloseGroupDecorationCount(),void(this._currentGroup=this._currentGroup.parentGroup());if(!this._currentGroup.messagesHidden()){var n=e.consoleMessage().originatingMessage();t&&n&&t.consoleMessage()===n&&t.toMessageElement().classList.add("console-adjacent-user-command-result"),this._visibleViewMessages.push(e),this._searchRegex&&e.matchesRegex(this._searchRegex)&&(this._searchResults.push(e),this._searchableView.updateSearchMatchesCount(this._searchResults.length))}e.consoleMessage().isGroupStartMessage()&&(this._currentGroup=new WebInspector.ConsoleGroup(this._currentGroup,e))},_createViewMessage:function(e){var t=this._currentGroup.nestingLevel();switch(e.type){case WebInspector.ConsoleMessage.MessageType.Command:return new WebInspector.ConsoleCommand(e,t);case WebInspector.ConsoleMessage.MessageType.Result:return new WebInspector.ConsoleCommandResult(e,this._linkifier,t);case WebInspector.ConsoleMessage.MessageType.StartGroupCollapsed:case WebInspector.ConsoleMessage.MessageType.StartGroup:return new WebInspector.ConsoleGroupViewMessage(e,this._linkifier,t);default:return new WebInspector.ConsoleViewMessage(e,this._linkifier,t)}},_consoleCleared:function(){this._clearCurrentSearchResultHighlight(),this._consoleMessages=[],this._scrolledToBottom=!0,this._updateMessageList(),this._searchRegex&&this._searchableView.updateSearchMatchesCount(0),this._linkifier.reset()},_handleContextMenuEvent:function(e){function t(){WebInspector.settings.monitoringXHREnabled.set(!WebInspector.settings.monitoringXHREnabled.get())}if(!e.target.enclosingNodeOrSelfWithNodeName("a")){var n=new WebInspector.ContextMenu(e);n.appendCheckboxItem(WebInspector.UIString("Log XMLHttpRequests"),t,WebInspector.settings.monitoringXHREnabled.get());var i=e.target.enclosingNodeOrSelfWithClass("console-message-wrapper"),s=i?i.message.consoleMessage():null,o=n.appendSubMenuItem(WebInspector.UIString("Filter"));if(s&&s.url){var r=WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Hide messages from %s":"Hide Messages from %s",new WebInspector.ParsedURL(s.url).displayName);o.appendItem(r,this._filter.addMessageURLFilter.bind(this._filter,s.url))}o.appendSeparator();var a=o.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Unhide all":"Unhide All"),this._filter.removeMessageURLFilter.bind(this._filter));o.appendSeparator();var l=!1;for(var c in this._filter.messageURLFilters)o.appendCheckboxItem(String.sprintf("%s (%d)",new WebInspector.ParsedURL(c).displayName,this._urlToMessageCount[c]),this._filter.removeMessageURLFilter.bind(this._filter,c),!0),l=!0;o.setEnabled(l||s&&s.url),a.setEnabled(l),n.appendSeparator(),n.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Clear console":"Clear Console"),this._requestClearMessages.bind(this));var h=s?s.request:null;h&&h.type===WebInspector.resourceTypes.XHR&&(n.appendSeparator(),n.appendItem(WebInspector.UIString("Replay XHR"),NetworkAgent.replayXHR.bind(null,h.requestId))),n.show()}},_tryToCollapseMessages:function(e,t){return!WebInspector.settings.consoleTimestampsEnabled.get()&&t&&!e.consoleMessage().isGroupMessage()&&e.consoleMessage().isEqual(t.consoleMessage())?(t.incrementRepeatCount(),!0):!1},_updateMessageList:function(){var e;for(this._topGroup=WebInspector.ConsoleGroup.createTopGroup(),this._currentGroup=this._topGroup,this._searchResults=[],this._hiddenByFilterCount=0,e=0;e<this._visibleViewMessages.length;++e)this._visibleViewMessages[e].resetCloseGroupDecorationCount(),this._visibleViewMessages[e].resetIncrementRepeatCount();for(this._visibleViewMessages=[],e=0;e<this._consoleMessages.length;++e){var t=this._consoleMessages[e];this._tryToCollapseMessages(t,this._visibleViewMessages.peekLast())||(this._filter.shouldBeVisible(t)?this._showConsoleMessage(t):this._hiddenByFilterCount++)}this._updateFilterStatus(),this._viewport.invalidate()},_monitoringXHREnabledSettingChanged:function(e){var t=e.data;WebInspector.targetManager.targets().forEach(function(e){e.consoleAgent().setMonitoringXHREnabled(t)})},_messagesClicked:function(e){!this._prompt.isCaretInsidePrompt()&&window.getSelection().isCollapsed&&this._prompt.moveCaretToEndOfPrompt();var t=e.target.enclosingNodeOrSelfWithClass("console-group-title");if(t){var n=t.parentElement.message;n.setCollapsed(!n.collapsed()),this._updateMessageList()}},_registerShortcuts:function(){this._shortcuts={};var e=WebInspector.KeyboardShortcut,t=e.makeDescriptor("s",WebInspector.KeyboardShortcut.Modifiers.Ctrl);this._shortcuts[t.key]=jsh.save.bind(jsh);var n=e.makeDescriptor("l",WebInspector.KeyboardShortcut.Modifiers.Ctrl);this._shortcuts[n.key]=this._requestClearMessages.bind(this);var i=[n];if(WebInspector.isMac()){var s=e.makeDescriptor("k",WebInspector.KeyboardShortcut.Modifiers.Meta);this._shortcuts[s.key]=this._requestClearMessages.bind(this),i.unshift(s)}var o=e.makeDescriptor("u",WebInspector.KeyboardShortcut.Modifiers.Ctrl);this._shortcuts[o.key]=this._clearPromptBackwards.bind(this),i=[e.makeDescriptor(e.Keys.Down),e.makeDescriptor(e.Keys.Up)],WebInspector.isMac()&&(i=[e.makeDescriptor("N",e.Modifiers.Alt),e.makeDescriptor("P",e.Modifiers.Alt)])},_clearPromptBackwards:function(){this._prompt.text=""},_requestClearMessages:function(){for(var e=WebInspector.targetManager.targets(),t=0;t<e.length;++t)e[t].consoleModel.requestClearMessages()},_promptKeyDown:function(e){if(isEnterKey(e))return console.log("enter!"),void this._enterKeyPressed(e);var t=WebInspector.KeyboardShortcut.makeKeyFromEvent(e),n=this._shortcuts[t];n&&(n(),e.preventDefault())},_enterKeyPressed:function(e){if(!(e.altKey||e.ctrlKey||e.shiftKey)){e.consume(!0),this._prompt.clearAutoComplete(!0);var t=this._prompt.text;t.length&&this._appendCommand(t,!0)}},_printResult:function(e,t,n){function i(i,s,r){var a=t?WebInspector.ConsoleMessage.MessageLevel.Error:WebInspector.ConsoleMessage.MessageLevel.Log,l=new WebInspector.ConsoleMessage(o,WebInspector.ConsoleMessage.MessageSource.JS,a,"",WebInspector.ConsoleMessage.MessageType.Result,i,s,r,void 0,[e]);l.setOriginatingMessage(n),o.consoleModel.addMessage(l)}function s(e){if(!e)return void i();var t,n,s,r=o.debuggerModel.scriptForId(e.location.scriptId);r&&r.sourceURL&&(t=r.sourceURL,n=e.location.lineNumber+1,s=e.location.columnNumber+1),i(t,n,s)}if(e){var o=e.target();return"function"!==e.type?void i():void e.functionDetails(s)}},_appendCommand:function(e,t){this._prompt.text="";var n=WebInspector.context.flavor(WebInspector.ExecutionContext);n&&WebInspector.ConsoleModel.evaluateCommandInConsole(n,e,t)},_commandEvaluated:function(e){var t=e.data;this._prompt.pushHistoryItem(t.text),WebInspector.settings.consoleHistory.set(this._prompt.historyData.slice(-30)),this._printResult(t.result,t.wasThrown,t.commandMessage)},elementsToRestoreScrollPositionsFor:function(){return[this._messagesElement]},searchCanceled:function(){this._clearCurrentSearchResultHighlight(),delete this._searchResults,delete this._searchRegex,this._viewport.refresh()},performSearch:function(e,t,n){this.searchCanceled(),this._searchableView.updateSearchMatchesCount(0),this._searchRegex=createPlainTextSearchRegex(e,"gi"),this._searchResults=[];for(var i=0;i<this._visibleViewMessages.length;i++)this._visibleViewMessages[i].matchesRegex(this._searchRegex)&&this._searchResults.push(i);this._searchableView.updateSearchMatchesCount(this._searchResults.length),this._currentSearchResultIndex=-1,t&&this._searchResults.length&&this._jumpToSearchResult(n?-1:0),this._viewport.refresh()},jumpToNextSearchResult:function(){this._searchResults&&this._searchResults.length&&this._jumpToSearchResult(this._currentSearchResultIndex+1)},jumpToPreviousSearchResult:function(){this._searchResults&&this._searchResults.length&&this._jumpToSearchResult(this._currentSearchResultIndex-1)},_clearCurrentSearchResultHighlight:function(){if(this._searchResults){var e=this._visibleViewMessages[this._searchResults[this._currentSearchResultIndex]];e&&e.clearHighlight(),this._currentSearchResultIndex=-1}},_jumpToSearchResult:function(e){e=mod(e,this._searchResults.length),this._clearCurrentSearchResultHighlight(),this._currentSearchResultIndex=e,this._searchableView.updateCurrentMatchIndex(this._currentSearchResultIndex);var t=this._searchResults[e];this._viewport.scrollItemIntoView(t),this._visibleViewMessages[t].highlightSearchResults(this._searchRegex)},__proto__:WebInspector.VBox.prototype},WebInspector.ConsoleViewFilter=function(e){this._view=e,this._messageURLFilters=WebInspector.settings.messageURLFilters.get(),this._filterChanged=this.dispatchEventToListeners.bind(this,WebInspector.ConsoleViewFilter.Events.FilterChanged)},WebInspector.ConsoleViewFilter.Events={FilterChanged:"FilterChanged"},WebInspector.ConsoleViewFilter.prototype={addFilters:function(e){this._textFilterUI=new WebInspector.TextFilterUI(!0),this._textFilterUI.addEventListener(WebInspector.FilterUI.Events.FilterChanged,this._textFilterChanged,this),e.addFilter(this._textFilterUI);var t=[{name:"error",label:WebInspector.UIString("Errors")},{name:"warning",label:WebInspector.UIString("Warnings")},{name:"info",label:WebInspector.UIString("Info")},{name:"log",label:WebInspector.UIString("Logs")},{name:"debug",label:WebInspector.UIString("Debug")}];this._levelFilterUI=new WebInspector.NamedBitSetFilterUI(t,WebInspector.settings.messageLevelFilters),this._levelFilterUI.addEventListener(WebInspector.FilterUI.Events.FilterChanged,this._filterChanged,this),e.addFilter(this._levelFilterUI)},_textFilterChanged:function(){this._filterRegex=this._textFilterUI.regex(),this._filterChanged()},addMessageURLFilter:function(e){this._messageURLFilters[e]=!0,WebInspector.settings.messageURLFilters.set(this._messageURLFilters),this._filterChanged()},removeMessageURLFilter:function(e){e?delete this._messageURLFilters[e]:this._messageURLFilters={},WebInspector.settings.messageURLFilters.set(this._messageURLFilters),this._filterChanged()},get messageURLFilters(){return this._messageURLFilters},shouldBeVisible:function(e){var t=e.consoleMessage(),n=WebInspector.context.flavor(WebInspector.ExecutionContext);return t.target()?this._view._showAllMessagesCheckbox.checked()||!n||t.target()===n.target()&&t.executionContextId===n.id?e.consoleMessage().isGroupMessage()?!0:t.type===WebInspector.ConsoleMessage.MessageType.Result||t.type===WebInspector.ConsoleMessage.MessageType.Command?!0:t.url&&this._messageURLFilters[t.url]?!1:this._filterRegex&&(this._filterRegex.lastIndex=0,!e.matchesRegex(this._filterRegex))?!1:!0:!1:!0},reset:function(){this._messageURLFilters={},WebInspector.settings.messageURLFilters.set(this._messageURLFilters),WebInspector.settings.messageLevelFilters.set({}),this._view._showAllMessagesCheckbox.inputElement.checked=!0,this._textFilterUI.setValue(""),this._filterChanged()},__proto__:WebInspector.Object.prototype},WebInspector.ConsoleCommand=function(e,t){WebInspector.ConsoleViewMessage.call(this,e,null,t)},WebInspector.ConsoleCommand.prototype={clearHighlight:function(){var e=this._formattedCommand;delete this._formattedCommand,this._formatCommand(),this._element.replaceChild(this._formattedCommand,e)},highlightSearchResults:function(e){e.lastIndex=0;for(var t=e.exec(this.text),n=[];t;)n.push(new WebInspector.SourceRange(t.index,t[0].length)),t=e.exec(this.text);WebInspector.highlightSearchResults(this._formattedCommand,n),this._element.scrollIntoViewIfNeeded()},matchesRegex:function(e){return e.lastIndex=0,e.test(this.text)},contentElement:function(){return this._element||(this._element=document.createElementWithClass("div","console-user-command"),this._element.message=this,this._formatCommand(),this._element.appendChild(this._formattedCommand)),this._element},_formatCommand:function(){this._formattedCommand=document.createElementWithClass("span","console-message-text source-code"),this._formattedCommand.textContent=this.text},__proto__:WebInspector.ConsoleViewMessage.prototype},WebInspector.ConsoleCommandResult=function(e,t,n){WebInspector.ConsoleViewMessage.call(this,e,t,n)},WebInspector.ConsoleCommandResult.prototype={useArrayPreviewInFormatter:function(){return!1},contentElement:function(){var e=WebInspector.ConsoleViewMessage.prototype.contentElement.call(this);return e.classList.add("console-user-command-result"),e},__proto__:WebInspector.ConsoleViewMessage.prototype},WebInspector.ConsoleGroup=function(e,t){this._parentGroup=e,this._nestingLevel=e?e.nestingLevel()+1:0,this._messagesHidden=t&&t.collapsed()||this._parentGroup&&this._parentGroup.messagesHidden()},WebInspector.ConsoleGroup.createTopGroup=function(){return new WebInspector.ConsoleGroup(null,null)},WebInspector.ConsoleGroup.prototype={messagesHidden:function(){return this._messagesHidden},nestingLevel:function(){return this._nestingLevel},parentGroup:function(){return this._parentGroup||this}},WebInspector.ConsoleView.ShowConsoleActionDelegate=function(){},WebInspector.ConsoleView.ShowConsoleActionDelegate.prototype={handleAction:function(){return WebInspector.console.show(),!0}},WebInspector.ConsolePanel=function(){WebInspector.Panel.call(this,"console"),this._view=WebInspector.ConsolePanel._view()},WebInspector.ConsolePanel._view=function(){return WebInspector.ConsolePanel._consoleView||(WebInspector.ConsolePanel._consoleView=new WebInspector.ConsoleView(WebInspector.isWorkerFrontend())),WebInspector.ConsolePanel._consoleView},WebInspector.ConsolePanel.prototype={defaultFocusedElement:function(){return this._view.defaultFocusedElement()},wasShown:function(){WebInspector.Panel.prototype.wasShown.call(this),this._view.show(this.element)},willHide:function(){WebInspector.Panel.prototype.willHide.call(this),WebInspector.ConsolePanel.WrapperView._instance&&WebInspector.ConsolePanel.WrapperView._instance._showViewInWrapper()},__proto__:WebInspector.Panel.prototype},WebInspector.ConsolePanel.WrapperView=function(){WebInspector.VBox.call(this),this.element.classList.add("console-view-wrapper"),WebInspector.ConsolePanel.WrapperView._instance=this,this._view=WebInspector.ConsolePanel._view(),this.wasShown()},WebInspector.ConsolePanel.WrapperView.prototype={wasShown:function(){WebInspector.inspectorView.currentPanel()&&"console"===WebInspector.inspectorView.currentPanel().name||this._showViewInWrapper()},defaultFocusedElement:function(){return this._view.defaultFocusedElement()},focus:function(){this._view.focus()},_showViewInWrapper:function(){this._view.show(this.element)},__proto__:WebInspector.VBox.prototype},WebInspector.ConsolePanel.ConsoleRevealer=function(){},WebInspector.ConsolePanel.ConsoleRevealer.prototype={reveal:function(){var e=WebInspector.ConsolePanel._view();return e.isShowing()?void e.focus():void WebInspector.inspectorView.showViewInDrawer("console")}},function(){function e(e){e.secret=i,t.evalWindow.postMessage(e,"*")}var t=window.jsh={};t.save=function(){var e={commands:this.getCommandsText()},t=new XMLHttpRequest;t.open("POST","save"),t.setRequestHeader("Content-Type","application/json"),t.responseType="json",t.onload=function(){console.log(t),history.replaceState(null,"","/"+t.response.id),WebInspector.console.log("Saved. ID: "+t.response.id)},t.send(JSON.stringify(e))},t.loadFromText=function(e){function t(){var e=n.shift();return console.warn(e),e?void WebInspector.ConsolePanel._view()._appendCommand(e,!0):void i.removeEventListener(s,t)}if(!e)return void console.warn("what do you want from me?");var n=JSON.parse(e);if(Array.isArray(n)&&n.length){var i=WebInspector.targetManager.targets()[0].consoleModel,s=WebInspector.ConsoleModel.Events.CommandEvaluated;i.addEventListener(s,t),t()}},t.getCommandsText=function(){function e(e){return e instanceof WebInspector.ConsoleCommand}function t(e){return e.text}var n=WebInspector.ConsolePanel._view()._consoleMessages;return n.filter(e).map(t)},t.handleMessage=function(t){{var n=t.method;t.params}console.warn("handleMessage",t);var i=["Runtime.enable","Console.enable","Runtime.isRunRequired"];return i.indexOf(n)>-1?!1:(t.action="bridge",void e(t))};var n={evalFrame:!1,webinspector:!1};t.maybeLoad=function(){if(n.evalFrame&&n.webinspector){localStorage.introduced||(localStorage.introduced=!0,t.introduce());var e=document.getElementById("jsh-commands").textContent;e&&t.loadFromText(e)}},t.evalFrame=document.createElement("iframe"),t.evalFrame.src="evalFrame.html",t.evalFrame.hidden=!0,t.evalFrame.sandbox="allow-scripts",document.body.appendChild(t.evalFrame),t.evalWindow=t.evalFrame.contentWindow;var i=function(){var e=new Uint32Array(10);crypto.getRandomValues(e);var t=[].slice.call(e);return t.map(String.fromCharCode).join("")}();t.evalFrame.onload=function(){t.evalWindow.postMessage({action:"secret",secret:"",newSecret:i},"*"),n.evalFrame=!0,t.maybeLoad()},window.addEventListener("message",function(e){var n=e.data;return e.source!==t.evalWindow||n.secret!==i?void console.warn(e):void InspectorBackend._connection.dispatch(n)}),window.addEventListener("DOMContentLoaded",function(){setTimeout(function(){n.webinspector=!0,t.maybeLoad()},50)}),t.introduce=function(){var e=function(){/** @preserve
     _     _
    (_)   | |       Welcome to jsh, an embedded Chrome dev-tools console!
     _ ___| |__
    | / __| '_ \
    | \__ \ | | |   Play around with javascript, hit save (Ctrl+S), share with
    | |___/_| |_|   friends and strangers!
   _/ |
  |__/

        * Source code on https://github.com/Zirak/jsh.
        * Bug reports more than welcome: https://github.com/Zirak/jsh/issues
        * Hit me on twitter: @zirakertan

        Hit Ctrl+L to clear this message.
    */
console.lulz=4,delete console.lulz}.toString().split("\n").slice(1,-2).join("\n");WebInspector.console.log(e)}}();
//# sourceMappingURL=everything.min.js.map